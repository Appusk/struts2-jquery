/*
 jquery.datatables.struts2.js

 Integration of DataTables with struts 2

 Requires use of jquery.struts2.js

 Copyright (c) 2010 - 2015 Johannes Geppert http://www.jgeppert.com

 Dual licensed under the MIT and GPL licenses:
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl.html

*/
'use strict';(function(d){d.struts2_jquery_datatables={handler:{clear_datatables:"_s2j_clear_datatables",reload_datatables:"_s2j_ajax_reload_datatables",redraw_datatables:"_s2j_redraw_datatables",page_datatables:"_s2j_page_datatables",page_length_datatables:"_s2j_page_length_datatables",order_datatables:"_s2j_order_datatables",search_datatables:"_s2j_search_datatables",clear_state_datatables:"_s2j_clear_state_datatables",save_state_datatables:"_s2j_save_state_datatables"},serializeServerSideParamsWithOGNLPath:function(b){var a=
{draw:b.draw,length:b.length,start:b.start};b.columns&&jQuery.each(b.columns,function(b,c){a["columns["+b+"].data"]=c.data;a["columns["+b+"].name"]=c.name;a["columns["+b+"].orderable"]=c.orderable;a["columns["+b+"].searchable"]=c.searchable;c.search&&(a["columns["+b+"].search.regex"]=c.search.regex,a["columns["+b+"].search.value"]=c.search.value)});b.order&&jQuery.each(b.order,function(b,c){a["order["+b+"].column"]=c.column;a["order["+b+"].dir"]=c.dir});b.search&&(a["search.regex"]=b.search.regex,
a["search.value"]=b.search.value);return a},parseDatatablesParams:function(b,a,d){if(!b.data("_s2jdt_init")){b.data("_s2jdt_init",!0);var c=this;if(a.autoFill){c.require("js/plugins/dataTables.autoFill"+c.minSuffix+".js");"default"!==a.theme&&c.require("themes/"+a.theme+"/js/autoFill."+a.theme+c.minSuffix+".js");c.requireCss("themes/"+a.theme+"/css/autoFill."+a.theme+c.minSuffix+".css");if(a.onAutoFillTopics)b.on("autoFill.dt",function(k,h,f){var e={};e.event=k;e.datatable=h;e.cells=f;e.xhr=xhr;c.publishTopic(b,
a.onAutoFillTopics,e);c.publishTopic(b,a.onalw,e)});if(a.onBeforeAutoFillTopics)b.on("preAutoFill.dt",function(k,h,f){var e={};e.event=k;e.datatable=h;e.cells=f;e.xhr=xhr;c.publishTopic(b,a.onBeforeAutoFillTopics,e);c.publishTopic(b,a.onalw,e)})}if(a.buttons&&(c.require("js/plugins/dataTables.buttons"+c.minSuffix+".js"),c.require("js/plugins/buttons.html5"+c.minSuffix+".js"),c.require("js/plugins/buttons.print"+c.minSuffix+".js"),c.require("js/plugins/buttons.colVis"+c.minSuffix+".js"),"default"!==
a.theme&&c.require("themes/"+a.theme+"/js/buttons."+a.theme+c.minSuffix+".js"),c.requireCss("themes/"+a.theme+"/css/buttons."+a.theme+c.minSuffix+".css"),a.onButtonActionTopics))b.on("button-action.dt",function(k,h,f,e,g){var d={};d.event=k;d.buttonApi=h;d.datatable=f;d.node=e;d.config=g;c.publishTopic(b,a.onButtonActionTopics,d);c.publishTopic(b,a.onalw,d)});if(a.colReorder&&(c.require("js/plugins/dataTables.colReorder"+c.minSuffix+".js"),c.requireCss("themes/"+a.theme+"/css/colReorder."+a.theme+
c.minSuffix+".css"),a.onColumnReorderTopics))b.on("column-reorder.dt",function(k,h,f){var e={};e.event=k;e.settings=h;e.details=f;c.publishTopic(b,a.onColumnReorderTopics,e);c.publishTopic(b,a.onalw,e)});a.fixedColumns&&(c.require("js/plugins/dataTables.fixedColumns"+c.minSuffix+".js"),c.requireCss("themes/"+a.theme+"/css/fixedColumns."+a.theme+c.minSuffix+".css"));a.fixedHeader&&(c.require("js/plugins/dataTables.fixedHeader"+c.minSuffix+".js"),c.requireCss("themes/"+a.theme+"/css/fixedHeader."+a.theme+
c.minSuffix+".css"));if(a.keys){c.require("js/plugins/dataTables.keyTable"+c.minSuffix+".js");c.requireCss("themes/"+a.theme+"/css/keyTable."+a.theme+c.minSuffix+".css");if(a.onKeyBlurTopics)b.on("key-blur.dt",function(k,h,f){var e={};e.event=k;e.datatable=h;e.cell=f;c.publishTopic(b,a.onKeyBlurTopics,e);c.publishTopic(b,a.onalw,e)});if(a.onKeyFocusTopics)b.on("key-focus.dt",function(k,h,f,e){var g={};g.event=k;g.datatable=h;g.cell=f;g.originalEvent=e;c.publishTopic(b,a.onKeyFocusTopics,g);c.publishTopic(b,
a.onalw,g)});if(a.onOtherKeyTopics)b.on("key.dt",function(k,h,f,e,g){var d={};d.event=k;d.key=f;d.datatable=h;d.cell=e;d.originalEvent=g;c.publishTopic(b,a.onOtherKeyTopics,d);c.publishTopic(b,a.onalw,d)})}if(a.responsive){c.require("js/plugins/dataTables.responsive"+c.minSuffix+".js");"default"!==a.theme&&c.require("themes/"+a.theme+"/js/responsive."+a.theme+c.minSuffix+".js");c.requireCss("themes/"+a.theme+"/css/responsive."+a.theme+c.minSuffix+".css");if(a.onResponsiveDisplayTopics)b.on("responsive-display.dt",
function(k,d,f,e,g){var l={};l.event=k;l.datatable=d;l.row=f;l.showHide=e;l.update=g;c.publishTopic(b,a.onResponsiveDisplayTopics,l);c.publishTopic(b,a.onalw,l)});if(a.onResponsiveResizeTopics)b.on("responsive-resize.dt",function(k,d,f){f={};f.event=k;f.datatable=d;f.columns;c.publishTopic(b,a.onResponsiveResizeTopics,f);c.publishTopic(b,a.onalw,f)})}if(a.rowReorder){c.require("js/plugins/dataTables.rowReorder"+c.minSuffix+".js");c.requireCss("themes/"+a.theme+"/css/rowReorder."+a.theme+c.minSuffix+
".css");if(a.onRowReorderTopics)b.on("row-reorder.dt",function(k,d,f){var e={};e.event=k;e.details=d;e.edit=f;c.publishTopic(b,a.onRowReorderTopics,e);c.publishTopic(b,a.onalw,e)});if(a.onRowReorderedTopics)b.on("row-reordered.dt",function(d,h,f){var e={};e.event=d;e.details=h;e.edit=f;c.publishTopic(b,a.onRowReorderedTopics,e);c.publishTopic(b,a.onalw,e)})}a.scroller&&(c.require("js/plugins/dataTables.scroller"+c.minSuffix+".js"),c.requireCss("themes/"+a.theme+"/css/scroller."+a.theme+c.minSuffix+
".css"));if(a.select){c.require("js/plugins/dataTables.select"+c.minSuffix+".js");c.requireCss("themes/"+a.theme+"/css/select."+a.theme+c.minSuffix+".css");if(a.onDeselectTopics)b.on("deselect.dt",function(d,h,f,e){var g={};g.event=d;g.dt=h;g.type=f;g.indexes=e;c.publishTopic(b,a.onDeselectTopics,g);c.publishTopic(b,a.onalw,g)});if(a.onSelectTopics)b.on("select.dt",function(d,h,f,e){var g={};g.event=d;g.dt=h;g.type=f;g.indexes=e;c.publishTopic(b,a.onSelectTopics,g);c.publishTopic(b,a.onalw,g)});if(a.onSelectItemsTopics)b.on("selectItems.dt",
function(d,h,f){var e={};e.event=d;e.dt=h;e.items=f;c.publishTopic(b,a.onSelectItemsTopics,e);c.publishTopic(b,a.onalw,e)});if(a.onSelectStyleTopics)b.on("selectStyle.dt",function(d,h,f){var e={};e.event=d;e.dt=h;e.style=f;c.publishTopic(b,a.onSelectStyleTopics,e);c.publishTopic(b,a.onalw,e)});if(a.onUserSelectTopics)b.on("user-select.dt",function(d,h,f,e,g){var l={};l.event=d;l.dt=h;l.type=f;l.cell=e;l.originalEvent=g;c.publishTopic(b,a.onUserSelectTopics,l);c.publishTopic(b,a.onalw,l)})}if(a.onbef)b.on("preXhr.dt",
function(d,h,f){var e={};e.event=d;e.settings=h;e.data=f;c.publishTopic(b,ctopic,e);c.publishTopic(b,a.onalw,e)});if(a.ajax)b.on("xhr.dt",function(d,h,f,e){if(a.oncom){var g={};g.event=d;g.settings=h;g.json=f;g.xhr=e;c.publishTopic(b,a.oncom,g);c.publishTopic(b,a.onalw,g)}if(null!=f)a.onsuc&&(g={},g.event=d,g.json=f,g.settings=h,g.xhr=e,c.publishTopic(b,a.onsuc,g),c.publishTopic(b,a.onalw,g));else if(a.onerr)return g={},g.event=d,g.json=f,g.settings=h,g.xhr=e,c.publishTopic(b,onerr,g),c.publishTopic(b,
a.onalw,g),!0});if(a.serverSide){if("string"===typeof a.ajax){var n=a.ajax.slice(0);d.ajax={url:n}}if("object"===typeof d.ajax&&(!d.ajax.contentType||-1==d.ajax.contentType.indexOf("json")))if(d.ajax.data&&"function"==typeof d.ajax.data){var p=d.ajax.data;d.ajax.data=function(b){b=p(c.serializeServerSideParamsWithOGNLPath(b));d.ajax.type&&"GET"!==a.ajax.type||(d.ajax.processData=!1);return b}}else d.ajax.data=function(a){d.ajax.type&&"GET"!==d.ajax.type||(d.ajax.processData=!1);return c.serializeServerSideParamsWithOGNLPath(a)}}if(a.onColumnSizingTopics)b.on("column-sizing.dt",
function(d,h){var f={};f.event=d;f.settings=h;c.publishTopic(b,a.onColumnSizingTopics,f);c.publishTopic(b,a.onalw,f)});if(a.onColumnVisibilityTopics)b.on("column-visibility.dt",function(d,h,f,e){var g={};g.event=d;g.column=f;g.settings=h;g.state=e;c.publishTopic(b,a.onColumnVisibilityTopics,g);c.publishTopic(b,a.onalw,g)});if(a.onDestroyTopics)b.on("destroy.dt",function(d,h){var f={};f.event=d;f.settings=h;c.publishTopic(b,a.onDestroyTopics,f);c.publishTopic(b,a.onalw,f)});if(a.onDrawTopics)b.on("draw.dt",
function(d,h){var f={};f.event=d;f.settings=h;c.publishTopic(b,a.onDrawTopics,f);c.publishTopic(b,a.onalw,f)});if(a.onProcessingErrorTopics)b.on("error.dt",function(d,h,f,e){var g={};g.event=d;g.techNote=f;g.settings=h;g.message=e;c.publishTopic(b,a.onProcessingErrorTopics,g);c.publishTopic(b,a.onalw,g)});if(a.onInitCompleteTopics)b.on("init.dt",function(d,h,f){var e={};e.event=d;e.json=f;e.settings=h;c.publishTopic(b,a.onInitCompleteTopics,e);c.publishTopic(b,a.onalw,e)});if(a.onPageLengthChangeTopics)b.on("length.dt",
function(d,h,f){var e={};e.event=d;e.len=f;e.settings=h;c.publishTopic(b,a.onPageLengthChangeTopics,e);c.publishTopic(b,a.onalw,e)});if(a.onOrderTopics)b.on("order.dt",function(d,h){var f={};f.event=d;f.settings=h;c.publishTopic(b,a.onOrderTopics,f);c.publishTopic(b,a.onalw,f)});if(a.onPageChangeTopics)b.on("page.dt",function(d,h,f,e){f={};f.event=d;f.settings=h;c.publishTopic(b,a.onPageChangeTopics,f);c.publishTopic(b,a.onalw,f)});if(a.onInitStartTopics)b.on("preInit.dt",function(d,h){var f={};f.event=
d;f.settings=h;c.publishTopic(b,a.onInitStartTopics,f);c.publishTopic(b,a.onalw,f)});if(a.onProcessingTopics)b.on("processing.dt",function(d,h,f){f={};f.event=d;f.processing;f.settings=h;c.publishTopic(b,a.onProcessingTopics,f);c.publishTopic(b,a.onalw,f)});if(a.onSearchTopics)b.on("search.dt",function(d,h,f,e){f={};f.event=d;f.settings=h;c.publishTopic(b,a.onSearchTopics,f);c.publishTopic(b,a.onalw,f)});if(a.onStateLoadedTopics)b.on("stateLoaded.dt",function(d,h,f){var e={};e.event=d;e.json=f;e.settings=
h;c.publishTopic(b,a.onStateLoadedTopics,e);c.publishTopic(b,a.onalw,e)});if(a.onStateLoadingTopics)b.on("stateLoadParams.dt",function(d,h,f){var e={};e.event=d;e.json=f;e.settings=h;c.publishTopic(b,a.onStateLoadingTopics,e);c.publishTopic(b,a.onalw,e)});if(a.onStateSavingTopics)b.on("stateSaveParams.dt",function(d,h,f){var e={};e.event=d;e.data=f;e.settings=h;c.publishTopic(b,a.onStateSavingTopics,e);c.publishTopic(b,a.onalw,e)})}return d},datatables:function(b,a){var m=null,c={};this.log("datatables for : "+
a.id);m=d.scriptPath?d.scriptPath:"";"en"!==this.datatablesLocal&&(c.language={url:m+"i18n/datatables.locale-"+this.datatablesLocal+".json"});this.requireCss("themes/"+a.theme+"/css/dataTables."+a.theme+this.minSuffix+".css");"default"!==a.theme&&this.require("themes/"+a.theme+"/js/dataTables."+a.theme+this.minSuffix+".js");d.extend(c,a);b.data("_s2jdt_init",!1);c=this.parseDatatablesParams(b,a,c);a.clearTableTopics&&this.subscribeTopics(b,a.clearTableTopics,this.clear_datatables,a);a.ajax&&a.ajaxReloadTopics&&
this.subscribeTopics(b,a.ajaxReloadTopics,this.handler.reload_datatables,a);a.redrawTopics&&this.subscribeTopics(b,a.redrawTopics,this.handler.redraw_datatables,a);a.orderTopics&&this.subscribeTopics(b,a.orderTopics,this.handler.order_datatables,a);a.pageTopics&&this.subscribeTopics(b,a.pageTopics,this.handler.page_datatables,a);a.pageLengthTopics&&this.subscribeTopics(b,a.pageLengthTopics,this.handler.page_length_datatables,a);a.searchTopics&&this.subscribeTopics(b,a.searchTopics,this.handler.search_datatables,
a);a.stateClearTopics&&this.subscribeTopics(b,a.stateClearTopics,this.handler.clear_state_datatables,a);a.stateSaveTopics&&this.subscribeTopics(b,a.stateSaveTopics,this.handler.save_state_datatables,a);b.DataTable(c)}};d.extend(!0,d.struts2_jquery_datatables,d.struts2_jquery);d.struts2_jquery_datatables.debugPrefix="[struts2_jquery_datatables] ";d.subscribeHandler(d.struts2_jquery_datatables.handler.clear_datatables,function(b,a){d(this).DataTable().clear()});d.subscribeHandler(d.struts2_jquery_datatables.handler.reload_datatables,
function(b,a){d(this).DataTable().ajax.reload()});d.subscribeHandler(d.struts2_jquery_datatables.handler.redraw_datatables,function(b,a){d(this).DataTable().draw()});d.subscribeHandler(d.struts2_jquery_datatables.handler.page_datatables,function(b,a){d(this).DataTable().page(a).draw(!1)});d.subscribeHandler(d.struts2_jquery_datatables.handler.page_length_datatables,function(b,a){d(this).DataTable().page.len(a).draw()});d.subscribeHandler(d.struts2_jquery_datatables.handler.order_datatables,function(b,
a){d(this).DataTable().order(a).draw()});d.subscribeHandler(d.struts2_jquery_datatables.handler.search_datatables,function(b,a){d(this).DataTable().search(a).draw()});d.subscribeHandler(d.struts2_jquery_datatables.handler.clear_state_datatables,function(b,a){d(this).DataTable().state.clear()});d.subscribeHandler(d.struts2_jquery_datatables.handler.save_state_datatables,function(b,a){d(this).DataTable().state.save()})})(jQuery);