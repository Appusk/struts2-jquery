/*
 jqGrid  4.7.0 - jQuery Grid
 Copyright (c) 2008, Tony Tomov, tony@trirand.com
 Dual licensed under the MIT and GPL licenses
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl-2.0.html
 Date: 2014-12-08
*/
'use strict';(function(a){a.widget("ui.multiselect",{_init:function(){this.element.hide();this.id=this.element.attr("id");this.container=a('\x3cdiv class\x3d"ui-multiselect ui-helper-clearfix ui-widget"\x3e\x3c/div\x3e').insertAfter(this.element);this.count=0;this.selectedContainer=a('\x3cdiv class\x3d"selected"\x3e\x3c/div\x3e').appendTo(this.container);this.availableContainer=a('\x3cdiv class\x3d"available"\x3e\x3c/div\x3e').appendTo(this.container);this.selectedActions=a('\x3cdiv class\x3d"actions ui-widget-header ui-helper-clearfix"\x3e\x3cspan class\x3d"count"\x3e0 '+
a.ui.multiselect.locale.itemsCount+'\x3c/span\x3e\x3ca href\x3d"#" class\x3d"remove-all"\x3e'+a.ui.multiselect.locale.removeAll+"\x3c/a\x3e\x3c/div\x3e").appendTo(this.selectedContainer);this.availableActions=a('\x3cdiv class\x3d"actions ui-widget-header ui-helper-clearfix"\x3e\x3cinput type\x3d"text" class\x3d"search empty ui-widget-content ui-corner-all"/\x3e\x3ca href\x3d"#" class\x3d"add-all"\x3e'+a.ui.multiselect.locale.addAll+"\x3c/a\x3e\x3c/div\x3e").appendTo(this.availableContainer);this.selectedList=
a('\x3cul class\x3d"selected connected-list"\x3e\x3cli class\x3d"ui-helper-hidden-accessible"\x3e\x3c/li\x3e\x3c/ul\x3e').bind("selectstart",function(){return!1}).appendTo(this.selectedContainer);this.availableList=a('\x3cul class\x3d"available connected-list"\x3e\x3cli class\x3d"ui-helper-hidden-accessible"\x3e\x3c/li\x3e\x3c/ul\x3e').bind("selectstart",function(){return!1}).appendTo(this.availableContainer);var d=this;this.container.width(this.element.width()+1);this.selectedContainer.width(Math.floor(this.element.width()*
this.options.dividerLocation));this.availableContainer.width(Math.floor(this.element.width()*(1-this.options.dividerLocation)));this.selectedList.height(Math.max(this.element.height()-this.selectedActions.height(),1));this.availableList.height(Math.max(this.element.height()-this.availableActions.height(),1));this.options.animated||(this.options.show="show",this.options.hide="hide");this._populateLists(this.element.find("option"));this.options.sortable&&a("ul.selected").sortable({placeholder:"ui-state-highlight",
axis:"y",update:function(c,e){d.selectedList.find("li").each(function(){a(this).data("optionLink")&&a(this).data("optionLink").remove().appendTo(d.element)})},receive:function(c,e){e.item.data("optionLink").attr("selected",!0);d.count+=1;d._updateCount();d.selectedList.children(".ui-draggable").each(function(){a(this).removeClass("ui-draggable");a(this).data("optionLink",e.item.data("optionLink"));a(this).data("idx",e.item.data("idx"));d._applyItemState(a(this),!0)});setTimeout(function(){e.item.remove()},
1)}});this.options.searchable?this._registerSearchEvents(this.availableContainer.find("input.search")):a(".search").hide();a(".remove-all").click(function(){d._populateLists(d.element.find("option").removeAttr("selected"));return!1});a(".add-all").click(function(){d._populateLists(d.element.find("option").attr("selected","selected"));return!1})},destroy:function(){this.element.show();this.container.remove();a.widget.prototype.destroy.apply(this,arguments)},_populateLists:function(d){this.selectedList.children(".ui-element").remove();
this.availableList.children(".ui-element").remove();this.count=0;var c=this;a(d.map(function(a){var d=c._getOptionNode(this).appendTo(this.selected?c.selectedList:c.availableList).show();this.selected&&(c.count+=1);c._applyItemState(d,this.selected);d.data("idx",a);return d[0]}));this._updateCount()},_updateCount:function(){this.selectedContainer.find("span.count").text(this.count+" "+a.ui.multiselect.locale.itemsCount)},_getOptionNode:function(d){d=a(d);var c=a('\x3cli class\x3d"ui-state-default ui-element" title\x3d"'+
d.text()+'"\x3e\x3cspan class\x3d"ui-icon"/\x3e'+d.text()+'\x3ca href\x3d"#" class\x3d"action"\x3e\x3cspan class\x3d"ui-corner-all ui-icon"/\x3e\x3c/a\x3e\x3c/li\x3e').hide();c.data("optionLink",d);return c},_cloneWithData:function(a){var c=a.clone();c.data("optionLink",a.data("optionLink"));c.data("idx",a.data("idx"));return c},_setSelected:function(d,c){d.data("optionLink").attr("selected",c);if(c){var e=this._cloneWithData(d);d[this.options.hide](this.options.animated,function(){a(this).remove()});
e.appendTo(this.selectedList).hide()[this.options.show](this.options.animated);this._applyItemState(e,!0);return e}var f=this.availableList.find("li"),h=this.options.nodeComparator,e=null,b=d.data("idx"),g=h(d,a(f[b]));if(g)for(;0<=b&&b<f.length;){if(0<g?b++:b--,g!=h(d,a(f[b]))){e=f[0<g?b:b+1];break}}else e=f[b];f=this._cloneWithData(d);e?f.insertBefore(a(e)):f.appendTo(this.availableList);d[this.options.hide](this.options.animated,function(){a(this).remove()});f.hide()[this.options.show](this.options.animated);
this._applyItemState(f,!1);return f},_applyItemState:function(a,c){c?(this.options.sortable?a.children("span").addClass("ui-icon-arrowthick-2-n-s").removeClass("ui-helper-hidden").addClass("ui-icon"):a.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),a.find("a.action span").addClass("ui-icon-minus").removeClass("ui-icon-plus"),this._registerRemoveEvents(a.find("a.action"))):(a.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),
a.find("a.action span").addClass("ui-icon-plus").removeClass("ui-icon-minus"),this._registerAddEvents(a.find("a.action")));this._registerHoverEvents(a)},_filter:function(d){var c=a(this),e=d.children("li");d=e.map(function(){return a(this).text().toLowerCase()});var f=a.trim(c.val().toLowerCase()),h=[];f?(e.hide(),d.each(function(a){-1<this.indexOf(f)&&h.push(a)}),a.each(h,function(){a(e[this]).show()})):e.show()},_registerHoverEvents:function(d){d.removeClass("ui-state-hover");d.mouseover(function(){a(this).addClass("ui-state-hover")});
d.mouseout(function(){a(this).removeClass("ui-state-hover")})},_registerAddEvents:function(d){var c=this;d.click(function(){c._setSelected(a(this).parent(),!0);c.count+=1;c._updateCount();return!1}).each(function(){a(this).parent().draggable({connectToSortable:"ul.selected",helper:function(){var d=c._cloneWithData(a(this)).width(a(this).width()-50);d.width(a(this).width());return d},appendTo:".ui-multiselect",containment:".ui-multiselect",revert:"invalid"})})},_registerRemoveEvents:function(d){var c=
this;d.click(function(){c._setSelected(a(this).parent(),!1);c.count-=1;c._updateCount();return!1})},_registerSearchEvents:function(d){var c=this;d.focus(function(){a(this).addClass("ui-state-active")}).blur(function(){a(this).removeClass("ui-state-active")}).keypress(function(a){if(13==a.keyCode)return!1}).keyup(function(){c._filter.apply(this,[c.availableList])})}});a.extend(a.ui.multiselect,{defaults:{sortable:!0,searchable:!0,animated:"fast",show:"slideDown",hide:"slideUp",dividerLocation:.6,nodeComparator:function(a,
c){var e=a.text(),f=c.text();return e==f?0:e<f?-1:1}},locale:{addAll:"Add all",removeAll:"Remove all",itemsCount:"items selected"}})})(jQuery);
(function(a){a.jgrid=a.jgrid||{};a.extend(a.jgrid,{version:"4.7.0",htmlDecode:function(a){return a&&("\x26nbsp;"===a||"\x26#160;"===a||1===a.length&&160===a.charCodeAt(0))?"":a?String(a).replace(/&gt;/g,"\x3e").replace(/&lt;/g,"\x3c").replace(/&quot;/g,'"').replace(/&amp;/g,"\x26"):a},htmlEncode:function(a){return a?String(a).replace(/&/g,"\x26amp;").replace(/\"/g,"\x26quot;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"):a},format:function(d){var c=a.makeArray(arguments).slice(1);null==d&&(d="");
return d.replace(/\{(\d+)\}/g,function(a,d){return c[d]})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var a=-1;null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a},getCellIndex:function(d){d=a(d);if(d.is("tr"))return-1;d=(d.is("td")||d.is("th")?d:d.closest("td,th"))[0];return a.jgrid.msie?a.inArray(d,d.parentNode.cells):d.cellIndex},stripHtml:function(a){a=String(a);var c=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return a?(a=a.replace(c,
""))&&"\x26nbsp;"!==a&&"\x26#160;"!==a?a.replace(/\"/g,"'"):"":a},stripPref:function(d,c){var e=a.type(d);if("string"===e||"number"===e)d=String(d),c=""!==d?String(c).replace(String(d),""):c;return c},parse:function(d){"while(1);"===d.substr(0,9)&&(d=d.substr(9));"/*"===d.substr(0,2)&&(d=d.substr(2,d.length-4));d||(d="{}");return!0===a.jgrid.useJSON&&"object"===typeof JSON&&"function"===typeof JSON.parse?JSON.parse(d):eval("("+d+")")},parseDate:function(d,c,e,f){var h=/^\/Date\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\)\/$/,
b="string"===typeof c?c.match(h):null,h=function(a,b){a=String(a);for(b=parseInt(b,10)||2;a.length<b;)a="0"+a;return a},g={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},k=0,l,m,k=function(a,b){0===a?12===b&&(b=0):12!==b&&(b+=12);return b},n=0;void 0===f&&(f=a.jgrid.formatter.date);void 0===f.parseRe&&(f.parseRe=/[#%\\\/:_;.,\t\s-]/);f.masks.hasOwnProperty(d)&&(d=f.masks[d]);if(c&&null!=c)if(isNaN(c-0)||"u"!==String(d).toLowerCase())if(c.constructor===Date)k=c;else if(null!==b)k=new Date(parseInt(b[1],10)),b[3]&&
(n=60*Number(b[5])+Number(b[6]),n*="-"===b[4]?1:-1,n-=k.getTimezoneOffset(),k.setTime(Number(Number(k)+6E4*n)));else{"ISO8601Long"===f.srcformat&&"Z"===c.charAt(c.length-1)&&(n-=(new Date).getTimezoneOffset());c=String(c).replace(/\T/g,"#").replace(/\t/,"%").split(f.parseRe);d=d.replace(/\T/g,"#").replace(/\t/,"%").split(f.parseRe);l=0;for(m=d.length;l<m;l++)"M"===d[l]&&(b=a.inArray(c[l],f.monthNames),-1!==b&&12>b&&(c[l]=b+1,g.m=c[l])),"F"===d[l]&&(b=a.inArray(c[l],f.monthNames,12),-1!==b&&11<b&&
(c[l]=b+1-12,g.m=c[l])),"a"===d[l]&&(b=a.inArray(c[l],f.AmPm),-1!==b&&2>b&&c[l]===f.AmPm[b]&&(c[l]=b,g.h=k(c[l],g.h))),"A"===d[l]&&(b=a.inArray(c[l],f.AmPm),-1!==b&&1<b&&c[l]===f.AmPm[b]&&(c[l]=b-2,g.h=k(c[l],g.h))),"g"===d[l]&&(g.h=parseInt(c[l],10)),void 0!==c[l]&&(g[d[l].toLowerCase()]=parseInt(c[l],10));g.f&&(g.m=g.f);if(0===g.m&&0===g.y&&0===g.d)return"\x26#160;";g.m=parseInt(g.m,10)-1;k=g.y;70<=k&&99>=k?g.y=1900+g.y:0<=k&&69>=k&&(g.y=2E3+g.y);k=new Date(g.y,g.m,g.d,g.h,g.i,g.s,g.u);0<n&&k.setTime(Number(Number(k)+
6E4*n))}else k=new Date(1E3*parseFloat(c));else k=new Date(g.y,g.m,g.d,g.h,g.i,g.s,g.u);f.userLocalTime&&0===n&&(n-=(new Date).getTimezoneOffset(),0<n&&k.setTime(Number(Number(k)+6E4*n)));if(void 0===e)return k;f.masks.hasOwnProperty(e)?e=f.masks[e]:e||(e="Y-m-d");d=k.getHours();c=k.getMinutes();g=k.getDate();n=k.getMonth()+1;b=k.getTimezoneOffset();l=k.getSeconds();m=k.getMilliseconds();var r=k.getDay(),q=k.getFullYear(),p=(r+6)%7+1,s=(new Date(q,n-1,g)-new Date(q,0,1))/864E5,u={d:h(g),D:f.dayNames[r],
j:g,l:f.dayNames[r+7],N:p,S:f.S(g),w:r,z:s,W:5>p?Math.floor((s+p-1)/7)+1:Math.floor((s+p-1)/7)||(4>((new Date(q-1,0,1)).getDay()+6)%7?53:52),F:f.monthNames[n-1+12],m:h(n),M:f.monthNames[n-1],n:n,t:"?",L:"?",o:"?",Y:q,y:String(q).substring(2),a:12>d?f.AmPm[0]:f.AmPm[1],A:12>d?f.AmPm[2]:f.AmPm[3],B:"?",g:d%12||12,G:d,h:h(d%12||12),H:h(d),i:h(c),s:h(l),u:m,e:"?",I:"?",O:(0<b?"-":"+")+h(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),P:"?",T:(String(k).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||
[""]).pop().replace(/[^-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(k/1E3)};return e.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(a){return u.hasOwnProperty(a)?u[a]:a.substring(1)})},jqID:function(a){return String(a).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$\x26")},guid:1,uidPref:"jqg",randId:function(d){return(d||a.jgrid.uidPref)+a.jgrid.guid++},getAccessor:function(a,c){var e,f,h=[],b;if("function"===typeof c)return c(a);e=a[c];if(void 0===e)try{if("string"===typeof c&&
(h=c.split(".")),b=h.length)for(e=a;e&&b--;)f=h.shift(),e=e[f]}catch(g){}return e},getXmlData:function(d,c,e){var f="string"===typeof c?c.match(/^(.*)\[(\w+)\]$/):null;if("function"===typeof c)return c(d);if(f&&f[2])return f[1]?a(f[1],d).attr(f[2]):a(d).attr(f[2]);d=a(c,d);return e?d:0<d.length?a(d).text():void 0},cellWidth:function(){var d=a("\x3cdiv class\x3d'ui-jqgrid' style\x3d'left:10000px'\x3e\x3ctable class\x3d'ui-jqgrid-btable' style\x3d'width:5px;'\x3e\x3ctr class\x3d'jqgrow'\x3e\x3ctd style\x3d'width:5px;display:block;'\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e"),
c=d.appendTo("body").find("td").width();d.remove();return.1<Math.abs(c-5)},cell_width:!0,ajaxOptions:{},from:function(d){return new function(c,d){"string"===typeof c&&(c=a.data(c));var f=this,h=c,b=!0,g=!1,k=d,l=/[\$,%]/g,m=null,n=null,r=0,q=!1,p="",s=[],u=!0;if("object"===typeof c&&c.push)0<c.length&&(u="object"!==typeof c[0]?!1:!0);else throw"data provides is not an array";this._hasData=function(){return null===h?!1:0===h.length?!1:!0};this._getStr=function(a){var c=[];g&&c.push("jQuery.trim(");
c.push("String("+a+")");g&&c.push(")");b||c.push(".toLowerCase()");return c.join("")};this._strComp=function(a){return"string"===typeof a?".toString()":""};this._group=function(a,b){return{field:a.toString(),unique:b,items:[]}};this._toStr=function(c){g&&(c=a.trim(c));c=c.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"');return b?c:c.toLowerCase()};this._funcLoop=function(b){var c=[];a.each(h,function(a,d){c.push(b(d))});return c};this._append=function(a){var b;k=null===k?"":k+(""===p?" \x26\x26 ":
p);for(b=0;b<r;b++)k+="(";q&&(k+="!");k+="("+a+")";q=!1;p="";r=0};this._setCommand=function(a,b){m=a;n=b};this._resetNegate=function(){q=!1};this._repeatCommand=function(a,b){return null===m?f:null!==a&&null!==b?m(a,b):null!==n&&u?m(n,a):m(a)};this._equals=function(a,b){return 0===f._compare(a,b,1)};this._compare=function(a,c,d){var e=Object.prototype.toString;void 0===d&&(d=1);void 0===a&&(a=null);void 0===c&&(c=null);if(null===a&&null===c)return 0;if(null===a&&null!==c)return 1;if(null!==a&&null===
c)return-1;if("[object Date]"===e.call(a)&&"[object Date]"===e.call(c))return a<c?-d:a>c?d:0;b||"number"===typeof a||"number"===typeof c||(a=String(a),c=String(c));return a<c?-d:a>c?d:0};this._performSort=function(){0!==s.length&&(h=f._doSort(h,0))};this._doSort=function(a,b){var c=s[b].by,d=s[b].dir,e=s[b].type,g=s[b].datefmt,h=s[b].sfunc;if(b===s.length-1)return f._getOrder(a,c,d,e,g,h);b++;c=f._getGroup(a,c,d,e,g);d=[];for(e=0;e<c.length;e++)for(h=f._doSort(c[e].items,b),g=0;g<h.length;g++)d.push(h[g]);
return d};this._getOrder=function(c,d,e,g,h,k){var m=[],n=[],r="a"===e?1:-1,p,q;void 0===g&&(g="text");q="float"===g||"number"===g||"currency"===g||"numeric"===g?function(a){a=parseFloat(String(a).replace(l,""));return isNaN(a)?Number.NEGATIVE_INFINITY:a}:"int"===g||"integer"===g?function(a){return a?parseFloat(String(a).replace(l,"")):Number.NEGATIVE_INFINITY}:"date"===g||"datetime"===g?function(b){return a.jgrid.parseDate(h,b).getTime()}:a.isFunction(g)?g:function(c){c=c?a.trim(String(c)):"";return b?
c:c.toLowerCase()};a.each(c,function(b,c){p=""!==d?a.jgrid.getAccessor(c,d):c;void 0===p&&(p="");p=q(p,c);n.push({vSort:p,index:b})});a.isFunction(k)?n.sort(function(a,b){a=a.vSort;b=b.vSort;return k.call(this,a,b,r)}):n.sort(function(a,b){a=a.vSort;b=b.vSort;return f._compare(a,b,r)});g=0;for(var s=c.length;g<s;)e=n[g].index,m.push(c[e]),g++;return m};this._getGroup=function(b,c,d,e,g){var h=[],k=null,l=null,m;a.each(f._getOrder(b,c,d,e,g),function(b,d){m=a.jgrid.getAccessor(d,c);null==m&&(m="");
f._equals(l,m)||(l=m,null!==k&&h.push(k),k=f._group(c,m));k.items.push(d)});null!==k&&h.push(k);return h};this.ignoreCase=function(){b=!1;return f};this.useCase=function(){b=!0;return f};this.trim=function(){g=!0;return f};this.noTrim=function(){g=!1;return f};this.execute=function(){var b=k,c=[];if(null===b)return f;a.each(h,function(){eval(b)&&c.push(this)});h=c;return f};this.data=function(){return h};this.select=function(b){f._performSort();if(!f._hasData())return[];f.execute();if(a.isFunction(b)){var c=
[];a.each(h,function(a,d){c.push(b(d))});return c}return h};this.hasMatch=function(){if(!f._hasData())return!1;f.execute();return 0<h.length};this.andNot=function(a,b,c){q=!q;return f.and(a,b,c)};this.orNot=function(a,b,c){q=!q;return f.or(a,b,c)};this.not=function(a,b,c){return f.andNot(a,b,c)};this.and=function(a,b,c){p=" \x26\x26 ";return void 0===a?f:f._repeatCommand(a,b,c)};this.or=function(a,b,c){p=" || ";return void 0===a?f:f._repeatCommand(a,b,c)};this.orBegin=function(){r++;return f};this.orEnd=
function(){null!==k&&(k+=")");return f};this.isNot=function(a){q=!q;return f.is(a)};this.is=function(a){f._append("this."+a);f._resetNegate();return f};this._compareValues=function(b,c,d,e,g){var h;h=u?"jQuery.jgrid.getAccessor(this,'"+c+"')":"this";void 0===d&&(d=null);var k=d,m=void 0===g.stype?"text":g.stype;if(null!==d)switch(m){case "int":case "integer":k=isNaN(Number(k))||""===k?"0":k;h="parseInt("+h+",10)";k="parseInt("+k+",10)";break;case "float":case "number":case "numeric":k=String(k).replace(l,
"");k=isNaN(Number(k))||""===k?"0":k;h="parseFloat("+h+")";k="parseFloat("+k+")";break;case "date":case "datetime":k=String(a.jgrid.parseDate(g.newfmt||"Y-m-d",k).getTime());h='jQuery.jgrid.parseDate("'+g.srcfmt+'",'+h+").getTime()";break;default:h=f._getStr(h),k=f._getStr('"'+f._toStr(k)+'"')}f._append(h+" "+e+" "+k);f._setCommand(b,c);f._resetNegate();return f};this.equals=function(a,b,c){return f._compareValues(f.equals,a,b,"\x3d\x3d",c)};this.notEquals=function(a,b,c){return f._compareValues(f.equals,
a,b,"!\x3d\x3d",c)};this.isNull=function(a,b,c){return f._compareValues(f.equals,a,null,"\x3d\x3d\x3d",c)};this.greater=function(a,b,c){return f._compareValues(f.greater,a,b,"\x3e",c)};this.less=function(a,b,c){return f._compareValues(f.less,a,b,"\x3c",c)};this.greaterOrEquals=function(a,b,c){return f._compareValues(f.greaterOrEquals,a,b,"\x3e\x3d",c)};this.lessOrEquals=function(a,b,c){return f._compareValues(f.lessOrEquals,a,b,"\x3c\x3d",c)};this.startsWith=function(b,c){var d=null==c?b:c,d=g?a.trim(d.toString()).length:
d.toString().length;u?f._append(f._getStr("jQuery.jgrid.getAccessor(this,'"+b+"')")+".substr(0,"+d+") \x3d\x3d "+f._getStr('"'+f._toStr(c)+'"')):(null!=c&&(d=g?a.trim(c.toString()).length:c.toString().length),f._append(f._getStr("this")+".substr(0,"+d+") \x3d\x3d "+f._getStr('"'+f._toStr(b)+'"')));f._setCommand(f.startsWith,b);f._resetNegate();return f};this.endsWith=function(b,c){var d=null==c?b:c,d=g?a.trim(d.toString()).length:d.toString().length;u?f._append(f._getStr("jQuery.jgrid.getAccessor(this,'"+
b+"')")+".substr("+f._getStr("jQuery.jgrid.getAccessor(this,'"+b+"')")+".length-"+d+","+d+') \x3d\x3d "'+f._toStr(c)+'"'):f._append(f._getStr("this")+".substr("+f._getStr("this")+'.length-"'+f._toStr(b)+'".length,"'+f._toStr(b)+'".length) \x3d\x3d "'+f._toStr(b)+'"');f._setCommand(f.endsWith,b);f._resetNegate();return f};this.contains=function(a,b){u?f._append(f._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+f._toStr(b)+'",0) \x3e -1'):f._append(f._getStr("this")+'.indexOf("'+f._toStr(a)+
'",0) \x3e -1');f._setCommand(f.contains,a);f._resetNegate();return f};this.groupBy=function(a,b,c,d){return f._hasData()?f._getGroup(h,a,b,c,d):null};this.orderBy=function(b,c,d,e,g){c=null==c?"a":a.trim(c.toString().toLowerCase());null==d&&(d="text");null==e&&(e="Y-m-d");null==g&&(g=!1);if("desc"===c||"descending"===c)c="d";if("asc"===c||"ascending"===c)c="a";s.push({by:b,dir:c,type:d,datefmt:e,sfunc:g});return f};return f}(d,null)},getMethod:function(d){return this.getAccessor(a.fn.jqGrid,d)},
extend:function(d){a.extend(a.fn.jqGrid,d);this.no_legacy_api||a.fn.extend(d)}});a.fn.jqGrid=function(d){if("string"===typeof d){var c=a.jgrid.getMethod(d);if(!c)throw"jqGrid - No such method: "+d;var e=a.makeArray(arguments).slice(1);return c.apply(this,e)}return this.each(function(){if(!this.grid){var c;null!=d&&void 0!==d.data&&(c=d.data,d.data=[]);var e=a.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",
sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,
multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,
""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],
groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!1,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33},a.jgrid.defaults,d||{});void 0!==c&&(e.data=c,d.data=c);var b=this,g={headers:[],cols:[],footers:[],dragStart:function(c,d,f){var g=a(this.bDiv).offset().left;
this.resizing={idx:c,startX:d.pageX,sOL:d.pageX-g};this.hDiv.style.cursor="col-resize";this.curGbox=a("#rs_m"+a.jgrid.jqID(e.id),"#gbox_"+a.jgrid.jqID(e.id));this.curGbox.css({display:"block",left:d.pageX-g,top:f[1],height:f[2]});a(b).triggerHandler("jqGridResizeStart",[d,c]);a.isFunction(e.resizeStart)&&e.resizeStart.call(b,d,c);document.onselectstart=function(){return!1}},dragMove:function(a){if(this.resizing){var b=a.pageX-this.resizing.startX;a=this.headers[this.resizing.idx];var c="ltr"===e.direction?
a.width+b:a.width-b,d;33<c&&(this.curGbox.css({left:this.resizing.sOL+b}),!0===e.forceFit?(d=this.headers[this.resizing.idx+e.nv],b="ltr"===e.direction?d.width-b:d.width+b,b>e.minColWidth&&(a.newWidth=c,d.newWidth=b)):(this.newWidth="ltr"===e.direction?e.tblwidth+b:e.tblwidth-b,a.newWidth=c))}},dragEnd:function(){this.hDiv.style.cursor="default";if(this.resizing){var c=this.resizing.idx,d=this.headers[c].newWidth||this.headers[c].width,d=parseInt(d,10);this.resizing=!1;a("#rs_m"+a.jgrid.jqID(e.id)).css("display",
"none");e.colModel[c].width=d;this.headers[c].width=d;this.headers[c].el.style.width=d+"px";this.cols[c].style.width=d+"px";0<this.footers.length&&(this.footers[c].style.width=d+"px");!0===e.forceFit?(d=this.headers[c+e.nv].newWidth||this.headers[c+e.nv].width,this.headers[c+e.nv].width=d,this.headers[c+e.nv].el.style.width=d+"px",this.cols[c+e.nv].style.width=d+"px",0<this.footers.length&&(this.footers[c+e.nv].style.width=d+"px"),e.colModel[c+e.nv].width=d):(e.tblwidth=this.newWidth||e.tblwidth,
a("table:first",this.bDiv).css("width",e.tblwidth+"px"),a("table:first",this.hDiv).css("width",e.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,e.footerrow&&(a("table:first",this.sDiv).css("width",e.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft));a(b).triggerHandler("jqGridResizeStop",[d,c]);a.isFunction(e.resizeStop)&&e.resizeStop.call(b,d,c)}this.curGbox=null;document.onselectstart=function(){return!0}},populateVisible:function(){g.timer&&clearTimeout(g.timer);g.timer=null;
var b=a(g.bDiv).height();if(b){var c=a("table:first",g.bDiv),d,f;if(c[0].rows.length)try{f=(d=c[0].rows[1])?a(d).outerHeight()||g.prevRowHeight:g.prevRowHeight}catch(k){f=g.prevRowHeight}if(f){g.prevRowHeight=f;var l=e.rowNum;d=g.scrollTop=g.bDiv.scrollTop;var m=Math.round(c.position().top)-d,n=m+c.height();f*=l;var p,r,q;n<b&&0>=m&&(void 0===e.lastpage||(parseInt((n+d+f-1)/f,10)||0)<=e.lastpage)&&(r=parseInt((b-n+f-1)/f,10)||1,0<=n||2>r||!0===e.scroll?(p=(Math.round((n+d)/f)||0)+1,m=-1):m=1);0<m&&
(p=(parseInt(d/f,10)||0)+1,r=(parseInt((d+b)/f,10)||0)+2-p,q=!0);!r||e.lastpage&&(p>e.lastpage||1===e.lastpage||p===e.page&&p===e.lastpage)||(g.hDiv.loading?g.timer=setTimeout(g.populateVisible,e.scrollTimeout):(e.page=p,q&&(g.selectionPreserver(c[0]),g.emptyRows.call(c[0],!1,!1)),g.populate(r)))}}},scrollGrid:function(a){if(e.scroll){var b=g.bDiv.scrollTop;void 0===g.scrollTop&&(g.scrollTop=0);b!==g.scrollTop&&(g.scrollTop=b,g.timer&&clearTimeout(g.timer),g.timer=setTimeout(g.populateVisible,e.scrollTimeout))}g.hDiv.scrollLeft=
g.bDiv.scrollLeft;e.footerrow&&(g.sDiv.scrollLeft=g.bDiv.scrollLeft);a&&a.stopPropagation()},selectionPreserver:function(b){var c=b.p,d=c.selrow,e=c.selarrrow?a.makeArray(c.selarrrow):null,f=b.grid.bDiv.scrollLeft,g=function(){var k;c.selrow=null;c.selarrrow=[];if(c.multiselect&&e&&0<e.length)for(k=0;k<e.length;k++)e[k]!==d&&a(b).jqGrid("setSelection",e[k],!1,null);d&&a(b).jqGrid("setSelection",d,!1,null);b.grid.bDiv.scrollLeft=f;a(b).unbind(".selectionPreserver",g)};a(b).bind("jqGridGridComplete.selectionPreserver",
g)}};if("TABLE"!==this.tagName.toUpperCase()||null==this.id)alert("Element is not a table or has no id!");else if(void 0!==document.documentMode&&5>=document.documentMode)alert("Grid can not be used in this ('quirks') mode!");else{a(this).empty().attr("tabindex","0");this.p=e;this.p.useProp=!!a.fn.prop;var k,l;if(0===this.p.colNames.length)for(k=0;k<this.p.colModel.length;k++)this.p.colNames[k]=this.p.colModel[k].label||this.p.colModel[k].name;if(this.p.colNames.length!==this.p.colModel.length)alert(a.jgrid.errors.model);
else{var m=a("\x3cdiv class\x3d'ui-jqgrid-view' role\x3d'grid'\x3e\x3c/div\x3e");c=a.jgrid.msie;b.p.direction=a.trim(b.p.direction.toLowerCase());-1===a.inArray(b.p.direction,["ltr","rtl"])&&(b.p.direction="ltr");l=b.p.direction;a(m).insertBefore(this);a(this).removeClass("scroll").appendTo(m);var n=a("\x3cdiv class\x3d'ui-jqgrid ui-widget ui-widget-content ui-corner-all'\x3e\x3c/div\x3e");a(n).attr({id:"gbox_"+this.id,dir:l}).insertBefore(m);a(m).attr("id","gview_"+this.id).appendTo(n);a("\x3cdiv class\x3d'ui-widget-overlay jqgrid-overlay' id\x3d'lui_"+
this.id+"'\x3e\x3c/div\x3e").insertBefore(m);a("\x3cdiv class\x3d'loading ui-state-default ui-state-active' id\x3d'load_"+this.id+"'\x3e"+this.p.loadtext+"\x3c/div\x3e").insertBefore(m);a(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var r=function(a,b){a=parseInt(a,10);return isNaN(a)?b||0:a},q=function(c,d,e,f,k,h){var l=b.p.colModel[c],m=l.align,n='style\x3d"',p=l.classes,r=l.name,q=[];
m&&(n+="text-align:"+m+";");!0===l.hidden&&(n+="display:none;");if(0===d)n+="width: "+g.headers[c].width+"px;";else if(a.isFunction(l.cellattr)||"string"===typeof l.cellattr&&null!=a.jgrid.cellattr&&a.isFunction(a.jgrid.cellattr[l.cellattr]))if(c=a.isFunction(l.cellattr)?l.cellattr:a.jgrid.cellattr[l.cellattr],(f=c.call(b,k,e,f,l,h))&&"string"===typeof f)if(f=f.replace(/style/i,"style").replace(/title/i,"title"),-1<f.indexOf("title")&&(l.title=!1),-1<f.indexOf("class")&&(p=void 0),q=f.replace(/\-style/g,
"-sti").split(/style/),2===q.length){q[1]=a.trim(q[1].replace(/\-sti/g,"-style").replace("\x3d",""));if(0===q[1].indexOf("'")||0===q[1].indexOf('"'))q[1]=q[1].substring(1);n+=q[1].replace(/'/gi,'"')}else n+='"';q.length||(q[0]="",n+='"');n+=(void 0!==p?' class\x3d"'+p+'"':"")+(l.title&&e?' title\x3d"'+a.jgrid.stripHtml(e)+'"':"");n+=' aria-describedby\x3d"'+b.p.id+"_"+r+'"';return n+q[0]},p=function(c){return null==c||""===c?"\x26#160;":b.p.autoencode?a.jgrid.htmlEncode(c):String(c)},s=function(c,
d,e,f,g){var k=b.p.colModel[e];void 0!==k.formatter?(c=""!==String(b.p.idPrefix)?a.jgrid.stripPref(b.p.idPrefix,c):c,c={rowId:c,colModel:k,gid:b.p.id,pos:e},d=a.isFunction(k.formatter)?k.formatter.call(b,d,c,f,g):a.fmatter?a.fn.fmatter.call(b,k.formatter,d,c,f,g):p(d)):d=p(d);return d},u=function(a,b,c,d,e,f){b=s(a,b,c,e,"add");return'\x3ctd role\x3d"gridcell" '+q(c,d,b,e,a,f)+"\x3e"+b+"\x3c/td\x3e"},t=function(a,c,d,e){e='\x3cinput role\x3d"checkbox" type\x3d"checkbox" id\x3d"jqg_'+b.p.id+"_"+a+
'" class\x3d"cbox" name\x3d"jqg_'+b.p.id+"_"+a+'"'+(e?'checked\x3d"checked"':"")+"/\x3e";return'\x3ctd role\x3d"gridcell" '+q(c,d,"",null,a,!0)+"\x3e"+e+"\x3c/td\x3e"},A=function(a,b,c,d){c=(parseInt(c,10)-1)*parseInt(d,10)+1+b;return'\x3ctd role\x3d"gridcell" class\x3d"ui-state-default jqgrid-rownum" '+q(a,b,c,null,b,!0)+"\x3e"+c+"\x3c/td\x3e"},C=function(a){var c,d=[],e=0,f;for(f=0;f<b.p.colModel.length;f++)c=b.p.colModel[f],"cb"!==c.name&&"subgrid"!==c.name&&"rn"!==c.name&&(d[e]="local"===a?c.name:
"xml"===a||"xmlstring"===a?c.xmlmap||c.name:c.jsonmap||c.name,!1!==b.p.keyName&&!0===c.key&&(b.p.keyName=d[e]),e++);return d},v=function(c){var d=b.p.remapColumns;d&&d.length||(d=a.map(b.p.colModel,function(a,b){return b}));c&&(d=a.map(d,function(a){return a<c?null:a-c}));return d},P=function(b,c){var d;this.p.deepempty?a(this.rows).slice(1).remove():(d=0<this.rows.length?this.rows[0]:null,a(this.firstChild).empty().append(d));b&&this.p.scroll&&(a(this.grid.bDiv.firstChild).css({height:"auto"}),a(this.grid.bDiv.firstChild.firstChild).css({height:0,
display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0));!0===c&&this.p.treeGrid&&(this.p.data=[],this.p._index={})},x=function(){var c=b.p,d=c.data,e=d.length,f,g,k,h,l,m=c.localReader,n=c.colModel,p=m.cell,r=(!0===c.multiselect?1:0)+(!0===c.subGrid?1:0)+(!0===c.rownumbers?1:0),q=c.scroll?a.jgrid.randId():1,s,t,u;if("local"===c.datatype&&!0===m.repeatitems)for(s=v(r),t=C("local"),k=!1===c.keyIndex?a.isFunction(m.id)?m.id.call(b,d):m.id:c.keyIndex,c=0;c<e;c++){g=d[c];f=a.jgrid.getAccessor(g,
k);void 0===f&&("number"===typeof k&&null!=n[k+r]&&(f=a.jgrid.getAccessor(g,n[k+r].name)),void 0===f&&(f=q+c,p&&(h=a.jgrid.getAccessor(g,p)||g,f=null!=h&&void 0!==h[k]?h[k]:f)));h={};h[m.id]=f;p&&(g=a.jgrid.getAccessor(g,p)||g);u=a.isArray(g)?s:t;for(f=0;f<u.length;f++)l=a.jgrid.getAccessor(g,u[f]),h[n[f+r].name]=l;a.extend(!0,d[c],h)}},Q=function(){var c=b.p.data.length,d,e,f;d=!1===b.p.keyName||!0===b.p.loadonce?b.p.localReader.id:b.p.keyName;b.p._index=[];for(e=0;e<c;e++)f=a.jgrid.getAccessor(b.p.data[e],
d),void 0===f&&(f=String(e+1)),b.p._index[f]=e},R=function(c,d,e,f,g,k){var h="-1",l="",m;d=d?"display:none;":"";e="ui-widget-content jqgrow ui-row-"+b.p.direction+(e?" "+e:"")+(k?" ui-state-highlight":"");k=a(b).triggerHandler("jqGridRowAttr",[f,g,c]);"object"!==typeof k&&(k=a.isFunction(b.p.rowattr)?b.p.rowattr.call(b,f,g,c):"string"===typeof b.p.rowattr&&null!=a.jgrid.rowattr&&a.isFunction(a.jgrid.rowattr[b.p.rowattr])?a.jgrid.rowattr[b.p.rowattr].call(b,f,g,c):{});if(!a.isEmptyObject(k)){k.hasOwnProperty("id")&&
(c=k.id,delete k.id);k.hasOwnProperty("tabindex")&&(h=k.tabindex,delete k.tabindex);k.hasOwnProperty("style")&&(d+=k.style,delete k.style);k.hasOwnProperty("class")&&(e+=" "+k["class"],delete k["class"]);try{delete k.role}catch(n){}for(m in k)k.hasOwnProperty(m)&&(l+=" "+m+"\x3d"+k[m])}return'\x3ctr role\x3d"row" id\x3d"'+c+'" tabindex\x3d"'+h+'" class\x3d"'+e+'"'+(""===d?"":' style\x3d"'+d+'"')+l+"\x3e"},V=function(c,d,e,f,g){var k=new Date,h="local"!==b.p.datatype&&b.p.loadonce||"xmlstring"===b.p.datatype,
l=b.p.xmlReader,m="local"===b.p.datatype?"local":"xml";h&&(b.p.data=[],b.p._index={},b.p.localReader.id="_id_");b.p.reccount=0;if(a.isXMLDoc(c)){-1!==b.p.treeANode||b.p.scroll?e=1<e?e:1:(P.call(b,!1,!0),e=1);var n=a(b),p,q,s=0,N,H=!0===b.p.multiselect?1:0,L=0,x,D=!0===b.p.rownumbers?1:0,I,B=[],z,E={},F,J,w=[],Z=!0===b.p.altRows?b.p.altclass:"",ja;!0===b.p.subGrid&&(L=1,x=a.jgrid.getMethod("addSubGridCell"));l.repeatitems||(B=C(m));I=!1===b.p.keyName?a.isFunction(l.id)?l.id.call(b,c):l.id:b.p.keyName;
m=-1===String(I).indexOf("[")?B.length?function(b,c){return a(I,b).text()||c}:function(b,c){return a(l.cell,b).eq(I).text()||c}:function(a,b){return a.getAttribute(I.replace(/[\[\]]/g,""))||b};b.p.userData={};b.p.page=r(a.jgrid.getXmlData(c,l.page),b.p.page);b.p.lastpage=r(a.jgrid.getXmlData(c,l.total),1);b.p.records=r(a.jgrid.getXmlData(c,l.records));a.isFunction(l.userdata)?b.p.userData=l.userdata.call(b,c)||{}:a.jgrid.getXmlData(c,l.userdata,!0).each(function(){b.p.userData[this.getAttribute("name")]=
a(this).text()});c=a.jgrid.getXmlData(c,l.root,!0);(c=a.jgrid.getXmlData(c,l.row,!0))||(c=[]);var aa=c.length,W=0,y=[],U=parseInt(b.p.rowNum,10),ea=b.p.scroll?a.jgrid.randId():1;0<aa&&0>=b.p.page&&(b.p.page=1);if(c&&aa){g&&(U*=g+1);g=a.isFunction(b.p.afterInsertRow);var O=!1,G;b.p.grouping&&(O=!0===b.p.groupingView.groupCollapse,G=a.jgrid.getMethod("groupingPrepare"));for(;W<aa;){F=c[W];J=m(F,ea+W);J=b.p.idPrefix+J;p=0===e?0:e+1;ja=1===(p+W)%2?Z:"";var M=w.length;w.push("");D&&w.push(A(0,W,b.p.page,
b.p.rowNum));H&&w.push(t(J,D,W,!1));L&&w.push(x.call(n,H+D,W+e));if(l.repeatitems){z||(z=v(H+L+D));var K=a.jgrid.getXmlData(F,l.cell,!0);a.each(z,function(a){var c=K[this];if(!c)return!1;N=c.textContent||c.text;E[b.p.colModel[a+H+L+D].name]=N;w.push(u(J,N,a+H+L+D,W+e,F,E))})}else for(p=0;p<B.length;p++)N=a.jgrid.getXmlData(F,B[p]),E[b.p.colModel[p+H+L+D].name]=N,w.push(u(J,N,p+H+L+D,W+e,F,E));w[M]=R(J,O,ja,E,F,!1);w.push("\x3c/tr\x3e");b.p.grouping&&(y.push(w),b.p.groupingView._locgr||G.call(n,E,
W),w=[]);if(h||!0===b.p.treeGrid)E._id_=a.jgrid.stripPref(b.p.idPrefix,J),b.p.data.push(E),b.p._index[E._id_]=b.p.data.length-1;!1===b.p.gridview&&(a("tbody:first",d).append(w.join("")),n.triggerHandler("jqGridAfterInsertRow",[J,E,F]),g&&b.p.afterInsertRow.call(b,J,E,F),w=[]);E={};s++;W++;if(s===U)break}}!0===b.p.gridview&&(q=-1<b.p.treeANode?b.p.treeANode:0,b.p.grouping?h||(n.jqGrid("groupingRender",y,b.p.colModel.length,b.p.page,U),y=null):!0===b.p.treeGrid&&0<q?a(b.rows[q]).after(w.join("")):(b.firstElementChild.innerHTML+=
w.join(""),b.grid.cols=b.rows[0].cells));if(!0===b.p.subGrid)try{n.jqGrid("addSubGrid",H+D)}catch(Q){}b.p.totaltime=new Date-k;0<s&&0===b.p.records&&(b.p.records=aa);w=null;if(!0===b.p.treeGrid)try{n.jqGrid("setTreeNode",q+1,s+q+1)}catch(S){}b.p.reccount=s;b.p.treeANode=-1;b.p.userDataOnFooter&&n.jqGrid("footerData","set",b.p.userData,!0);h&&(b.p.records=aa,b.p.lastpage=Math.ceil(aa/U));f||b.updatepager(!1,!0);if(h){for(;s<aa;){F=c[s];J=m(F,s+ea);J=b.p.idPrefix+J;if(l.repeatitems){z||(z=v(H+L+D));
var ba=a.jgrid.getXmlData(F,l.cell,!0);a.each(z,function(a){var c=ba[this];if(!c)return!1;N=c.textContent||c.text;E[b.p.colModel[a+H+L+D].name]=N})}else for(p=0;p<B.length;p++)N=a.jgrid.getXmlData(F,B[p]),E[b.p.colModel[p+H+L+D].name]=N;E._id_=a.jgrid.stripPref(b.p.idPrefix,J);b.p.grouping&&G.call(n,E,s);b.p.data.push(E);b.p._index[E._id_]=b.p.data.length-1;E={};s++}b.p.grouping&&(b.p.groupingView._locgr=!0,n.jqGrid("groupingRender",y,b.p.colModel.length,b.p.page,U),y=null)}}},G=function(c,d,e,f,
g){var k=new Date;if(c){-1!==b.p.treeANode||b.p.scroll?e=1<e?e:1:(P.call(b,!1,!0),e=1);var h,l="local"!==b.p.datatype&&b.p.loadonce||"jsonstring"===b.p.datatype;l&&(b.p.data=[],b.p._index={},b.p.localReader.id="_id_");b.p.reccount=0;"local"===b.p.datatype?(d=b.p.localReader,h="local"):(d=b.p.jsonReader,h="json");var m=a(b),n=0,p,q,s,N=[],H=b.p.multiselect?1:0,L=!0===b.p.subGrid?1:0,D,x=!0===b.p.rownumbers?1:0,J=v(H+L+x);h=C(h);var I,B,E,F={},z,w,y=[],ja=!0===b.p.altRows?b.p.altclass:"",U;b.p.page=
r(a.jgrid.getAccessor(c,d.page),b.p.page);b.p.lastpage=r(a.jgrid.getAccessor(c,d.total),1);b.p.records=r(a.jgrid.getAccessor(c,d.records));b.p.userData=a.jgrid.getAccessor(c,d.userdata)||{};L&&(D=a.jgrid.getMethod("addSubGridCell"));E=!1===b.p.keyName?a.isFunction(d.id)?d.id.call(b,c):d.id:b.p.keyName;B=a.jgrid.getAccessor(c,d.root);null==B&&a.isArray(c)&&(B=c);B||(B=[]);c=B.length;q=0;0<c&&0>=b.p.page&&(b.p.page=1);var Z=parseInt(b.p.rowNum,10),G=b.p.scroll?a.jgrid.randId():1,ea=!1,O;g&&(Z*=g+1);
"local"!==b.p.datatype||b.p.deselectAfterSort||(ea=!0);var M=a.isFunction(b.p.afterInsertRow),K=[],ba=!1,Q;b.p.grouping&&(ba=!0===b.p.groupingView.groupCollapse,Q=a.jgrid.getMethod("groupingPrepare"));for(;q<c;){g=B[q];w=a.jgrid.getAccessor(g,E);void 0===w&&("number"===typeof E&&null!=b.p.colModel[E+H+L+x]&&(w=a.jgrid.getAccessor(g,b.p.colModel[E+H+L+x].name)),void 0===w&&(w=G+q,0===N.length&&d.cell&&(p=a.jgrid.getAccessor(g,d.cell)||g,w=null!=p&&void 0!==p[E]?p[E]:w)));w=b.p.idPrefix+w;p=1===e?0:
e;U=1===(p+q)%2?ja:"";ea&&(O=b.p.multiselect?-1!==a.inArray(w,b.p.selarrrow):w===b.p.selrow);var S=y.length;y.push("");x&&y.push(A(0,q,b.p.page,b.p.rowNum));H&&y.push(t(w,x,q,O));L&&y.push(D.call(m,H+x,q+e));I=h;d.repeatitems&&(d.cell&&(g=a.jgrid.getAccessor(g,d.cell)||g),a.isArray(g)&&(I=J));for(s=0;s<I.length;s++)p=a.jgrid.getAccessor(g,I[s]),F[b.p.colModel[s+H+L+x].name]=p,y.push(u(w,p,s+H+L+x,q+e,g,F));y[S]=R(w,ba,U,F,g,O);y.push("\x3c/tr\x3e");b.p.grouping&&(K.push(y),b.p.groupingView._locgr||
Q.call(m,F,q),y=[]);if(l||!0===b.p.treeGrid)F._id_=a.jgrid.stripPref(b.p.idPrefix,w),b.p.data.push(F),b.p._index[F._id_]=b.p.data.length-1;!1===b.p.gridview&&(a("#"+a.jgrid.jqID(b.p.id)+" tbody:first").append(y.join("")),m.triggerHandler("jqGridAfterInsertRow",[w,F,g]),M&&b.p.afterInsertRow.call(b,w,F,g),y=[]);F={};n++;q++;if(n===Z)break}!0===b.p.gridview&&(z=-1<b.p.treeANode?b.p.treeANode:0,b.p.grouping?l||(m.jqGrid("groupingRender",K,b.p.colModel.length,b.p.page,Z),K=null):!0===b.p.treeGrid&&0<
z?a(b.rows[z]).after(y.join("")):(b.firstElementChild.innerHTML+=y.join(""),b.grid.cols=b.rows[0].cells));if(!0===b.p.subGrid)try{m.jqGrid("addSubGrid",H+x)}catch(T){}b.p.totaltime=new Date-k;0<n&&0===b.p.records&&(b.p.records=c);if(!0===b.p.treeGrid)try{m.jqGrid("setTreeNode",z+1,n+z+1)}catch(ca){}b.p.reccount=n;b.p.treeANode=-1;b.p.userDataOnFooter&&m.jqGrid("footerData","set",b.p.userData,!0);l&&(b.p.records=c,b.p.lastpage=Math.ceil(c/Z));f||b.updatepager(!1,!0);if(l){for(;n<c&&B[n];){g=B[n];w=
a.jgrid.getAccessor(g,E);void 0===w&&("number"===typeof E&&null!=b.p.colModel[E+H+L+x]&&(w=a.jgrid.getAccessor(g,b.p.colModel[E+H+L+x].name)),void 0===w&&(w=G+n,0===N.length&&d.cell&&(e=a.jgrid.getAccessor(g,d.cell)||g,w=null!=e&&void 0!==e[E]?e[E]:w)));if(g){w=b.p.idPrefix+w;I=h;d.repeatitems&&(d.cell&&(g=a.jgrid.getAccessor(g,d.cell)||g),a.isArray(g)&&(I=J));for(s=0;s<I.length;s++)F[b.p.colModel[s+H+L+x].name]=a.jgrid.getAccessor(g,I[s]);F._id_=a.jgrid.stripPref(b.p.idPrefix,w);b.p.grouping&&Q.call(m,
F,n);b.p.data.push(F);b.p._index[F._id_]=b.p.data.length-1;F={}}n++}b.p.grouping&&(b.p.groupingView._locgr=!0,m.jqGrid("groupingRender",K,b.p.colModel.length,b.p.page,Z))}}},S=function(){function c(a){var b=0,d,e,f,k,h;if(null!=a.groups){(e=a.groups.length&&"OR"===a.groupOp.toString().toUpperCase())&&t.orBegin();for(d=0;d<a.groups.length;d++){0<b&&e&&t.or();try{c(a.groups[d])}catch(l){alert(l)}b++}e&&t.orEnd()}if(null!=a.rules)try{(f=a.rules.length&&"OR"===a.groupOp.toString().toUpperCase())&&t.orBegin();
for(d=0;d<a.rules.length;d++)h=a.rules[d],k=a.groupOp.toString().toUpperCase(),s[h.op]&&h.field&&(0<b&&k&&"OR"===k&&(t=t.or()),t=s[h.op](t,k)(h.field,h.data,g[h.field])),b++;f&&t.orEnd()}catch(m){alert(m)}}var d=b.p.multiSort?[]:"",e=[],f=!1,g={},k=[],h=[],l,m,n;if(a.isArray(b.p.data)){var p=b.p.grouping?b.p.groupingView:!1,q,r;a.each(b.p.colModel,function(){m=this.sorttype||"text";"date"===m||"datetime"===m?(this.formatter&&"string"===typeof this.formatter&&"date"===this.formatter?(l=this.formatoptions&&
this.formatoptions.srcformat?this.formatoptions.srcformat:a.jgrid.formatter.date.srcformat,n=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:a.jgrid.formatter.date.newformat):l=n=this.datefmt||"Y-m-d",g[this.name]={stype:m,srcfmt:l,newfmt:n,sfunc:this.sortfunc||null}):g[this.name]={stype:m,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null};if(b.p.grouping)for(r=0,q=p.groupField.length;r<q;r++)if(this.name===p.groupField[r]){var c=this.name;this.index&&(c=this.index);k[r]=
g[c];h[r]=c}b.p.multiSort?this.lso&&(d.push(this.name),c=this.lso.split("-"),e.push(c[c.length-1])):f||this.index!==b.p.sortname&&this.name!==b.p.sortname||(d=this.name,f=!0)});if(b.p.treeGrid)a(b).jqGrid("SortTree",d,b.p.sortorder,g[d].stype||"text",g[d].srcfmt||"");else{var s={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},cn:function(a){return a.contains},
nc:function(a,b){return"OR"===b?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,b){return"OR"===b?a.orNot().startsWith:a.andNot().startsWith},en:function(a,b){return"OR"===b?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,b){return"OR"===b?a.orNot().equals:a.andNot().equals},"in":function(a){return a.equals},nu:function(a){return a.isNull},nn:function(a,b){return"OR"===b?a.orNot().isNull:a.andNot().isNull}},t=a.jgrid.from(b.p.data);
b.p.ignoreCase&&(t=t.ignoreCase());if(!0===b.p.search){var u=b.p.postData.filters;if(u)"string"===typeof u&&(u=a.jgrid.parse(u)),c(u);else try{t=s[b.p.postData.searchOper](t)(b.p.postData.searchField,b.p.postData.searchString,g[b.p.postData.searchField])}catch(A){}}if(b.p.grouping)for(r=0;r<q;r++)t.orderBy(h[r],p.groupOrder[r],k[r].stype,k[r].srcfmt);b.p.multiSort?a.each(d,function(a){t.orderBy(this,e[a],g[this].stype,g[this].srcfmt,g[this].sfunc)}):d&&b.p.sortorder&&f&&("DESC"===b.p.sortorder.toUpperCase()?
t.orderBy(b.p.sortname,"d",g[d].stype,g[d].srcfmt,g[d].sfunc):t.orderBy(b.p.sortname,"a",g[d].stype,g[d].srcfmt,g[d].sfunc));var u=t.select(),N=parseInt(b.p.rowNum,10),x=u.length,C=parseInt(b.p.page,10),D=Math.ceil(x/N),v={};if((b.p.search||b.p.resetsearch)&&b.p.grouping&&b.p.groupingView._locgr){b.p.groupingView.groups=[];var I,B=a.jgrid.getMethod("groupingPrepare"),w,J;if(b.p.footerrow&&b.p.userDataOnFooter){for(w in b.p.userData)b.p.userData.hasOwnProperty(w)&&(b.p.userData[w]=0);J=!0}for(I=0;I<
x;I++){if(J)for(w in b.p.userData)b.p.userData[w]+=parseFloat(u[I][w]||0);B.call(a(b),u[I],I,N)}}u=u.slice((C-1)*N,C*N);g=t=null;v[b.p.localReader.total]=D;v[b.p.localReader.page]=C;v[b.p.localReader.records]=x;v[b.p.localReader.root]=u;v[b.p.localReader.userdata]=b.p.userData;u=null;return v}}},z=function(){b.grid.hDiv.loading=!0;b.p.hiddengrid||a(b).jqGrid("progressBar",{method:"show",loadtype:b.p.loadui,htmlcontent:b.p.loadtext})},M=function(){b.grid.hDiv.loading=!1;a(b).jqGrid("progressBar",{method:"hide",
loadtype:b.p.loadui})},T=function(c){if(!b.grid.hDiv.loading){var d=b.p.scroll&&!1===c,e={},f,g=b.p.prmNames;0>=b.p.page&&(b.p.page=Math.min(1,b.p.lastpage));null!==g.search&&(e[g.search]=b.p.search);null!==g.nd&&(e[g.nd]=(new Date).getTime());null!==g.rows&&(e[g.rows]=b.p.rowNum);null!==g.page&&(e[g.page]=b.p.page);null!==g.sort&&(e[g.sort]=b.p.sortname);null!==g.order&&(e[g.order]=b.p.sortorder);null!==b.p.rowTotal&&null!==g.totalrows&&(e[g.totalrows]=b.p.rowTotal);var k=a.isFunction(b.p.loadComplete),
h=k?b.p.loadComplete:null,l=0;c=c||1;1<c?null!==g.npage?(e[g.npage]=c,l=c-1,c=1):h=function(a){b.p.page++;b.grid.hDiv.loading=!1;k&&b.p.loadComplete.call(b,a);T(c-1)}:null!==g.npage&&delete b.p.postData[g.npage];if(b.p.grouping){a(b).jqGrid("groupingSetup");var m=b.p.groupingView,n,p="";for(n=0;n<m.groupField.length;n++){var r=m.groupField[n];a.each(b.p.colModel,function(a,b){b.name===r&&b.index&&(r=b.index)});p+=r+" "+m.groupOrder[n]+", "}e[g.sort]=p+e[g.sort]}a.extend(b.p.postData,e);var q=b.p.scroll?
b.rows.length-1:1,e=a(b).triggerHandler("jqGridBeforeRequest");if(!1!==e&&"stop"!==e)if(a.isFunction(b.p.datatype))b.p.datatype.call(b,b.p.postData,"load_"+b.p.id,q,c,l);else{if(a.isFunction(b.p.beforeRequest)&&(e=b.p.beforeRequest.call(b),void 0===e&&(e=!0),!1===e))return;f=b.p.datatype.toLowerCase();switch(f){case "json":case "jsonp":case "xml":case "script":a.ajax(a.extend({url:b.p.url,type:b.p.mtype,dataType:f,data:a.isFunction(b.p.serializeGridData)?b.p.serializeGridData.call(b,b.p.postData):
b.p.postData,success:function(e,g,k){if(a.isFunction(b.p.beforeProcessing)&&!1===b.p.beforeProcessing.call(b,e,g,k))M();else{"xml"===f?V(e,b.grid.bDiv,q,1<c,l):G(e,b.grid.bDiv,q,1<c,l);a(b).triggerHandler("jqGridLoadComplete",[e]);h&&h.call(b,e);a(b).triggerHandler("jqGridAfterLoadComplete",[e]);d&&b.grid.populateVisible();if(b.p.loadonce||b.p.treeGrid)b.p.datatype="local";1===c&&M()}},error:function(d,e,g){a.isFunction(b.p.loadError)&&b.p.loadError.call(b,d,e,g);1===c&&M()},beforeSend:function(c,
d){var e=!0;a.isFunction(b.p.loadBeforeSend)&&(e=b.p.loadBeforeSend.call(b,c,d));void 0===e&&(e=!0);if(!1===e)return!1;z()}},a.jgrid.ajaxOptions,b.p.ajaxGridOptions));break;case "xmlstring":z();e="string"!==typeof b.p.datastr?b.p.datastr:a.parseXML(b.p.datastr);V(e,b.grid.bDiv);a(b).triggerHandler("jqGridLoadComplete",[e]);k&&b.p.loadComplete.call(b,e);a(b).triggerHandler("jqGridAfterLoadComplete",[e]);b.p.datatype="local";b.p.datastr=null;M();break;case "jsonstring":z();e="string"===typeof b.p.datastr?
a.jgrid.parse(b.p.datastr):b.p.datastr;G(e,b.grid.bDiv);a(b).triggerHandler("jqGridLoadComplete",[e]);k&&b.p.loadComplete.call(b,e);a(b).triggerHandler("jqGridAfterLoadComplete",[e]);b.p.datatype="local";b.p.datastr=null;M();break;case "local":case "clientside":z(),b.p.datatype="local",e=S(),G(e,b.grid.bDiv,q,1<c,l),a(b).triggerHandler("jqGridLoadComplete",[e]),h&&h.call(b,e),a(b).triggerHandler("jqGridAfterLoadComplete",[e]),d&&b.grid.populateVisible(),M()}}}},$=function(c){a("#cb_"+a.jgrid.jqID(b.p.id),
b.grid.hDiv)[b.p.useProp?"prop":"attr"]("checked",c);if(b.p.frozenColumns&&b.p.id+"_frozen")a("#cb_"+a.jgrid.jqID(b.p.id),b.grid.fhDiv)[b.p.useProp?"prop":"attr"]("checked",c)},ka=function(c,d){var e="",g="\x3ctable cellspacing\x3d'0' cellpadding\x3d'0' border\x3d'0' style\x3d'table-layout:auto;' class\x3d'ui-pg-table'\x3e\x3ctbody\x3e\x3ctr\x3e",f="",k,h,m,n,p=function(c){var d;a.isFunction(b.p.onPaging)&&(d=b.p.onPaging.call(b,c));if("stop"===d)return!1;b.p.selrow=null;b.p.multiselect&&(b.p.selarrrow=
[],$(!1));b.p.savedRow=[];return!0};c=c.substr(1);d+="_"+c;k="pg_"+c;h=c+"_left";m=c+"_center";n=c+"_right";a("#"+a.jgrid.jqID(c)).append("\x3cdiv id\x3d'"+k+"' class\x3d'ui-pager-control' role\x3d'group'\x3e\x3ctable cellspacing\x3d'0' cellpadding\x3d'0' border\x3d'0' class\x3d'ui-pg-table' style\x3d'width:100%;table-layout:fixed;height:100%;' role\x3d'row'\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd id\x3d'"+h+"' align\x3d'left'\x3e\x3c/td\x3e\x3ctd id\x3d'"+m+"' align\x3d'center' style\x3d'white-space:pre;'\x3e\x3c/td\x3e\x3ctd id\x3d'"+
n+"' align\x3d'right'\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e").attr("dir","ltr");if(0<b.p.rowList.length){f="\x3ctd dir\x3d'"+l+"'\x3e";f+="\x3cselect class\x3d'ui-pg-selbox' role\x3d'listbox' "+(b.p.pgrecs?"title\x3d'"+b.p.pgrecs+"'":"")+"\x3e";for(h=0;h<b.p.rowList.length;h++)m=b.p.rowList[h].toString().split(":"),1===m.length&&(m[1]=m[0]),f+='\x3coption role\x3d"option" value\x3d"'+m[0]+'"'+(r(b.p.rowNum,0)===r(m[0],0)?' selected\x3d"selected"':"")+"\x3e"+m[1]+"\x3c/option\x3e";
f+="\x3c/select\x3e\x3c/td\x3e"}"rtl"===l&&(g+=f);!0===b.p.pginput&&(e="\x3ctd dir\x3d'"+l+"'\x3e"+a.jgrid.format(b.p.pgtext||"","\x3cinput class\x3d'ui-pg-input' type\x3d'text' size\x3d'2' maxlength\x3d'7' value\x3d'0' role\x3d'textbox'/\x3e","\x3cspan id\x3d'sp_1_"+a.jgrid.jqID(c)+"'\x3e\x3c/span\x3e")+"\x3c/td\x3e");!0===b.p.pgbuttons?(h=["first"+d,"prev"+d,"next"+d,"last"+d],"rtl"===l&&h.reverse(),g+="\x3ctd id\x3d'"+h[0]+"' class\x3d'ui-pg-button ui-corner-all' "+(b.p.pgfirst?"title\x3d'"+b.p.pgfirst+
"'":"")+"\x3e\x3cspan class\x3d'ui-icon ui-icon-seek-first'\x3e\x3c/span\x3e\x3c/td\x3e",g+="\x3ctd id\x3d'"+h[1]+"' class\x3d'ui-pg-button ui-corner-all' "+(b.p.pgprev?"title\x3d'"+b.p.pgprev+"'":"")+"\x3e\x3cspan class\x3d'ui-icon ui-icon-seek-prev'\x3e\x3c/span\x3e\x3c/td\x3e",g=g+(""!==e?"\x3ctd class\x3d'ui-pg-button ui-state-disabled' style\x3d'width:4px;'\x3e\x3cspan class\x3d'ui-separator'\x3e\x3c/span\x3e\x3c/td\x3e"+e+"\x3ctd class\x3d'ui-pg-button ui-state-disabled' style\x3d'width:4px;'\x3e\x3cspan class\x3d'ui-separator'\x3e\x3c/span\x3e\x3c/td\x3e":
"")+("\x3ctd id\x3d'"+h[2]+"' class\x3d'ui-pg-button ui-corner-all' "+(b.p.pgnext?"title\x3d'"+b.p.pgnext+"'":"")+"\x3e\x3cspan class\x3d'ui-icon ui-icon-seek-next'\x3e\x3c/span\x3e\x3c/td\x3e"),g+="\x3ctd id\x3d'"+h[3]+"' class\x3d'ui-pg-button ui-corner-all' "+(b.p.pglast?"title\x3d'"+b.p.pglast+"'":"")+"\x3e\x3cspan class\x3d'ui-icon ui-icon-seek-end'\x3e\x3c/span\x3e\x3c/td\x3e"):""!==e&&(g+=e);"ltr"===l&&(g+=f);g+="\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e";!0===b.p.viewrecords&&a("td#"+c+"_"+
b.p.recordpos,"#"+k).append("\x3cdiv dir\x3d'"+l+"' style\x3d'text-align:"+b.p.recordpos+"' class\x3d'ui-paging-info'\x3e\x3c/div\x3e");a("td#"+c+"_"+b.p.pagerpos,"#"+k).append(g);f=a(".ui-jqgrid").css("font-size")||"11px";a(document.body).append("\x3cdiv id\x3d'testpg' class\x3d'ui-jqgrid ui-widget ui-widget-content' style\x3d'font-size:"+f+";visibility:hidden;' \x3e\x3c/div\x3e");g=a(g).clone().appendTo("#testpg").width();a("#testpg").remove();0<g&&(""!==e&&(g+=50),a("td#"+c+"_"+b.p.pagerpos,"#"+
k).width(g));b.p._nvtd=[];b.p._nvtd[0]=g?Math.floor((b.p.width-g)/2):Math.floor(b.p.width/3);b.p._nvtd[1]=0;g=null;a(".ui-pg-selbox","#"+k).bind("change",function(){if(!p("records"))return!1;b.p.page=Math.round(b.p.rowNum*(b.p.page-1)/this.value-.5)+1;b.p.rowNum=this.value;b.p.pager&&a(".ui-pg-selbox",b.p.pager).val(this.value);b.p.toppager&&a(".ui-pg-selbox",b.p.toppager).val(this.value);T();return!1});!0===b.p.pgbuttons&&(a(".ui-pg-button","#"+k).hover(function(){a(this).hasClass("ui-state-disabled")?
this.style.cursor="default":(a(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){a(this).hasClass("ui-state-disabled")||(a(this).removeClass("ui-state-hover"),this.style.cursor="default")}),a("#first"+a.jgrid.jqID(d)+", #prev"+a.jgrid.jqID(d)+", #next"+a.jgrid.jqID(d)+", #last"+a.jgrid.jqID(d)).click(function(){if(a(this).hasClass("ui-state-disabled"))return!1;var c=r(b.p.page,1),e=r(b.p.lastpage,1),g=!1,f=!0,k=!0,h=!0,l=!0;0===e||1===e?l=h=k=f=!1:1<e&&1<=c?1===c?k=f=!1:c===
e&&(l=h=!1):1<e&&0===c&&(l=h=!1,c=e-1);if(!p(this.id))return!1;this.id==="first"+d&&f&&(b.p.page=1,g=!0);this.id==="prev"+d&&k&&(b.p.page=c-1,g=!0);this.id==="next"+d&&h&&(b.p.page=c+1,g=!0);this.id==="last"+d&&l&&(b.p.page=e,g=!0);g&&T();return!1}));!0===b.p.pginput&&a("input.ui-pg-input","#"+k).keypress(function(c){if(13===(c.charCode||c.keyCode||0)){if(!p("user"))return!1;a(this).val(r(a(this).val(),1));b.p.page=0<a(this).val()?a(this).val():b.p.page;T();return!1}return this})},N=function(c,d){var e,
g="",f=b.p.colModel,k=!1,h;h=b.p.frozenColumns?d:b.grid.headers[c].el;var l="";a("span.ui-grid-ico-sort",h).addClass("ui-state-disabled");a(h).attr("aria-selected","false");if(f[c].lso)if("asc"===f[c].lso)f[c].lso+="-desc",l="desc";else if("desc"===f[c].lso)f[c].lso+="-asc",l="asc";else{if("asc-desc"===f[c].lso||"desc-asc"===f[c].lso)f[c].lso=""}else f[c].lso=l=f[c].firstsortorder||"asc";l?(a("span.s-ico",h).show(),a("span.ui-icon-"+l,h).removeClass("ui-state-disabled"),a(h).attr("aria-selected",
"true")):b.p.viewsortcols[0]||a("span.s-ico",h).hide();b.p.sortorder="";a.each(f,function(a){this.lso&&(0<a&&k&&(g+=", "),e=this.lso.split("-"),g+=f[a].index||f[a].name,g+=" "+e[e.length-1],k=!0,b.p.sortorder=e[e.length-1])});h=g.lastIndexOf(b.p.sortorder);g=g.substring(0,h);b.p.sortname=g},U=function(c,d,e,g,f){if(b.p.colModel[d].sortable&&!(0<b.p.savedRow.length)){e||(b.p.lastsort===d&&""!==b.p.sortname?"asc"===b.p.sortorder?b.p.sortorder="desc":"desc"===b.p.sortorder&&(b.p.sortorder="asc"):b.p.sortorder=
b.p.colModel[d].firstsortorder||"asc",b.p.page=1);if(b.p.multiSort)N(d,f);else{if(g){if(b.p.lastsort===d&&b.p.sortorder===g&&!e)return;b.p.sortorder=g}e=b.grid.headers[b.p.lastsort].el;f=b.p.frozenColumns?f:b.grid.headers[d].el;a("span.ui-grid-ico-sort",e).addClass("ui-state-disabled");a(e).attr("aria-selected","false");b.p.frozenColumns&&(b.grid.fhDiv.find("span.ui-grid-ico-sort").addClass("ui-state-disabled"),b.grid.fhDiv.find("th").attr("aria-selected","false"));a("span.ui-icon-"+b.p.sortorder,
f).removeClass("ui-state-disabled");a(f).attr("aria-selected","true");b.p.viewsortcols[0]||(b.p.lastsort!==d?(b.p.frozenColumns&&b.grid.fhDiv.find("span.s-ico").hide(),a("span.s-ico",e).hide(),a("span.s-ico",f).show()):""===b.p.sortname&&a("span.s-ico",f).show());c=c.substring(5+b.p.id.length+1);b.p.sortname=b.p.colModel[d].index||c}"stop"===a(b).triggerHandler("jqGridSortCol",[b.p.sortname,d,b.p.sortorder])?b.p.lastsort=d:a.isFunction(b.p.onSortCol)&&"stop"===b.p.onSortCol.call(b,b.p.sortname,d,
b.p.sortorder)?b.p.lastsort=d:("local"===b.p.datatype?b.p.deselectAfterSort&&a(b).jqGrid("resetSelection"):(b.p.selrow=null,b.p.multiselect&&$(!1),b.p.selarrrow=[],b.p.savedRow=[]),b.p.scroll&&(f=b.grid.bDiv.scrollLeft,P.call(b,!0,!1),b.grid.hDiv.scrollLeft=f),b.p.subGrid&&"local"===b.p.datatype&&a("td.sgexpanded","#"+a.jgrid.jqID(b.p.id)).each(function(){a(this).trigger("click")}),T(),b.p.lastsort=d,b.p.sortname!==c&&d&&(b.p.lastsort=d))}},I=function(c){c=a(b.grid.headers[c].el);c=[c.position().left+
c.outerWidth()];"rtl"===b.p.direction&&(c[0]=b.p.width-c[0]);c[0]-=b.grid.bDiv.scrollLeft;c.push(a(b.grid.hDiv).position().top);c.push(a(b.grid.bDiv).offset().top-a(b.grid.hDiv).offset().top+a(b.grid.bDiv).height());return c},J=function(c){var d,e=b.grid.headers,g=a.jgrid.getCellIndex(c);for(d=0;d<e.length;d++)if(c===e[d].el){g=d;break}return g},D;this.p.id=this.id;-1===a.inArray(b.p.multikey,["shiftKey","altKey","ctrlKey"])&&(b.p.multikey=!1);b.p.keyName=!1;for(k=0;k<b.p.colModel.length;k++)D="string"===
typeof b.p.colModel[k].template?null!=a.jgrid.cmTemplate&&"object"===typeof a.jgrid.cmTemplate[b.p.colModel[k].template]?a.jgrid.cmTemplate[b.p.colModel[k].template]:{}:b.p.colModel[k].template,b.p.colModel[k]=a.extend(!0,{},b.p.cmTemplate,D||{},b.p.colModel[k]),!1===b.p.keyName&&!0===b.p.colModel[k].key&&(b.p.keyName=b.p.colModel[k].name);b.p.sortorder=b.p.sortorder.toLowerCase();a.jgrid.cell_width=a.jgrid.cellWidth();!0===b.p.grouping&&(b.p.scroll=!1,b.p.rownumbers=!1,b.p.treeGrid=!1,b.p.gridview=
!0);if(!0===this.p.treeGrid){try{a(this).jqGrid("setTreeGrid")}catch(Z){}"local"!==b.p.datatype&&(b.p.localReader={id:"_id_"})}if(this.p.subGrid)try{a(b).jqGrid("setSubGrid")}catch(ea){}this.p.multiselect&&(this.p.colNames.unshift("\x3cinput role\x3d'checkbox' id\x3d'cb_"+this.p.id+"' class\x3d'cbox' type\x3d'checkbox'/\x3e"),this.p.colModel.unshift({name:"cb",width:a.jgrid.cell_width?b.p.multiselectWidth+b.p.cellLayout:b.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",
fixed:!0}));this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:b.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0}));b.p.xmlReader=a.extend(!0,{root:"rows",row:"row",page:"rows\x3epage",total:"rows\x3etotal",records:"rows\x3erecords",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},b.p.xmlReader);b.p.jsonReader=a.extend(!0,{root:"rows",page:"page",total:"total",
records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},b.p.jsonReader);b.p.localReader=a.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},b.p.localReader);b.p.scroll&&(b.p.pgbuttons=!1,b.p.pginput=!1,b.p.rowList=[]);b.p.data.length&&(x(),Q());D="\x3cthead\x3e\x3ctr class\x3d'ui-jqgrid-labels' role\x3d'row'\x3e";
var qa,O,la,ha,ma,B,y,fa,ra=fa="",ia=[],ba=[];O=[];if(!0===b.p.shrinkToFit&&!0===b.p.forceFit)for(k=b.p.colModel.length-1;0<=k;k--)if(!b.p.colModel[k].hidden){b.p.colModel[k].resizable=!1;break}"horizontal"===b.p.viewsortcols[1]&&(fa=" ui-i-asc",ra=" ui-i-desc");qa=c?"class\x3d'ui-th-div-ie'":"";fa="\x3cspan class\x3d's-ico' style\x3d'display:none'\x3e\x3cspan sort\x3d'asc' class\x3d'ui-grid-ico-sort ui-icon-asc"+fa+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+l+"'\x3e\x3c/span\x3e"+
("\x3cspan sort\x3d'desc' class\x3d'ui-grid-ico-sort ui-icon-desc"+ra+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+l+"'\x3e\x3c/span\x3e\x3c/span\x3e");if(b.p.multiSort)for(ia=b.p.sortname.split(","),k=0;k<ia.length;k++)O=a.trim(ia[k]).split(" "),ia[k]=a.trim(O[0]),ba[k]=O[1]?a.trim(O[1]):b.p.sortorder||"asc";for(k=0;k<this.p.colNames.length;k++)O=b.p.headertitles?' title\x3d"'+a.jgrid.stripHtml(b.p.colNames[k])+'"':"",D+="\x3cth id\x3d'"+b.p.id+"_"+b.p.colModel[k].name+"' role\x3d'columnheader' class\x3d'ui-state-default ui-th-column ui-th-"+
l+"'"+O+"\x3e",O=b.p.colModel[k].index||b.p.colModel[k].name,D+="\x3cdiv id\x3d'jqgh_"+b.p.id+"_"+b.p.colModel[k].name+"' "+qa+"\x3e"+b.p.colNames[k],b.p.colModel[k].width=b.p.colModel[k].width?parseInt(b.p.colModel[k].width,10):150,"boolean"!==typeof b.p.colModel[k].title&&(b.p.colModel[k].title=!0),b.p.colModel[k].lso="",O===b.p.sortname&&(b.p.lastsort=k),b.p.multiSort&&(O=a.inArray(O,ia),-1!==O&&(b.p.colModel[k].lso=ba[O])),D+=fa+"\x3c/div\x3e\x3c/th\x3e";D+="\x3c/tr\x3e\x3c/thead\x3e";fa=null;
a(this).append(D);a("thead tr:first th",this).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});if(this.p.multiselect){var na=[],ca;a("#cb_"+a.jgrid.jqID(b.p.id),this).bind("click",function(){b.p.selarrrow=[];var c=!0===b.p.frozenColumns?b.p.id+"_frozen":"";this.checked?(a(b.rows).each(function(d){0<d&&!(a(this).hasClass("ui-subgrid")||a(this).hasClass("jqgroup")||a(this).hasClass("ui-state-disabled")||a(this).hasClass("jqfoot"))&&(a("#jqg_"+a.jgrid.jqID(b.p.id)+
"_"+a.jgrid.jqID(this.id))[b.p.useProp?"prop":"attr"]("checked",!0),a(this).addClass("ui-state-highlight").attr("aria-selected","true"),b.p.selarrrow.push(this.id),b.p.selrow=this.id,c&&(a("#jqg_"+a.jgrid.jqID(b.p.id)+"_"+a.jgrid.jqID(this.id),b.grid.fbDiv)[b.p.useProp?"prop":"attr"]("checked",!0),a("#"+a.jgrid.jqID(this.id),b.grid.fbDiv).addClass("ui-state-highlight")))}),ca=!0,na=[]):(a(b.rows).each(function(d){0<d&&!(a(this).hasClass("ui-subgrid")||a(this).hasClass("jqgroup")||a(this).hasClass("ui-state-disabled")||
a(this).hasClass("jqfoot"))&&(a("#jqg_"+a.jgrid.jqID(b.p.id)+"_"+a.jgrid.jqID(this.id))[b.p.useProp?"prop":"attr"]("checked",!1),a(this).removeClass("ui-state-highlight").attr("aria-selected","false"),na.push(this.id),c&&(a("#jqg_"+a.jgrid.jqID(b.p.id)+"_"+a.jgrid.jqID(this.id),b.grid.fbDiv)[b.p.useProp?"prop":"attr"]("checked",!1),a("#"+a.jgrid.jqID(this.id),b.grid.fbDiv).removeClass("ui-state-highlight")))}),b.p.selrow=null,ca=!1);a(b).triggerHandler("jqGridSelectAll",[ca?b.p.selarrrow:na,ca]);
a.isFunction(b.p.onSelectAll)&&b.p.onSelectAll.call(b,ca?b.p.selarrrow:na,ca)})}!0===b.p.autowidth&&(D=a(n).innerWidth(),b.p.width=0<D?D:"nw");(function(){var c=0,d=a.jgrid.cell_width?0:r(b.p.cellLayout,0),e=0,f,k=r(b.p.scrollOffset,0),h,l=!1,m,n=0,p;a.each(b.p.colModel,function(){void 0===this.hidden&&(this.hidden=!1);if(b.p.grouping&&b.p.autowidth){var g=a.inArray(this.name,b.p.groupingView.groupField);0<=g&&b.p.groupingView.groupColumnShow.length>g&&(this.hidden=!b.p.groupingView.groupColumnShow[g])}this.widthOrg=
h=r(this.width,0);!1===this.hidden&&(c+=h+d,this.fixed?n+=h+d:e++)});isNaN(b.p.width)&&(b.p.width=c+(!1!==b.p.shrinkToFit||isNaN(b.p.height)?0:k));g.width=b.p.width;b.p.tblwidth=c;!1===b.p.shrinkToFit&&!0===b.p.forceFit&&(b.p.forceFit=!1);!0===b.p.shrinkToFit&&0<e&&(m=g.width-d*e-n,isNaN(b.p.height)||(m-=k,l=!0),c=0,a.each(b.p.colModel,function(a){!1!==this.hidden||this.fixed||(this.width=h=Math.round(m*this.width/(b.p.tblwidth-d*e-n)),c+=h,f=a)}),p=0,l?g.width-n-(c+d*e)!==k&&(p=g.width-n-(c+d*e)-
k):l||1===Math.abs(g.width-n-(c+d*e))||(p=g.width-n-(c+d*e)),b.p.colModel[f].width+=p,b.p.tblwidth=c+p+d*e+n,b.p.tblwidth>b.p.width&&(b.p.colModel[f].width-=b.p.tblwidth-parseInt(b.p.width,10),b.p.tblwidth=b.p.width))})();a(n).css("width",g.width+"px").append("\x3cdiv class\x3d'ui-jqgrid-resize-mark' id\x3d'rs_m"+b.p.id+"'\x3e\x26#160;\x3c/div\x3e");a(m).css("width",g.width+"px");D=a("thead:first",b).get(0);var da="";b.p.footerrow&&(da+="\x3ctable role\x3d'presentation' style\x3d'width:"+b.p.tblwidth+
"px' class\x3d'ui-jqgrid-ftable' cellspacing\x3d'0' cellpadding\x3d'0' border\x3d'0'\x3e\x3ctbody\x3e\x3ctr role\x3d'row' class\x3d'ui-widget-content footrow footrow-"+l+"'\x3e");var m=a("tr:first",D),ga="\x3ctr class\x3d'jqgfirstrow' role\x3d'row' style\x3d'height:auto'\x3e";b.p.disableClick=!1;a("th",m).each(function(c){la=b.p.colModel[c].width;void 0===b.p.colModel[c].resizable&&(b.p.colModel[c].resizable=!0);b.p.colModel[c].resizable?(ha=document.createElement("span"),a(ha).html("\x26#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+
l).css("cursor","col-resize"),a(this).addClass(b.p.resizeclass)):ha="";a(this).css("width",la+"px").prepend(ha);ha=null;var d="";b.p.colModel[c].hidden&&(a(this).css("display","none"),d="display:none;");ga+="\x3ctd role\x3d'gridcell' style\x3d'height:0px;width:"+la+"px;"+d+"'\x3e\x3c/td\x3e";g.headers[c]={width:la,el:this};ma=b.p.colModel[c].sortable;"boolean"!==typeof ma&&(ma=b.p.colModel[c].sortable=!0);d=b.p.colModel[c].name;"cb"!==d&&"subgrid"!==d&&"rn"!==d&&b.p.viewsortcols[2]&&a("\x3ediv",this).addClass("ui-jqgrid-sortable");
ma&&(b.p.multiSort?b.p.viewsortcols[0]?(a("div span.s-ico",this).show(),b.p.colModel[c].lso&&a("div span.ui-icon-"+b.p.colModel[c].lso,this).removeClass("ui-state-disabled")):b.p.colModel[c].lso&&(a("div span.s-ico",this).show(),a("div span.ui-icon-"+b.p.colModel[c].lso,this).removeClass("ui-state-disabled")):b.p.viewsortcols[0]?(a("div span.s-ico",this).show(),c===b.p.lastsort&&a("div span.ui-icon-"+b.p.sortorder,this).removeClass("ui-state-disabled")):c===b.p.lastsort&&""!==b.p.sortname&&(a("div span.s-ico",
this).show(),a("div span.ui-icon-"+b.p.sortorder,this).removeClass("ui-state-disabled")));b.p.footerrow&&(da+="\x3ctd role\x3d'gridcell' "+q(c,0,"",null,"",!1)+"\x3e\x26#160;\x3c/td\x3e")}).mousedown(function(c){if(1===a(c.target).closest("th\x3espan.ui-jqgrid-resize").length){var d=J(this);if(!0===b.p.forceFit){var e=b.p,f=d,k;for(k=d+1;k<b.p.colModel.length;k++)if(!0!==b.p.colModel[k].hidden){f=k;break}e.nv=f-d}g.dragStart(d,c,I(d));return!1}}).click(function(c){if(b.p.disableClick)return b.p.disableClick=
!1;var d="th\x3ediv.ui-jqgrid-sortable",e,g;b.p.viewsortcols[2]||(d="th\x3ediv\x3espan\x3espan.ui-grid-ico-sort");c=a(c.target).closest(d);if(1===c.length){var f;if(b.p.frozenColumns){var k=a(this)[0].id.substring(b.p.id.length+1);a(b.p.colModel).each(function(a){if(this.name===k)return f=a,!1})}else f=J(this);b.p.viewsortcols[2]||(e=!0,g=c.attr("sort"));null!=f&&U(a("div",this)[0].id,f,e,g,this);return!1}});if(b.p.sortable&&a.fn.sortable)try{a(b).jqGrid("sortableColumns",m)}catch(ta){}b.p.footerrow&&
(da+="\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e");ga+="\x3c/tr\x3e";m=document.createElement("tbody");this.appendChild(m);a(this).addClass("ui-jqgrid-btable").append(ga);var ga=null,m=a("\x3ctable class\x3d'ui-jqgrid-htable' style\x3d'width:"+b.p.tblwidth+"px' role\x3d'presentation' aria-labelledby\x3d'gbox_"+this.id+"' cellspacing\x3d'0' cellpadding\x3d'0' border\x3d'0'\x3e\x3c/table\x3e").append(D),X=b.p.caption&&!0===b.p.hiddengrid?!0:!1;k=a("\x3cdiv class\x3d'ui-jqgrid-hbox"+("rtl"===l?"-rtl":"")+
"'\x3e\x3c/div\x3e");D=null;g.hDiv=document.createElement("div");a(g.hDiv).css({width:g.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(k);a(k).append(m);m=null;X&&a(g.hDiv).hide();b.p.pager&&("string"===typeof b.p.pager?"#"!==b.p.pager.substr(0,1)&&(b.p.pager="#"+b.p.pager):b.p.pager="#"+a(b.p.pager).attr("id"),a(b.p.pager).css({width:g.width+"px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(n),X&&a(b.p.pager).hide(),ka(b.p.pager,""));!1===b.p.cellEdit&&
!0===b.p.hoverrows&&a(b).bind("mouseover",function(b){y=a(b.target).closest("tr.jqgrow");"ui-subgrid"!==a(y).attr("class")&&a(y).addClass("ui-state-hover")}).bind("mouseout",function(b){y=a(b.target).closest("tr.jqgrow");a(y).removeClass("ui-state-hover")});var K,Y,oa;a(b).before(g.hDiv).click(function(c){B=c.target;y=a(B,b.rows).closest("tr.jqgrow");if(0===a(y).length||-1<y[0].className.indexOf("ui-state-disabled")||(a(B,b).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==
b.id)return this;var d=a(B).hasClass("cbox"),e=a(b).triggerHandler("jqGridBeforeSelectRow",[y[0].id,c]),e=!1===e||"stop"===e?!1:!0;if(a.isFunction(b.p.beforeSelectRow)){var g=b.p.beforeSelectRow.call(b,y[0].id,c);if(!1===g||"stop"===g)e=!1}if("A"!==B.tagName&&("INPUT"!==B.tagName&&"TEXTAREA"!==B.tagName&&"OPTION"!==B.tagName&&"SELECT"!==B.tagName||d)){K=y[0].id;B=a(B).closest("tr.jqgrow\x3etd");0<B.length&&(Y=a.jgrid.getCellIndex(B),oa=a(B).closest("td,th").html(),a(b).triggerHandler("jqGridCellSelect",
[K,Y,oa,c]),a.isFunction(b.p.onCellSelect)&&b.p.onCellSelect.call(b,K,Y,oa,c));if(!0===b.p.cellEdit)if(b.p.multiselect&&d&&e)a(b).jqGrid("setSelection",K,!0,c);else if(0<B.length){K=y[0].rowIndex;try{a(b).jqGrid("editCell",K,Y,!0)}catch(f){}}if(e)if(b.p.multikey)c[b.p.multikey]?a(b).jqGrid("setSelection",K,!0,c):b.p.multiselect&&d&&(d=a("#jqg_"+a.jgrid.jqID(b.p.id)+"_"+K).is(":checked"),a("#jqg_"+a.jgrid.jqID(b.p.id)+"_"+K)[b.p.useProp?"prop":"attr"]("checked",d));else{if(b.p.multiselect&&b.p.multiboxonly&&
!d){var k=b.p.frozenColumns?b.p.id+"_frozen":"";a(b.p.selarrrow).each(function(c,d){var e=a(b).jqGrid("getGridRowById",d);e&&a(e).removeClass("ui-state-highlight");a("#jqg_"+a.jgrid.jqID(b.p.id)+"_"+a.jgrid.jqID(d))[b.p.useProp?"prop":"attr"]("checked",!1);k&&(a("#"+a.jgrid.jqID(d),"#"+a.jgrid.jqID(k)).removeClass("ui-state-highlight"),a("#jqg_"+a.jgrid.jqID(b.p.id)+"_"+a.jgrid.jqID(d),"#"+a.jgrid.jqID(k))[b.p.useProp?"prop":"attr"]("checked",!1))});b.p.selarrrow=[]}a(b).jqGrid("setSelection",K,!0,
c)}}}).bind("reloadGrid",function(c,d){!0===b.p.treeGrid&&(b.p.datatype=b.p.treedatatype);d&&d.current&&b.grid.selectionPreserver(b);"local"===b.p.datatype?(a(b).jqGrid("resetSelection"),b.p.data.length&&(x(),Q())):b.p.treeGrid||(b.p.selrow=null,b.p.multiselect&&(b.p.selarrrow=[],$(!1)),b.p.savedRow=[]);b.p.scroll&&P.call(b,!0,!1);if(d&&d.page){var e=d.page;e>b.p.lastpage&&(e=b.p.lastpage);1>e&&(e=1);b.p.page=e;b.grid.bDiv.scrollTop=b.grid.prevRowHeight?(e-1)*b.grid.prevRowHeight*b.p.rowNum:0}b.grid.prevRowHeight&&
b.p.scroll?(delete b.p.lastpage,b.grid.populateVisible()):b.grid.populate();!0===b.p._inlinenav&&a(b).jqGrid("showAddEditButtons");return!1}).dblclick(function(c){B=c.target;y=a(B,b.rows).closest("tr.jqgrow");if(0!==a(y).length){K=y[0].rowIndex;Y=a.jgrid.getCellIndex(B);var d=a(b).triggerHandler("jqGridDblClickRow",[a(y).attr("id"),K,Y,c]);if(null!=d||a.isFunction(b.p.ondblClickRow)&&(d=b.p.ondblClickRow.call(b,a(y).attr("id"),K,Y,c),null!=d))return d}}).bind("contextmenu",function(c){B=c.target;
y=a(B,b.rows).closest("tr.jqgrow");if(0!==a(y).length){b.p.multiselect||a(b).jqGrid("setSelection",y[0].id,!0,c);K=y[0].rowIndex;Y=a.jgrid.getCellIndex(B);var d=a(b).triggerHandler("jqGridRightClickRow",[a(y).attr("id"),K,Y,c]);if(null!=d||a.isFunction(b.p.onRightClickRow)&&(d=b.p.onRightClickRow.call(b,a(y).attr("id"),K,Y,c),null!=d))return d}});g.bDiv=document.createElement("div");c&&"auto"===String(b.p.height).toLowerCase()&&(b.p.height="100%");a(g.bDiv).append(a('\x3cdiv style\x3d"position:relative;'+
(c&&8>a.jgrid.msiever()?"height:0.01%;":"")+'"\x3e\x3c/div\x3e').append("\x3cdiv\x3e\x3c/div\x3e").append(this)).addClass("ui-jqgrid-bdiv").css({height:b.p.height+(isNaN(b.p.height)?"":"px"),width:g.width+"px"}).scroll(g.scrollGrid);a("table:first",g.bDiv).css({width:b.p.tblwidth+"px"});a.support.tbody||2===a("tbody",this).length&&a("tbody:gt(0)",this).remove();b.p.multikey&&(a.jgrid.msie?a(g.bDiv).bind("selectstart",function(){return!1}):a(g.bDiv).bind("mousedown",function(){return!1}));X&&a(g.bDiv).hide();
g.cDiv=document.createElement("div");var pa=!0===b.p.hidegrid?a("\x3ca role\x3d'link' class\x3d'ui-jqgrid-titlebar-close ui-corner-all HeaderButton' "+(b.p.showhide?"title\x3d'"+b.p.showhide+"'":"")+" /\x3e").hover(function(){pa.addClass("ui-state-hover")},function(){pa.removeClass("ui-state-hover")}).append("\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-n'\x3e\x3c/span\x3e").css("rtl"===l?"left":"right","0px"):"";a(g.cDiv).append(pa).append("\x3cspan class\x3d'ui-jqgrid-title'\x3e"+b.p.caption+
"\x3c/span\x3e").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===l?"-rtl":"")+" ui-widget-header ui-corner-top ui-helper-clearfix");a(g.cDiv).insertBefore(g.hDiv);b.p.toolbar[0]&&(g.uDiv=document.createElement("div"),"top"===b.p.toolbar[1]?a(g.uDiv).insertBefore(g.hDiv):"bottom"===b.p.toolbar[1]&&a(g.uDiv).insertAfter(g.hDiv),"both"===b.p.toolbar[1]?(g.ubDiv=document.createElement("div"),a(g.uDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id).insertBefore(g.hDiv),a(g.ubDiv).addClass("ui-userdata ui-state-default").attr("id",
"tb_"+this.id).insertAfter(g.hDiv),X&&a(g.ubDiv).hide()):a(g.uDiv).width(g.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),X&&a(g.uDiv).hide());b.p.toppager&&(b.p.toppager=a.jgrid.jqID(b.p.id)+"_toppager",g.topDiv=a("\x3cdiv id\x3d'"+b.p.toppager+"'\x3e\x3c/div\x3e")[0],b.p.toppager="#"+b.p.toppager,a(g.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(g.width).insertBefore(g.hDiv),ka(b.p.toppager,"_t"));b.p.footerrow&&(g.sDiv=a("\x3cdiv class\x3d'ui-jqgrid-sdiv'\x3e\x3c/div\x3e")[0],
k=a("\x3cdiv class\x3d'ui-jqgrid-hbox"+("rtl"===l?"-rtl":"")+"'\x3e\x3c/div\x3e"),a(g.sDiv).append(k).width(g.width).insertAfter(g.hDiv),a(k).append(da),g.footers=a(".ui-jqgrid-ftable",g.sDiv)[0].rows[0].cells,b.p.rownumbers&&(g.footers[0].className="ui-state-default jqgrid-rownum"),X&&a(g.sDiv).hide());k=null;if(b.p.caption){var sa=b.p.datatype;!0===b.p.hidegrid&&(a(".ui-jqgrid-titlebar-close",g.cDiv).click(function(c){var d=a.isFunction(b.p.onHeaderClick),e=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",
f,k=this;!0===b.p.toolbar[0]&&("both"===b.p.toolbar[1]&&(e+=", #"+a(g.ubDiv).attr("id")),e+=", #"+a(g.uDiv).attr("id"));f=a(e,"#gview_"+a.jgrid.jqID(b.p.id)).length;"visible"===b.p.gridstate?a(e,"#gbox_"+a.jgrid.jqID(b.p.id)).slideUp("fast",function(){f--;0===f&&(a("span",k).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),b.p.gridstate="hidden",a("#gbox_"+a.jgrid.jqID(b.p.id)).hasClass("ui-resizable")&&a(".ui-resizable-handle","#gbox_"+a.jgrid.jqID(b.p.id)).hide(),a(b).triggerHandler("jqGridHeaderClick",
[b.p.gridstate,c]),d&&(X||b.p.onHeaderClick.call(b,b.p.gridstate,c)))}):"hidden"===b.p.gridstate&&a(e,"#gbox_"+a.jgrid.jqID(b.p.id)).slideDown("fast",function(){f--;0===f&&(a("span",k).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),X&&(b.p.datatype=sa,T(),X=!1),b.p.gridstate="visible",a("#gbox_"+a.jgrid.jqID(b.p.id)).hasClass("ui-resizable")&&a(".ui-resizable-handle","#gbox_"+a.jgrid.jqID(b.p.id)).show(),a(b).triggerHandler("jqGridHeaderClick",[b.p.gridstate,c]),d&&
(X||b.p.onHeaderClick.call(b,b.p.gridstate,c)))});return!1}),X&&(b.p.datatype="local",a(".ui-jqgrid-titlebar-close",g.cDiv).trigger("click")))}else a(g.cDiv).hide(),a(g.hDiv).addClass("ui-corner-top");a(g.hDiv).after(g.bDiv).mousemove(function(a){if(g.resizing)return g.dragMove(a),!1});a(".ui-jqgrid-labels",g.hDiv).bind("selectstart",function(){return!1});a(document).bind("mouseup.jqGrid"+b.p.id,function(){return g.resizing?(g.dragEnd(),!1):!0});b.formatCol=q;b.sortData=U;b.updatepager=function(c,
d){var e,g,f,k,h,l,m,n="",p=b.p.pager?"_"+a.jgrid.jqID(b.p.pager.substr(1)):"",q=b.p.toppager?"_"+b.p.toppager.substr(1):"";f=parseInt(b.p.page,10)-1;0>f&&(f=0);f*=parseInt(b.p.rowNum,10);h=f+b.p.reccount;if(b.p.scroll){e=a("tbody:first \x3e tr:gt(0)",b.grid.bDiv);f=h-e.length;b.p.reccount=e.length;if(e=e.outerHeight()||b.grid.prevRowHeight)g=f*e,m=parseInt(b.p.records,10)*e,a("\x3ediv:first",b.grid.bDiv).css({height:m}).children("div:first").css({height:g,display:g?"":"none"}),0==b.grid.bDiv.scrollTop&&
1<b.p.page&&(b.grid.bDiv.scrollTop=b.p.rowNum*(b.p.page-1)*e);b.grid.bDiv.scrollLeft=b.grid.hDiv.scrollLeft}n=b.p.pager||"";if(n+=b.p.toppager?n?","+b.p.toppager:b.p.toppager:"")m=a.jgrid.formatter.integer||{},e=r(b.p.page),g=r(b.p.lastpage),a(".selbox",n)[this.p.useProp?"prop":"attr"]("disabled",!1),!0===b.p.pginput&&(a(".ui-pg-input",n).val(b.p.page),k=b.p.toppager?"#sp_1"+p+",#sp_1"+q:"#sp_1"+p,a(k).html(a.fmatter?a.fmatter.util.NumberFormat(b.p.lastpage,m):b.p.lastpage)),b.p.viewrecords&&(0===
b.p.reccount?a(".ui-paging-info",n).html(b.p.emptyrecords):(k=f+1,l=b.p.records,a.fmatter&&(k=a.fmatter.util.NumberFormat(k,m),h=a.fmatter.util.NumberFormat(h,m),l=a.fmatter.util.NumberFormat(l,m)),a(".ui-paging-info",n).html(a.jgrid.format(b.p.recordtext,k,h,l)))),!0===b.p.pgbuttons&&(0>=e&&(e=g=0),1===e||0===e?(a("#first"+p+", #prev"+p).addClass("ui-state-disabled").removeClass("ui-state-hover"),b.p.toppager&&a("#first_t"+q+", #prev_t"+q).addClass("ui-state-disabled").removeClass("ui-state-hover")):
(a("#first"+p+", #prev"+p).removeClass("ui-state-disabled"),b.p.toppager&&a("#first_t"+q+", #prev_t"+q).removeClass("ui-state-disabled")),e===g||0===e?(a("#next"+p+", #last"+p).addClass("ui-state-disabled").removeClass("ui-state-hover"),b.p.toppager&&a("#next_t"+q+", #last_t"+q).addClass("ui-state-disabled").removeClass("ui-state-hover")):(a("#next"+p+", #last"+p).removeClass("ui-state-disabled"),b.p.toppager&&a("#next_t"+q+", #last_t"+q).removeClass("ui-state-disabled")));!0===c&&!0===b.p.rownumbers&&
a("\x3etd.jqgrid-rownum",b.rows).each(function(b){a(this).html(f+1+b)});d&&b.p.jqgdnd&&a(b).jqGrid("gridDnD","updateDnD");a(b).triggerHandler("jqGridGridComplete");a.isFunction(b.p.gridComplete)&&b.p.gridComplete.call(b);a(b).triggerHandler("jqGridAfterGridComplete")};b.refreshIndex=Q;b.setHeadCheckBox=$;b.constructTr=R;b.formatter=function(a,b,c,d,e){return s(a,b,c,d,e)};a.extend(g,{populate:T,emptyRows:P,beginReq:z,endReq:M});this.grid=g;b.addXmlData=function(a){V(a,b.grid.bDiv)};b.addJSONData=
function(a){G(a,b.grid.bDiv)};this.grid.cols=this.rows[0].cells;a(b).triggerHandler("jqGridInitGrid");a.isFunction(b.p.onInitGrid)&&b.p.onInitGrid.call(b);T();b.p.hiddengrid=!1}}}})};a.jgrid.extend({getGridParam:function(a){var c=this[0];if(c&&c.grid)return a?void 0!==c.p[a]?c.p[a]:null:c.p},setGridParam:function(d,c){return this.each(function(){null==c&&(c=!1);this.grid&&"object"===typeof d&&(!0===c?this.p=a.extend({},this.p,d):a.extend(!0,this.p,d))})},getGridRowById:function(d){var c;this.each(function(){try{for(var e=
this.rows.length;e--;)if(d.toString()===this.rows[e].id){c=this.rows[e];break}}catch(f){c=a(this.grid.bDiv).find("#"+a.jgrid.jqID(d))}});return c},getDataIDs:function(){var d=[],c=0,e,f=0;this.each(function(){if((e=this.rows.length)&&0<e)for(;c<e;)a(this.rows[c]).hasClass("jqgrow")&&(d[f]=this.rows[c].id,f++),c++});return d},setSelection:function(d,c,e){return this.each(function(){var f,h,b,g,k,l;void 0!==d&&(c=!1===c?!1:!0,!(h=a(this).jqGrid("getGridRowById",d))||!h.className||-1<h.className.indexOf("ui-state-disabled")||
(!0===this.p.scrollrows&&(b=a(this).jqGrid("getGridRowById",d).rowIndex,0<=b&&(f=a(this.grid.bDiv)[0].clientHeight,g=a(this.grid.bDiv)[0].scrollTop,k=a(this.rows[b]).position().top,b=this.rows[b].clientHeight,k+b>=f+g?a(this.grid.bDiv)[0].scrollTop=k-(f+g)+b+g:k<f+g&&k<g&&(a(this.grid.bDiv)[0].scrollTop=k))),!0===this.p.frozenColumns&&(l=this.p.id+"_frozen"),this.p.multiselect?(this.setHeadCheckBox(!1),this.p.selrow=h.id,g=a.inArray(this.p.selrow,this.p.selarrrow),-1===g?("ui-subgrid"!==h.className&&
a(h).addClass("ui-state-highlight").attr("aria-selected","true"),f=!0,this.p.selarrrow.push(this.p.selrow)):("ui-subgrid"!==h.className&&a(h).removeClass("ui-state-highlight").attr("aria-selected","false"),f=!1,this.p.selarrrow.splice(g,1),k=this.p.selarrrow[0],this.p.selrow=void 0===k?null:k),a("#jqg_"+a.jgrid.jqID(this.p.id)+"_"+a.jgrid.jqID(h.id))[this.p.useProp?"prop":"attr"]("checked",f),l&&(-1===g?a("#"+a.jgrid.jqID(d),"#"+a.jgrid.jqID(l)).addClass("ui-state-highlight"):a("#"+a.jgrid.jqID(d),
"#"+a.jgrid.jqID(l)).removeClass("ui-state-highlight"),a("#jqg_"+a.jgrid.jqID(this.p.id)+"_"+a.jgrid.jqID(d),"#"+a.jgrid.jqID(l))[this.p.useProp?"prop":"attr"]("checked",f)),c&&(a(this).triggerHandler("jqGridSelectRow",[h.id,f,e]),this.p.onSelectRow&&this.p.onSelectRow.call(this,h.id,f,e))):"ui-subgrid"!==h.className&&(this.p.selrow!==h.id?((f=a(this).jqGrid("getGridRowById",this.p.selrow))&&a(f).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),a(h).addClass("ui-state-highlight").attr({"aria-selected":"true",
tabindex:"0"}),l&&(a("#"+a.jgrid.jqID(this.p.selrow),"#"+a.jgrid.jqID(l)).removeClass("ui-state-highlight"),a("#"+a.jgrid.jqID(d),"#"+a.jgrid.jqID(l)).addClass("ui-state-highlight")),f=!0):f=!1,this.p.selrow=h.id,c&&(a(this).triggerHandler("jqGridSelectRow",[h.id,f,e]),this.p.onSelectRow&&this.p.onSelectRow.call(this,h.id,f,e)))))})},resetSelection:function(d){return this.each(function(){var c=this,e,f;!0===c.p.frozenColumns&&(f=c.p.id+"_frozen");if(void 0!==d){e=d===c.p.selrow?c.p.selrow:d;a("#"+
a.jgrid.jqID(c.p.id)+" tbody:first tr#"+a.jgrid.jqID(e)).removeClass("ui-state-highlight").attr("aria-selected","false");f&&a("#"+a.jgrid.jqID(e),"#"+a.jgrid.jqID(f)).removeClass("ui-state-highlight");if(c.p.multiselect){a("#jqg_"+a.jgrid.jqID(c.p.id)+"_"+a.jgrid.jqID(e),"#"+a.jgrid.jqID(c.p.id))[c.p.useProp?"prop":"attr"]("checked",!1);if(f)a("#jqg_"+a.jgrid.jqID(c.p.id)+"_"+a.jgrid.jqID(e),"#"+a.jgrid.jqID(f))[c.p.useProp?"prop":"attr"]("checked",!1);c.setHeadCheckBox(!1);e=a.inArray(a.jgrid.jqID(e),
c.p.selarrrow);-1!==e&&c.p.selarrrow.splice(e,1)}e=null}else c.p.multiselect?(a(c.p.selarrrow).each(function(d,b){a(a(c).jqGrid("getGridRowById",b)).removeClass("ui-state-highlight").attr("aria-selected","false");a("#jqg_"+a.jgrid.jqID(c.p.id)+"_"+a.jgrid.jqID(b))[c.p.useProp?"prop":"attr"]("checked",!1);f&&(a("#"+a.jgrid.jqID(b),"#"+a.jgrid.jqID(f)).removeClass("ui-state-highlight"),a("#jqg_"+a.jgrid.jqID(c.p.id)+"_"+a.jgrid.jqID(b),"#"+a.jgrid.jqID(f))[c.p.useProp?"prop":"attr"]("checked",!1))}),
c.setHeadCheckBox(!1),c.p.selarrrow=[],c.p.selrow=null):c.p.selrow&&(a("#"+a.jgrid.jqID(c.p.id)+" tbody:first tr#"+a.jgrid.jqID(c.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),f&&a("#"+a.jgrid.jqID(c.p.selrow),"#"+a.jgrid.jqID(f)).removeClass("ui-state-highlight"),c.p.selrow=null);!0===c.p.cellEdit&&0<=parseInt(c.p.iCol,10)&&0<=parseInt(c.p.iRow,10)&&(a("td:eq("+c.p.iCol+")",c.rows[c.p.iRow]).removeClass("edit-cell ui-state-highlight"),a(c.rows[c.p.iRow]).removeClass("selected-row ui-state-hover"));
c.p.savedRow=[]})},getRowData:function(d){var c={},e,f=!1,h,b=0;this.each(function(){var g=this,k,l;if(void 0===d)f=!0,e=[],h=g.rows.length;else{l=a(g).jqGrid("getGridRowById",d);if(!l)return c;h=2}for(;b<h;)f&&(l=g.rows[b]),a(l).hasClass("jqgrow")&&(a('td[role\x3d"gridcell"]',l).each(function(b){k=g.p.colModel[b].name;if("cb"!==k&&"subgrid"!==k&&"rn"!==k)if(!0===g.p.treeGrid&&k===g.p.ExpandColumn)c[k]=a.jgrid.htmlDecode(a("span:first",this).html());else try{c[k]=a.unformat.call(g,this,{rowId:l.id,
colModel:g.p.colModel[b]},b)}catch(d){c[k]=a.jgrid.htmlDecode(a(this).html())}}),f&&(e.push(c),c={})),b++});return e||c},delRowData:function(d){var c=!1,e,f,h;this.each(function(){e=a(this).jqGrid("getGridRowById",d);if(!e)return!1;this.p.subGrid&&(h=a(e).next(),h.hasClass("ui-subgrid")&&h.remove());a(e).remove();this.p.records--;this.p.reccount--;this.updatepager(!0,!1);c=!0;this.p.multiselect&&(f=a.inArray(d,this.p.selarrrow),-1!==f&&this.p.selarrrow.splice(f,1));this.p.selrow=this.p.multiselect&&
0<this.p.selarrrow.length?this.p.selarrrow[this.p.selarrrow.length-1]:null;if("local"===this.p.datatype){var b=a.jgrid.stripPref(this.p.idPrefix,d),b=this.p._index[b];void 0!==b&&(this.p.data.splice(b,1),this.refreshIndex())}if(!0===this.p.altRows&&c){var g=this.p.altclass;a(this.rows).each(function(b){1===b%2?a(this).addClass(g):a(this).removeClass(g)})}});return c},setRowData:function(d,c,e){var f,h=!0,b;this.each(function(){if(!this.grid)return!1;var g=this,k,l,m=typeof e,n={};l=a(this).jqGrid("getGridRowById",
d);if(!l)return!1;if(c)try{if(a(this.p.colModel).each(function(e){f=this.name;var h=a.jgrid.getAccessor(c,f);void 0!==h&&(n[f]=this.formatter&&"string"===typeof this.formatter&&"date"===this.formatter?a.unformat.date.call(g,h,this):h,k=g.formatter(d,n[f],e,c,"edit"),b=this.title?{title:a.jgrid.stripHtml(k)}:{},!0===g.p.treeGrid&&f===g.p.ExpandColumn?a("td[role\x3d'gridcell']:eq("+e+") \x3e span:first",l).html(k).attr(b):a("td[role\x3d'gridcell']:eq("+e+")",l).html(k).attr(b))}),"local"===g.p.datatype){var r=
a.jgrid.stripPref(g.p.idPrefix,d),q=g.p._index[r],p;if(g.p.treeGrid)for(p in g.p.treeReader)g.p.treeReader.hasOwnProperty(p)&&delete n[g.p.treeReader[p]];void 0!==q&&(g.p.data[q]=a.extend(!0,g.p.data[q],n));n=null}}catch(s){h=!1}h&&("string"===m?a(l).addClass(e):null!==e&&"object"===m&&a(l).css(e),a(g).triggerHandler("jqGridAfterGridComplete"))});return h},addRowData:function(d,c,e,f){-1==["first","last","before","after"].indexOf(e)&&(e="last");var h=!1,b,g,k,l,m,n,r,q,p="",s,u,t,A,C,v;c&&(a.isArray(c)?
(s=!0,u=d):(c=[c],s=!1),this.each(function(){var P=c.length;m=!0===this.p.rownumbers?1:0;k=!0===this.p.multiselect?1:0;l=!0===this.p.subGrid?1:0;s||(void 0!==d?d=String(d):(d=a.jgrid.randId(),!1!==this.p.keyName&&(u=this.p.keyName,void 0!==c[0][u]&&(d=c[0][u]))));t=this.p.altclass;for(var x=0,Q="",R={},V=a.isFunction(this.p.afterInsertRow)?!0:!1;x<P;){A=c[x];g=[];if(s){try{d=A[u],void 0===d&&(d=a.jgrid.randId())}catch(G){d=a.jgrid.randId()}Q=!0===this.p.altRows?0===(this.rows.length-1)%2?t:"":""}v=
d;d=this.p.idPrefix+d;m&&(p=this.formatCol(0,1,"",null,d,!0),g[g.length]='\x3ctd role\x3d"gridcell" class\x3d"ui-state-default jqgrid-rownum" '+p+"\x3e0\x3c/td\x3e");k&&(q='\x3cinput role\x3d"checkbox" type\x3d"checkbox" id\x3d"jqg_'+this.p.id+"_"+d+'" class\x3d"cbox"/\x3e',p=this.formatCol(m,1,"",null,d,!0),g[g.length]='\x3ctd role\x3d"gridcell" '+p+"\x3e"+q+"\x3c/td\x3e");l&&(g[g.length]=a(this).jqGrid("addSubGridCell",k+m,1));for(r=k+l+m;r<this.p.colModel.length;r++)C=this.p.colModel[r],b=C.name,
R[b]=A[b],q=this.formatter(d,a.jgrid.getAccessor(A,b),r,A),p=this.formatCol(r,1,q,A,d,R),g[g.length]='\x3ctd role\x3d"gridcell" '+p+"\x3e"+q+"\x3c/td\x3e";g.unshift(this.constructTr(d,!1,Q,R,A,!1));g[g.length]="\x3c/tr\x3e";if(0===this.rows.length)a("table:first",this.grid.bDiv).append(g.join(""));else switch(e){case "last":a(this.rows[this.rows.length-1]).after(g.join(""));n=this.rows.length-1;break;case "first":a(this.rows[0]).after(g.join(""));n=1;break;case "after":if(n=a(this).jqGrid("getGridRowById",
f))a(this.rows[n.rowIndex+1]).hasClass("ui-subgrid")?a(this.rows[n.rowIndex+1]).after(g):a(n).after(g.join("")),n=n.rowIndex+1;break;case "before":if(n=a(this).jqGrid("getGridRowById",f))a(n).before(g.join("")),n=n.rowIndex-1}!0===this.p.subGrid&&a(this).jqGrid("addSubGrid",k+m,n);this.p.records++;this.p.reccount++;a(this).triggerHandler("jqGridAfterInsertRow",[d,A,A]);V&&this.p.afterInsertRow.call(this,d,A,A);x++;"local"===this.p.datatype&&(R[this.p.localReader.id]=v,this.p._index[v]=this.p.data.length,
this.p.data.push(R),R={})}!0!==this.p.altRows||s||("last"===e?1===(this.rows.length-1)%2&&a(this.rows[this.rows.length-1]).addClass(t):a(this.rows).each(function(b){1===b%2?a(this).addClass(t):a(this).removeClass(t)}));this.updatepager(!0,!0);h=!0}));return h},footerData:function(d,c,e){function f(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var h,b=!1,g={},k;void 0==d&&(d="get");"boolean"!==typeof e&&(e=!0);d=d.toLowerCase();this.each(function(){var l=this,m;if(!l.grid||!l.p.footerrow||
"set"===d&&f(c))return!1;b=!0;a(this.p.colModel).each(function(f){h=this.name;"set"===d?void 0!==c[h]&&(m=e?l.formatter("",c[h],f,c,"edit"):c[h],k=this.title?{title:a.jgrid.stripHtml(m)}:{},a("tr.footrow td:eq("+f+")",l.grid.sDiv).html(m).attr(k),b=!0):"get"===d&&(g[h]=a("tr.footrow td:eq("+f+")",l.grid.sDiv).html())})});return"get"===d?g:b},showHideCol:function(d,c){return this.each(function(){var e=this,f=!1,h=a.jgrid.cell_width?0:e.p.cellLayout,b;if(e.grid){"string"===typeof d&&(d=[d]);c="none"!==
c?"":"none";var g=""===c?!0:!1,k=e.p.groupHeader&&("object"===typeof e.p.groupHeader||a.isFunction(e.p.groupHeader));k&&a(e).jqGrid("destroyGroupHeader",!1);a(this.p.colModel).each(function(k){if(-1!==a.inArray(this.name,d)&&this.hidden===g){if(!0===e.p.frozenColumns&&!0===this.frozen)return!0;a("tr[role\x3drow]",e.grid.hDiv).each(function(){a(this.cells[k]).css("display",c)});a(e.rows).each(function(){a(this).hasClass("jqgroup")||a(this.cells[k]).css("display",c)});e.p.footerrow&&a("tr.footrow td:eq("+
k+")",e.grid.sDiv).css("display",c);b=parseInt(this.width,10);e.p.tblwidth="none"===c?e.p.tblwidth-(b+h):e.p.tblwidth+(b+h);this.hidden=!g;f=!0;a(e).triggerHandler("jqGridShowHideCol",[g,this.name,k])}});!0===f&&(!0!==e.p.shrinkToFit||isNaN(e.p.height)||(e.p.tblwidth+=parseInt(e.p.scrollOffset,10)),a(e).jqGrid("setGridWidth",!0===e.p.shrinkToFit?e.p.tblwidth:e.p.width));k&&a(e).jqGrid("setGroupHeaders",e.p.groupHeader)}})},hideCol:function(d){return this.each(function(){a(this).jqGrid("showHideCol",
d,"none")})},showCol:function(d){return this.each(function(){a(this).jqGrid("showHideCol",d,"")})},remapColumns:function(d,c,e){function f(b){var c;c=b.length?a.makeArray(b):a.extend({},b);a.each(d,function(a){b[a]=c[this]})}function h(b,c){a("\x3etr"+(c||""),b).each(function(){var b=this,c=a.makeArray(b.cells);a.each(d,function(){var a=c[this];a&&b.appendChild(a)})})}var b=this.get(0);f(b.p.colModel);f(b.p.colNames);f(b.grid.headers);h(a("thead:first",b.grid.hDiv),e&&":not(.ui-jqgrid-labels)");c&&
h(a("#"+a.jgrid.jqID(b.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot");b.p.footerrow&&h(a("tbody:first",b.grid.sDiv));b.p.remapColumns&&(b.p.remapColumns.length?f(b.p.remapColumns):b.p.remapColumns=a.makeArray(d));b.p.lastsort=a.inArray(b.p.lastsort,d);b.p.treeGrid&&(b.p.expColInd=a.inArray(b.p.expColInd,d));a(b).triggerHandler("jqGridRemapColumns",[d,c,e])},setGridWidth:function(d,c){return this.each(function(){if(this.grid){var e=this,f,h=0,b=a.jgrid.cell_width?0:e.p.cellLayout,g,k=
0,l=!1,m=e.p.scrollOffset,n,r=0,q;"boolean"!==typeof c&&(c=e.p.shrinkToFit);if(!isNaN(d)){d=parseInt(d,10);e.grid.width=e.p.width=d;a("#gbox_"+a.jgrid.jqID(e.p.id)).css("width",d+"px");a("#gview_"+a.jgrid.jqID(e.p.id)).css("width",d+"px");a(e.grid.bDiv).css("width",d+"px");a(e.grid.hDiv).css("width",d+"px");e.p.pager&&a(e.p.pager).css("width",d+"px");e.p.toppager&&a(e.p.toppager).css("width",d+"px");!0===e.p.toolbar[0]&&(a(e.grid.uDiv).css("width",d+"px"),"both"===e.p.toolbar[1]&&a(e.grid.ubDiv).css("width",
d+"px"));e.p.footerrow&&a(e.grid.sDiv).css("width",d+"px");!1===c&&!0===e.p.forceFit&&(e.p.forceFit=!1);if(!0===c){a.each(e.p.colModel,function(){!1===this.hidden&&(f=this.widthOrg,h+=f+b,this.fixed?r+=f+b:k++)});if(0===k)return;e.p.tblwidth=h;n=d-b*k-r;!isNaN(e.p.height)&&(a(e.grid.bDiv)[0].clientHeight<a(e.grid.bDiv)[0].scrollHeight||1===e.rows.length)&&(l=!0,n-=m);var h=0,p=0<e.grid.cols.length;a.each(e.p.colModel,function(a){!1!==this.hidden||this.fixed||(f=this.widthOrg,f=Math.round(n*f/(e.p.tblwidth-
b*k-r)),0>f||(this.width=f,h+=f,e.grid.headers[a].width=f,e.grid.headers[a].el.style.width=f+"px",e.p.footerrow&&(e.grid.footers[a].style.width=f+"px"),p&&(e.grid.cols[a].style.width=f+"px"),g=a))});if(!g)return;q=0;l?d-r-(h+b*k)!==m&&(q=d-r-(h+b*k)-m):1!==Math.abs(d-r-(h+b*k))&&(q=d-r-(h+b*k));e.p.colModel[g].width+=q;e.p.tblwidth=h+q+b*k+r;e.p.tblwidth>d?(l=e.p.tblwidth-parseInt(d,10),e.p.tblwidth=d,f=e.p.colModel[g].width-=l):f=e.p.colModel[g].width;e.grid.headers[g].width=f;e.grid.headers[g].el.style.width=
f+"px";p&&(e.grid.cols[g].style.width=f+"px");e.p.footerrow&&(e.grid.footers[g].style.width=f+"px")}e.p.tblwidth&&(a("table:first",e.grid.bDiv).css("width",e.p.tblwidth+"px"),a("table:first",e.grid.hDiv).css("width",e.p.tblwidth+"px"),e.grid.hDiv.scrollLeft=e.grid.bDiv.scrollLeft,e.p.footerrow&&a("table:first",e.grid.sDiv).css("width",e.p.tblwidth+"px"))}}})},setGridHeight:function(d){return this.each(function(){if(this.grid){var c=a(this.grid.bDiv);c.css({height:d+(isNaN(d)?"":"px")});!0===this.p.frozenColumns&&
a("#"+a.jgrid.jqID(this.p.id)+"_frozen").parent().height(c.height()-16);this.p.height=d;this.p.scroll&&this.grid.populateVisible()}})},setCaption:function(d){return this.each(function(){this.p.caption=d;a("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(d);a(this.grid.cDiv).show();a(this.grid.hDiv).removeClass("ui-corner-top")})},setLabel:function(d,c,e,f){return this.each(function(){var h=-1;if(this.grid&&void 0!==d&&(a(this.p.colModel).each(function(a){if(this.name===d)return h=
a,!1}),0<=h)){var b=a("tr.ui-jqgrid-labels th:eq("+h+")",this.grid.hDiv);if(c){var g=a(".s-ico",b);a("[id^\x3djqgh_]",b).empty().html(c).append(g);this.p.colNames[h]=c}e&&("string"===typeof e?a(b).addClass(e):a(b).css(e));"object"===typeof f&&a(b).attr(f)}})},setCell:function(d,c,e,f,h,b){return this.each(function(){var g=-1,k,l;if(this.grid&&(isNaN(c)?a(this.p.colModel).each(function(a){if(this.name===c)return g=a,!1}):g=parseInt(c,10),0<=g&&(k=a(this).jqGrid("getGridRowById",d)))){var m=a("td:eq("+
g+")",k);l=0;var n=[];if(""!==e||!0===b){for(;l<k.cells.length;)n.push(k.cells[l].innerHTML),l++;k=this.formatter(d,e,g,n,"edit");l=this.p.colModel[g].title?{title:a.jgrid.stripHtml(k)}:{};this.p.treeGrid&&0<a(".tree-wrap",a(m)).length?a("span",a(m)).html(k).attr(l):a(m).html(k).attr(l);"local"===this.p.datatype&&(k=this.p.colModel[g],e=k.formatter&&"string"===typeof k.formatter&&"date"===k.formatter?a.unformat.date.call(this,e,k):e,l=this.p._index[a.jgrid.stripPref(this.p.idPrefix,d)],void 0!==l&&
(this.p.data[l][k.name]=e))}"string"===typeof f?a(m).addClass(f):f&&a(m).css(f);"object"===typeof h&&a(m).attr(h)}})},getCell:function(d,c){var e=!1;this.each(function(){var f=-1;if(this.grid&&(isNaN(c)?a(this.p.colModel).each(function(a){if(this.name===c)return f=a,!1}):f=parseInt(c,10),0<=f)){var h=a(this).jqGrid("getGridRowById",d);if(h)try{e=a.unformat.call(this,a("td:eq("+f+")",h),{rowId:h.id,colModel:this.p.colModel[f]},f)}catch(b){e=a.jgrid.htmlDecode(a("td:eq("+f+")",h).html())}}});return e},
getCol:function(d,c,e){var f=[],h,b=0,g,k,l;c="boolean"!==typeof c?!1:c;void 0===e&&(e=!1);this.each(function(){var m=-1;if(this.grid&&(isNaN(d)?a(this.p.colModel).each(function(a){if(this.name===d)return m=a,!1}):m=parseInt(d,10),0<=m)){var n=this.rows.length,r=0,q=0;if(n&&0<n){for(;r<n;){if(a(this.rows[r]).hasClass("jqgrow")){try{h=a.unformat.call(this,a(this.rows[r].cells[m]),{rowId:this.rows[r].id,colModel:this.p.colModel[m]},m)}catch(p){h=a.jgrid.htmlDecode(this.rows[r].cells[m].innerHTML)}e?
(l=parseFloat(h),isNaN(l)||(b+=l,void 0===k&&(k=g=l),g=Math.min(g,l),k=Math.max(k,l),q++)):c?f.push({id:this.rows[r].id,value:h}):f.push(h)}r++}if(e)switch(e.toLowerCase()){case "sum":f=b;break;case "avg":f=b/q;break;case "count":f=n-1;break;case "min":f=g;break;case "max":f=k}}}});return f},clearGridData:function(d){return this.each(function(){if(this.grid){"boolean"!==typeof d&&(d=!1);if(this.p.deepempty)a("#"+a.jgrid.jqID(this.p.id)+" tbody:first tr:gt(0)").remove();else{var c=a("#"+a.jgrid.jqID(this.p.id)+
" tbody:first tr:first")[0];a("#"+a.jgrid.jqID(this.p.id)+" tbody:first").empty().append(c)}this.p.footerrow&&d&&a(".ui-jqgrid-ftable td",this.grid.sDiv).html("\x26#160;");this.p.selrow=null;this.p.selarrrow=[];this.p.savedRow=[];this.p.records=0;this.p.page=1;this.p.lastpage=0;this.p.reccount=0;this.p.data=[];this.p._index={};this.updatepager(!0,!1)}})},getInd:function(d,c){var e=!1,f;this.each(function(){(f=a(this).jqGrid("getGridRowById",d))&&(e=!0===c?f:f.rowIndex)});return e},bindKeys:function(d){var c=
a.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},d||{});return this.each(function(){var d=this;a("body").is("[role]")||a("body").attr("role","application");d.p.scrollrows=c.scrollingRows;a(d).keydown(function(f){var h=a(d).find("tr[tabindex\x3d0]")[0],b,g,k,l=d.p.treeReader.expanded_field;if(h)if(k=d.p._index[a.jgrid.stripPref(d.p.idPrefix,h.id)],37===f.keyCode||38===f.keyCode||39===f.keyCode||40===f.keyCode){if(38===f.keyCode){g=h.previousSibling;b="";if(g)if(a(g).is(":hidden"))for(;g;){if(g=
g.previousSibling,!a(g).is(":hidden")&&a(g).hasClass("jqgrow")){b=g.id;break}}else b=g.id;a(d).jqGrid("setSelection",b,!0,f);f.preventDefault()}if(40===f.keyCode){g=h.nextSibling;b="";if(g)if(a(g).is(":hidden"))for(;g;){if(g=g.nextSibling,!a(g).is(":hidden")&&a(g).hasClass("jqgrow")){b=g.id;break}}else b=g.id;a(d).jqGrid("setSelection",b,!0,f);f.preventDefault()}37===f.keyCode&&(d.p.treeGrid&&d.p.data[k][l]&&a(h).find("div.treeclick").trigger("click"),a(d).triggerHandler("jqGridKeyLeft",[d.p.selrow]),
a.isFunction(c.onLeftKey)&&c.onLeftKey.call(d,d.p.selrow));39===f.keyCode&&(d.p.treeGrid&&!d.p.data[k][l]&&a(h).find("div.treeclick").trigger("click"),a(d).triggerHandler("jqGridKeyRight",[d.p.selrow]),a.isFunction(c.onRightKey)&&c.onRightKey.call(d,d.p.selrow))}else 13===f.keyCode?(a(d).triggerHandler("jqGridKeyEnter",[d.p.selrow]),a.isFunction(c.onEnter)&&c.onEnter.call(d,d.p.selrow)):32===f.keyCode&&(a(d).triggerHandler("jqGridKeySpace",[d.p.selrow]),a.isFunction(c.onSpace)&&c.onSpace.call(d,d.p.selrow))})})},
unbindKeys:function(){return this.each(function(){a(this).unbind("keydown")})},getLocalRow:function(d){var c=!1,e;this.each(function(){void 0!==d&&(e=this.p._index[a.jgrid.stripPref(this.p.idPrefix,d)],0<=e&&(c=this.p.data[e]))});return c},progressBar:function(d){d=a.extend({htmlcontent:"",method:"hide",loadtype:"disable"},d||{});return this.each(function(){var c="show"===d.method?!0:!1;""!==d.htmlcontent&&a("#load_"+a.jgrid.jqID(this.p.id)).html(d.htmlcontent);switch(d.loadtype){case "enable":a("#load_"+
a.jgrid.jqID(this.p.id)).toggle(c);break;case "block":a("#lui_"+a.jgrid.jqID(this.p.id)).toggle(c),a("#load_"+a.jgrid.jqID(this.p.id)).toggle(c)}})}})})(jQuery);
(function(a){a.extend(a.jgrid,{showModal:function(a){a.w.show()},closeModal:function(a){a.w.hide().attr("aria-hidden","true");a.o&&a.o.remove()},hideModal:function(d,c){c=a.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},c||{});var e=c.gb&&"string"===typeof c.gb&&"#gbox_"===c.gb.substr(0,6)?a("#"+c.gb.substr(6))[0]:!1;if(c.onClose){var f=e?c.onClose.call(e,d):c.onClose(d);if("boolean"===typeof f&&!f)return}if(c.formprop&&e&&c.form){f=a(d)[0].style.height;-1<f.indexOf("px")&&(f=parseFloat(f));
var h,b;"edit"===c.form?(h="#"+a.jgrid.jqID("FrmGrid_"+c.gb.substr(6)),b="formProp"):"view"===c.form&&(h="#"+a.jgrid.jqID("ViewGrid_"+c.gb.substr(6)),b="viewProp");a(e).data(b,{top:parseFloat(a(d).css("top")),left:parseFloat(a(d).css("left")),width:a(d).width(),height:f,dataheight:a(h).height(),datawidth:a(h).width()})}if(a.fn.jqm&&!0===c.jqm)a(d).attr("aria-hidden","true").jqmHide();else{if(""!==c.gb)try{a(".jqgrid-overlay:first",c.gb).hide()}catch(g){}a(d).hide().attr("aria-hidden","true")}c.removemodal&&
a(d).remove()},findPos:function(a){var c=0,e=0;if(a.offsetParent){do c+=a.offsetLeft,e+=a.offsetTop;while(a=a.offsetParent)}return[c,e]},createModal:function(d,c,e,f,h,b,g){e=a.extend(!0,{},a.jgrid.jqModal||{},e);var k=document.createElement("div"),l,m=this;g=a.extend({},g||{});l="rtl"===a(e.gbox).attr("dir")?!0:!1;k.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog";k.id=d.themodal;var n=document.createElement("div");n.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix";
n.id=d.modalhead;a(n).append("\x3cspan class\x3d'ui-jqdialog-title'\x3e"+e.caption+"\x3c/span\x3e");var r=a("\x3ca class\x3d'ui-jqdialog-titlebar-close ui-corner-all'\x3e\x3c/a\x3e").hover(function(){r.addClass("ui-state-hover")},function(){r.removeClass("ui-state-hover")}).append("\x3cspan class\x3d'ui-icon ui-icon-closethick'\x3e\x3c/span\x3e");a(n).append(r);l?(k.dir="rtl",a(".ui-jqdialog-title",n).css("float","right"),a(".ui-jqdialog-titlebar-close",n).css("left","0.3em")):(k.dir="ltr",a(".ui-jqdialog-title",
n).css("float","left"),a(".ui-jqdialog-titlebar-close",n).css("right","0.3em"));var q=document.createElement("div");a(q).addClass("ui-jqdialog-content ui-widget-content").attr("id",d.modalcontent);a(q).append(c);k.appendChild(q);a(k).prepend(n);!0===b?a("body").append(k):"string"===typeof b?a(b).append(k):a(k).insertBefore(f);a(k).css(g);void 0===e.jqModal&&(e.jqModal=!0);c={};if(a.fn.jqm&&!0===e.jqModal)0===e.left&&0===e.top&&e.overlay&&(g=[],g=a.jgrid.findPos(h),e.left=g[0]+4,e.top=g[1]+4),c.top=
e.top+"px",c.left=e.left;else if(0!==e.left||0!==e.top)c.left=e.left,c.top=e.top+"px";a("a.ui-jqdialog-titlebar-close",n).click(function(){var b=a("#"+a.jgrid.jqID(d.themodal)).data("onClose")||e.onClose,c=a("#"+a.jgrid.jqID(d.themodal)).data("gbox")||e.gbox;m.hideModal("#"+a.jgrid.jqID(d.themodal),{gb:c,jqm:e.jqModal,onClose:b,removemodal:e.removemodal||!1,formprop:!e.recreateForm||!1,form:e.form||""});return!1});0!==e.width&&e.width||(e.width=300);0!==e.height&&e.height||(e.height=200);e.zIndex||
(f=a(f).parents("*[role\x3ddialog]").filter(":first").css("z-index"),e.zIndex=f?parseInt(f,10)+2:950);f=0;l&&c.left&&!b&&(f=a(e.gbox).width()-(isNaN(e.width)?0:parseInt(e.width,10))-8,c.left=parseInt(c.left,10)+parseInt(f,10));c.left&&(c.left+="px");a(k).css(a.extend({width:isNaN(e.width)?"auto":e.width+"px",height:isNaN(e.height)?"auto":e.height+"px",zIndex:e.zIndex,overflow:"hidden"},c)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":d.modalhead,"aria-hidden":"true"});void 0===e.drag&&(e.drag=
!0);void 0===e.resize&&(e.resize=!0);if(e.drag)if(a(n).css("cursor","move"),a.fn.jqDrag)a(k).jqDrag(n);else try{a(k).draggable({handle:a("#"+a.jgrid.jqID(n.id))})}catch(p){}if(e.resize)if(a.fn.jqResize)a(k).append("\x3cdiv class\x3d'jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'\x3e\x3c/div\x3e"),a("#"+a.jgrid.jqID(d.themodal)).jqResize(".jqResize",d.scrollelm?"#"+a.jgrid.jqID(d.scrollelm):!1);else try{a(k).resizable({handles:"se, sw",alsoResize:d.scrollelm?"#"+
a.jgrid.jqID(d.scrollelm):!1})}catch(s){}!0===e.closeOnEscape&&a(k).keydown(function(b){27===b.which&&(b=a("#"+a.jgrid.jqID(d.themodal)).data("onClose")||e.onClose,m.hideModal("#"+a.jgrid.jqID(d.themodal),{gb:e.gbox,jqm:e.jqModal,onClose:b,removemodal:e.removemodal||!1,formprop:!e.recreateForm||!1,form:e.form||""}))})},viewModal:function(d,c){c=a.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:a.jgrid.showModal,onHide:a.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},c||{});if(a.fn.jqm&&
!0===c.jqm)c.jqM?a(d).attr("aria-hidden","false").jqm(c).jqmShow():a(d).attr("aria-hidden","false").jqmShow();else{""!==c.gbox&&(a(".jqgrid-overlay:first",c.gbox).show(),a(d).data("gbox",c.gbox));a(d).show().attr("aria-hidden","false");try{a(":input:visible",d)[0].focus()}catch(e){}}},info_dialog:function(d,c,e,f){var h={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1E3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};a.extend(!0,
h,a.jgrid.jqModal||{},{caption:"\x3cb\x3e"+d+"\x3c/b\x3e"},f||{});var b=h.jqModal,g=this;a.fn.jqm&&!b&&(b=!1);d="";if(0<h.buttons.length)for(f=0;f<h.buttons.length;f++)void 0===h.buttons[f].id&&(h.buttons[f].id="info_button_"+f),d+="\x3ca id\x3d'"+h.buttons[f].id+"' class\x3d'fm-button ui-state-default ui-corner-all'\x3e"+h.buttons[f].text+"\x3c/a\x3e";f=isNaN(h.dataheight)?h.dataheight:h.dataheight+"px";c="\x3cdiv id\x3d'info_id'\x3e"+("\x3cdiv id\x3d'infocnt' style\x3d'margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+
f+";"+("text-align:"+h.align+";")+"'\x3e"+c+"\x3c/div\x3e");c+=e?"\x3cdiv class\x3d'ui-widget-content ui-helper-clearfix' style\x3d'text-align:"+h.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'\x3e\x3ca id\x3d'closedialog' class\x3d'fm-button ui-state-default ui-corner-all'\x3e"+e+"\x3c/a\x3e"+d+"\x3c/div\x3e":""!==d?"\x3cdiv class\x3d'ui-widget-content ui-helper-clearfix' style\x3d'text-align:"+h.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'\x3e"+
d+"\x3c/div\x3e":"";c+="\x3c/div\x3e";try{"false"===a("#info_dialog").attr("aria-hidden")&&a.jgrid.hideModal("#info_dialog",{jqm:b}),a("#info_dialog").remove()}catch(k){}a.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},c,h,"","",!0);d&&a.each(h.buttons,function(b){a("#"+a.jgrid.jqID(this.id),"#info_id").bind("click",function(){h.buttons[b].onClick.call(a("#info_dialog"));return!1})});a("#closedialog","#info_id").click(function(){g.hideModal("#info_dialog",
{jqm:b,onClose:a("#info_dialog").data("onClose")||h.onClose,gb:a("#info_dialog").data("gbox")||h.gbox});return!1});a(".fm-button","#info_dialog").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});a.isFunction(h.beforeOpen)&&h.beforeOpen();a.jgrid.viewModal("#info_dialog",{onHide:function(a){a.w.hide().remove();a.o&&a.o.remove()},modal:h.modal,jqm:b});a.isFunction(h.afterOpen)&&h.afterOpen();try{a("#info_dialog").focus()}catch(l){}},bindEv:function(d,
c){a.isFunction(c.dataInit)&&c.dataInit.call(this,d,c);c.dataEvents&&a.each(c.dataEvents,function(){void 0!==this.data?a(d).bind(this.type,this.data,this.fn):a(d).bind(this.type,this.fn)})},createEl:function(d,c,e,f,h){function b(b,c,d){var e="dataInit dataEvents dataUrl buildSelect sopt searchhidden defaultValue attr custom_element custom_value".split(" ");void 0!==d&&a.isArray(d)&&a.merge(e,d);a.each(c,function(c,d){-1===a.inArray(c,e)&&a(b).attr(c,d)});c.hasOwnProperty("id")||a(b).attr("id",a.jgrid.randId())}
var g="",k=this;switch(d){case "textarea":g=document.createElement("textarea");f?c.cols||a(g).css({width:"98%"}):c.cols||(c.cols=20);c.rows||(c.rows=2);if("\x26nbsp;"===e||"\x26#160;"===e||1===e.length&&160===e.charCodeAt(0))e="";g.value=e;b(g,c);a(g).attr({role:"textbox",multiline:"true"});break;case "checkbox":g=document.createElement("input");g.type="checkbox";c.value?(d=c.value.split(":"),e===d[0]&&(g.checked=!0,g.defaultChecked=!0),g.value=d[0],a(g).attr("offval",d[1])):(d=(e+"").toLowerCase(),
0>d.search(/(false|f|0|no|n|off|undefined)/i)&&""!==d?(g.checked=!0,g.defaultChecked=!0,g.value=e):g.value="on",a(g).attr("offval","off"));b(g,c,["value"]);a(g).attr("role","checkbox");break;case "select":g=document.createElement("select");g.setAttribute("role","select");f=[];!0===c.multiple?(d=!0,g.multiple="multiple",a(g).attr("aria-multiselectable","true")):d=!1;if(void 0!==c.dataUrl){d=null;var l=c.postData||h.postData;try{d=c.rowId}catch(m){}k.p&&k.p.idPrefix&&(d=a.jgrid.stripPref(k.p.idPrefix,
d));a.ajax(a.extend({url:a.isFunction(c.dataUrl)?c.dataUrl.call(k,d,e,String(c.name)):c.dataUrl,type:"GET",dataType:"html",data:a.isFunction(l)?l.call(k,d,e,String(c.name)):l,context:{elem:g,options:c,vl:e},success:function(c){var d=[],e=this.elem,f=this.vl,g=a.extend({},this.options),h=!0===g.multiple;c=a.isFunction(g.buildSelect)?g.buildSelect.call(k,c):c;"string"===typeof c&&(c=a(a.trim(c)).html());c&&(a(e).append(c),b(e,g,l?["postData"]:void 0),void 0===g.size&&(g.size=h?3:1),h?(d=f.split(","),
d=a.map(d,function(b){return a.trim(b)})):d[0]=a.trim(f),setTimeout(function(){a("option",e).each(function(b){0===b&&e.multiple&&(this.selected=!1);a(this).attr("role","option");if(-1<a.inArray(a.trim(a(this).text()),d)||-1<a.inArray(a.trim(a(this).val()),d))this.selected="selected"})},0))}},h||{}))}else if(c.value){var n;void 0===c.size&&(c.size=d?3:1);d&&(f=e.split(","),f=a.map(f,function(b){return a.trim(b)}));"function"===typeof c.value&&(c.value=c.value());var r,q,p=void 0===c.separator?":":
c.separator;h=void 0===c.delimiter?";":c.delimiter;if("string"===typeof c.value)for(r=c.value.split(h),n=0;n<r.length;n++)q=r[n].split(p),2<q.length&&(q[1]=a.map(q,function(a,b){if(0<b)return a}).join(p)),h=document.createElement("option"),h.setAttribute("role","option"),h.value=q[0],h.innerHTML=q[1],g.appendChild(h),d||a.trim(q[0])!==a.trim(e)&&a.trim(q[1])!==a.trim(e)||(h.selected="selected"),d&&(-1<a.inArray(a.trim(q[1]),f)||-1<a.inArray(a.trim(q[0]),f))&&(h.selected="selected");else if("object"===
typeof c.value)for(n in p=c.value,p)p.hasOwnProperty(n)&&(h=document.createElement("option"),h.setAttribute("role","option"),h.value=n,h.innerHTML=p[n],g.appendChild(h),d||a.trim(n)!==a.trim(e)&&a.trim(p[n])!==a.trim(e)||(h.selected="selected"),d&&(-1<a.inArray(a.trim(p[n]),f)||-1<a.inArray(a.trim(n),f))&&(h.selected="selected"));b(g,c,["value"])}break;case "text":case "password":case "button":n="button"===d?"button":"textbox";g=document.createElement("input");g.type=d;g.value=e;b(g,c);"button"!==
d&&(f?c.size||a(g).css({width:"98%"}):c.size||(c.size=20));a(g).attr("role",n);break;case "image":case "file":g=document.createElement("input");g.type=d;b(g,c);break;case "custom":g=document.createElement("span");try{if(a.isFunction(c.custom_element))if(p=c.custom_element.call(k,e,c))p=a(p).addClass("customelement").attr({id:c.id,name:c.name}),a(g).empty().append(p);else throw"e2";else throw"e1";}catch(s){"e1"===s&&a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_element' "+a.jgrid.edit.msg.nodefined,
a.jgrid.edit.bClose),"e2"===s?a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_element' "+a.jgrid.edit.msg.novalue,a.jgrid.edit.bClose):a.jgrid.info_dialog(a.jgrid.errors.errcap,"string"===typeof s?s:s.message,a.jgrid.edit.bClose)}}return g},checkDate:function(a,c){var e={},f;a=a.toLowerCase();f=-1!==a.indexOf("/")?"/":-1!==a.indexOf("-")?"-":-1!==a.indexOf(".")?".":"/";a=a.split(f);c=c.split(f);if(3!==c.length)return!1;var h=-1,b,g=f=-1,k;for(k=0;k<a.length;k++)b=isNaN(c[k])?0:parseInt(c[k],
10),e[a[k]]=b,b=a[k],-1!==b.indexOf("y")&&(h=k),-1!==b.indexOf("m")&&(g=k),-1!==b.indexOf("d")&&(f=k);b="y"===a[h]||"yyyy"===a[h]?4:"yy"===a[h]?2:-1;k=[0,31,29,31,30,31,30,31,31,30,31,30,31];var l;if(-1===h)return!1;l=e[a[h]].toString();2===b&&1===l.length&&(b=1);if(l.length!==b||0===e[a[h]]&&"00"!==c[h]||-1===g)return!1;l=e[a[g]].toString();if(1>l.length||1>e[a[g]]||12<e[a[g]]||-1===f)return!1;l=e[a[f]].toString();!(b=1>l.length||1>e[a[f]]||31<e[a[f]])&&(b=2===e[a[g]])&&(h=e[a[h]],b=e[a[f]]>(0!==
h%4||0===h%100&&0!==h%400?28:29));return b||e[a[f]]>k[e[a[g]]]?!1:!0},isEmpty:function(a){return a.match(/^\s+$/)||""===a?!0:!1},checkTime:function(d){var c=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!a.jgrid.isEmpty(d))if(d=d.match(c)){if(d[3]){if(1>d[1]||12<d[1])return!1}else if(23<d[1])return!1;if(59<d[2])return!1}else return!1;return!0},checkValues:function(d,c,e,f){var h,b,g;g=this.p.colModel;if(void 0===e)if("string"===typeof c)for(e=0,f=g.length;e<f;e++){if(g[e].name===c){h=g[e].editrules;c=e;null!=
g[e].formoptions&&(b=g[e].formoptions.label);break}}else 0<=c&&(h=g[c].editrules);else h=e,b=void 0===f?"_":f;if(h){b||(b=null!=this.p.colNames?this.p.colNames[c]:g[c].label);if(!0===h.required&&a.jgrid.isEmpty(d))return[!1,b+": "+a.jgrid.edit.msg.required,""];e=!1===h.required?!1:!0;if(!0===h.number&&(!1!==e||!a.jgrid.isEmpty(d))&&isNaN(d))return[!1,b+": "+a.jgrid.edit.msg.number,""];if(void 0!==h.minValue&&!isNaN(h.minValue)&&parseFloat(d)<parseFloat(h.minValue))return[!1,b+": "+a.jgrid.edit.msg.minValue+
" "+h.minValue,""];if(void 0!==h.maxValue&&!isNaN(h.maxValue)&&parseFloat(d)>parseFloat(h.maxValue))return[!1,b+": "+a.jgrid.edit.msg.maxValue+" "+h.maxValue,""];if(!(!0!==h.email||!1===e&&a.jgrid.isEmpty(d)||(f=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,
f.test(d))))return[!1,b+": "+a.jgrid.edit.msg.email,""];if(!(!0!==h.integer||!1===e&&a.jgrid.isEmpty(d)||!isNaN(d)&&0===d%1&&-1===d.indexOf(".")))return[!1,b+": "+a.jgrid.edit.msg.integer,""];if(!(!0!==h.date||!1===e&&a.jgrid.isEmpty(d)||(g[c].formatoptions&&g[c].formatoptions.newformat?(g=g[c].formatoptions.newformat,a.jgrid.formatter.date.masks.hasOwnProperty(g)&&(g=a.jgrid.formatter.date.masks[g])):g=g[c].datefmt||"Y-m-d",a.jgrid.checkDate(g,d))))return[!1,b+": "+a.jgrid.edit.msg.date+" - "+g,
""];if(!0===h.time&&!(!1===e&&a.jgrid.isEmpty(d)||a.jgrid.checkTime(d)))return[!1,b+": "+a.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(!(!0!==h.url||!1===e&&a.jgrid.isEmpty(d)||(f=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,f.test(d))))return[!1,b+": "+a.jgrid.edit.msg.url,""];if(!0===h.custom&&(!1!==e||!a.jgrid.isEmpty(d)))return a.isFunction(h.custom_func)?(d=h.custom_func.call(this,d,b,c),a.isArray(d)?d:[!1,a.jgrid.edit.msg.customarray,
""]):[!1,a.jgrid.edit.msg.customfcheck,""]}return[!0,"",""]}})})(jQuery);
(function(a){a.jgrid.extend({getColProp:function(a){var c={},e=this[0];if(!e.grid)return!1;var e=e.p.colModel,f;for(f=0;f<e.length;f++)if(e[f].name===a){c=e[f];break}return c},setColProp:function(d,c){return this.each(function(){if(this.grid&&c){var e=this.p.colModel,f;for(f=0;f<e.length;f++)if(e[f].name===d){a.extend(!0,this.p.colModel[f],c);break}}})},sortGrid:function(a,c,e){return this.each(function(){var f=-1,h,b=!1;if(this.grid){a||(a=this.p.sortname);for(h=0;h<this.p.colModel.length;h++)if(this.p.colModel[h].index===
a||this.p.colModel[h].name===a){f=h;!0===this.p.frozenColumns&&!0===this.p.colModel[h].frozen&&(b=this.grid.fhDiv.find("#"+this.p.id+"_"+a));break}-1!==f&&(h=this.p.colModel[f].sortable,b||(b=this.grid.headers[f].el),"boolean"!==typeof h&&(h=!0),"boolean"!==typeof c&&(c=!1),h&&this.sortData("jqgh_"+this.p.id+"_"+a,f,c,e,b))}})},clearBeforeUnload:function(){return this.each(function(){var d=this.grid;a.isFunction(d.emptyRows)&&d.emptyRows.call(this,!0,!0);a(document).unbind("mouseup.jqGrid"+this.p.id);
a(d.hDiv).unbind("mousemove");a(this).unbind();d.dragEnd=null;d.dragMove=null;d.dragStart=null;d.emptyRows=null;d.populate=null;d.populateVisible=null;d.scrollGrid=null;d.selectionPreserver=null;d.bDiv=null;d.cDiv=null;d.hDiv=null;d.cols=null;var c,e=d.headers.length;for(c=0;c<e;c++)d.headers[c].el=null;this.grid=this.addJSONData=this.addXmlData=this.formatter=this.constructTr=this.setHeadCheckBox=this.refreshIndex=this.updatepager=this.sortData=this.formatCol=null})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&
a(this.p.pager).remove();try{a(this).jqGrid("clearBeforeUnload"),a("#gbox_"+a.jgrid.jqID(this.id)).remove(),a("#alertmod_"+a.jgrid.jqID(this.id)).remove()}catch(d){}}})},GridUnload:function(){return this.each(function(){if(this.grid){var d=a(this).attr("id"),c=a(this).attr("class");this.p.pager&&a(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");var e=document.createElement("table");a(e).attr({id:d});e.className=c;d=a.jgrid.jqID(this.id);a(e).removeClass("ui-jqgrid-btable");
1===a(this.p.pager).parents("#gbox_"+d).length?(a(e).insertBefore("#gbox_"+d).show(),a(this.p.pager).insertBefore("#gbox_"+d)):a(e).insertBefore("#gbox_"+d).show();a(this).jqGrid("clearBeforeUnload");a("#gbox_"+d).remove()}})},setGridState:function(d){return this.each(function(){this.grid&&("hidden"===d?(a(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+a.jgrid.jqID(this.p.id)).slideUp("fast"),this.p.pager&&a(this.p.pager).slideUp("fast"),this.p.toppager&&a(this.p.toppager).slideUp("fast"),!0===this.p.toolbar[0]&&
("both"===this.p.toolbar[1]&&a(this.grid.ubDiv).slideUp("fast"),a(this.grid.uDiv).slideUp("fast")),this.p.footerrow&&a(".ui-jqgrid-sdiv","#gbox_"+a.jgrid.jqID(this.p.id)).slideUp("fast"),a(".ui-jqgrid-titlebar-close span",this.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),this.p.gridstate="hidden"):"visible"===d&&(a(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+a.jgrid.jqID(this.p.id)).slideDown("fast"),this.p.pager&&a(this.p.pager).slideDown("fast"),this.p.toppager&&
a(this.p.toppager).slideDown("fast"),!0===this.p.toolbar[0]&&("both"===this.p.toolbar[1]&&a(this.grid.ubDiv).slideDown("fast"),a(this.grid.uDiv).slideDown("fast")),this.p.footerrow&&a(".ui-jqgrid-sdiv","#gbox_"+a.jgrid.jqID(this.p.id)).slideDown("fast"),a(".ui-jqgrid-titlebar-close span",this.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),this.p.gridstate="visible"))})},filterToolbar:function(d){d=a.extend({autosearch:!0,autosearchDelay:500,searchOnEnter:!0,
beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",operands:{eq:"\x3d\x3d",ne:"!",lt:"\x3c",le:"\x3c\x3d",gt:"\x3e",ge:"\x3e\x3d",bw:"^",bn:"!^","in":"\x3d",ni:"!\x3d",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},a.jgrid.search,d||{});return this.each(function(){var c=this;if(!this.ftoolbar){var e=function(){var b={},e=0,f,h,n={},r;a.each(c.p.colModel,function(){var p=a("#gs_"+a.jgrid.jqID(this.name),
!0===this.frozen&&!0===c.p.frozenColumns?c.grid.fhDiv:c.grid.hDiv);h=this.index||this.name;r=d.searchOperators?p.parent().prev().children("a").attr("soper")||d.defaultSearch:this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"===this.stype?"eq":d.defaultSearch;if((f="custom"===this.stype&&a.isFunction(this.searchoptions.custom_value)&&0<p.length&&"SPAN"===p[0].nodeName.toUpperCase()?this.searchoptions.custom_value.call(c,p.children(".customelement:first"),"get"):p.val())||
"nu"===r||"nn"===r)b[h]=f,n[h]=r,e++;else try{delete c.p.postData[h]}catch(q){}});var q=0<e?!0:!1;if(!0===d.stringResult||"local"===c.p.datatype||!0===d.searchOperators){var p='{"groupOp":"'+d.groupOp+'","rules":[',s=0;a.each(b,function(a,b){0<s&&(p+=",");p+='{"field":"'+a+'",';p+='"op":"'+n[a]+'",';p+='"data":"'+(b+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';s++});p+="]}";a.extend(c.p.postData,{filters:p});a.each(["searchField","searchString","searchOper"],function(a,b){c.p.postData.hasOwnProperty(b)&&
delete c.p.postData[b]})}else a.extend(c.p.postData,b);var u;c.p.searchurl&&(u=c.p.url,a(c).jqGrid("setGridParam",{url:c.p.searchurl}));var t="stop"===a(c).triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!t&&a.isFunction(d.beforeSearch)&&(t=d.beforeSearch.call(c));t||a(c).jqGrid("setGridParam",{search:q}).trigger("reloadGrid",[{page:1}]);u&&a(c).jqGrid("setGridParam",{url:u});a(c).triggerHandler("jqGridToolbarAfterSearch");a.isFunction(d.afterSearch)&&d.afterSearch.call(c)},f=function(b,f,h){a("#sopt_menu").remove();
f=parseInt(f,10);h=parseInt(h,10)+18;f='\x3cul id\x3d"sopt_menu" class\x3d"ui-search-menu" role\x3d"menu" tabindex\x3d"0" style\x3d"font-size:'+(a(".ui-jqgrid-view").css("font-size")||"11px")+";left:"+f+"px;top:"+h+'px;"\x3e';h=a(b).attr("soper");var m,n=[],r,q=0,p=a(b).attr("colname");for(m=c.p.colModel.length;q<m&&c.p.colModel[q].name!==p;)q++;q=c.p.colModel[q];p=a.extend({},q.searchoptions);p.sopt||(p.sopt=[],p.sopt[0]="select"===q.stype?"eq":d.defaultSearch);a.each(d.odata,function(){n.push(this.oper)});
for(q=0;q<p.sopt.length;q++)r=a.inArray(p.sopt[q],n),-1!==r&&(m=h===d.odata[r].oper?"ui-state-highlight":"",f+='\x3cli class\x3d"ui-menu-item '+m+'" role\x3d"presentation"\x3e\x3ca class\x3d"ui-corner-all g-menu-item" tabindex\x3d"0" role\x3d"menuitem" value\x3d"'+d.odata[r].oper+'" oper\x3d"'+d.operands[d.odata[r].oper]+'"\x3e\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0"\x3e\x3ctr\x3e\x3ctd width\x3d"25px"\x3e'+d.operands[d.odata[r].oper]+"\x3c/td\x3e\x3ctd\x3e"+d.odata[r].text+"\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/a\x3e\x3c/li\x3e");
f+="\x3c/ul\x3e";a("body").append(f);a("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all");a("#sopt_menu \x3e li \x3e a").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).click(function(f){f=a(this).attr("value");var h=a(this).attr("oper");a(c).triggerHandler("jqGridToolbarSelectOper",[f,h,b]);a("#sopt_menu").hide();a(b).text(h).attr("soper",f);!0===d.autosearch&&(h=a(b).parent().next().children()[0],(a(h).val()||"nu"===
f||"nn"===f)&&e())})},h=a("\x3ctr class\x3d'ui-search-toolbar' role\x3d'row'\x3e\x3c/tr\x3e"),b;a.each(c.p.colModel,function(f){var k=this,l,m;m="";var n="\x3d",r,q=a("\x3cth role\x3d'columnheader' class\x3d'ui-state-default ui-th-column ui-th-"+c.p.direction+"'\x3e\x3c/th\x3e"),p=a("\x3cdiv style\x3d'position:relative;height:auto;padding-right:0.3em;padding-left:0.3em;'\x3e\x3c/div\x3e"),s=a("\x3ctable class\x3d'ui-search-table' cellspacing\x3d'0'\x3e\x3ctr\x3e\x3ctd class\x3d'ui-search-oper'\x3e\x3c/td\x3e\x3ctd class\x3d'ui-search-input'\x3e\x3c/td\x3e\x3ctd class\x3d'ui-search-clear'\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e");
!0===this.hidden&&a(q).css("display","none");this.search=!1===this.search?!1:!0;void 0===this.stype&&(this.stype="text");l=a.extend({},this.searchoptions||{});if(this.search){if(d.searchOperators){m=l.sopt?l.sopt[0]:"select"===k.stype?"eq":d.defaultSearch;for(r=0;r<d.odata.length;r++)if(d.odata[r].oper===m){n=d.operands[m]||"";break}m="\x3ca title\x3d'"+(null!=l.searchtitle?l.searchtitle:d.operandTitle)+"' style\x3d'padding-right: 0.5em;' soper\x3d'"+m+"' class\x3d'soptclass' colname\x3d'"+this.name+
"'\x3e"+n+"\x3c/a\x3e"}a("td:eq(0)",s).attr("colindex",f).append(m);void 0===l.clearSearch&&(l.clearSearch=!0);l.clearSearch?(m=d.resetTitle||"Clear Search Value",a("td:eq(2)",s).append("\x3ca title\x3d'"+m+"' style\x3d'padding-right: 0.3em;padding-left: 0.3em;' class\x3d'clearsearchclass'\x3e"+d.resetIcon+"\x3c/a\x3e")):a("td:eq(2)",s).hide();switch(this.stype){case "select":if(m=this.surl||l.dataUrl)a(p).append(s),a.ajax(a.extend({url:m,dataType:"html",success:function(b){void 0!==l.buildSelect?
(b=l.buildSelect(b))&&a("td:eq(1)",s).append(b):a("td:eq(1)",s).append(b);void 0!==l.defaultValue&&a("select",p).val(l.defaultValue);a("select",p).attr({name:k.index||k.name,id:"gs_"+k.name});l.attr&&a("select",p).attr(l.attr);a("select",p).css({width:"100%"});a.jgrid.bindEv.call(c,a("select",p)[0],l);!0===d.autosearch&&a("select",p).change(function(){e();return!1});b=null}},a.jgrid.ajaxOptions,c.p.ajaxSelectOptions||{}));else{var u,t,A;k.searchoptions?(u=void 0===k.searchoptions.value?"":k.searchoptions.value,
t=void 0===k.searchoptions.separator?":":k.searchoptions.separator,A=void 0===k.searchoptions.delimiter?";":k.searchoptions.delimiter):k.editoptions&&(u=void 0===k.editoptions.value?"":k.editoptions.value,t=void 0===k.editoptions.separator?":":k.editoptions.separator,A=void 0===k.editoptions.delimiter?";":k.editoptions.delimiter);if(u){var C=document.createElement("select");C.style.width="100%";a(C).attr({name:k.index||k.name,id:"gs_"+k.name});var v;if("string"===typeof u)for(m=u.split(A),v=0;v<m.length;v++)u=
m[v].split(t),A=document.createElement("option"),A.value=u[0],A.innerHTML=u[1],C.appendChild(A);else if("object"===typeof u)for(v in u)u.hasOwnProperty(v)&&(A=document.createElement("option"),A.value=v,A.innerHTML=u[v],C.appendChild(A));void 0!==l.defaultValue&&a(C).val(l.defaultValue);l.attr&&a(C).attr(l.attr);a(p).append(s);a.jgrid.bindEv.call(c,C,l);a("td:eq(1)",s).append(C);!0===d.autosearch&&a(C).change(function(){e();return!1})}}break;case "text":t=void 0!==l.defaultValue?l.defaultValue:"";
a("td:eq(1)",s).append("\x3cinput type\x3d'text' style\x3d'width:100%;padding:0px;' name\x3d'"+(k.index||k.name)+"' id\x3d'gs_"+k.name+"' value\x3d'"+t+"'/\x3e");a(p).append(s);l.attr&&a("input",p).attr(l.attr);a.jgrid.bindEv.call(c,a("input",p)[0],l);!0===d.autosearch&&(d.searchOnEnter?a("input",p).keypress(function(a){return 13===(a.charCode||a.keyCode||0)?(e(),!1):this}):a("input",p).keydown(function(a){switch(a.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;
default:b&&clearTimeout(b),b=setTimeout(function(){e()},d.autosearchDelay)}}));break;case "custom":a("td:eq(1)",s).append("\x3cspan style\x3d'width:95%;padding:0px;' name\x3d'"+(k.index||k.name)+"' id\x3d'gs_"+k.name+"'/\x3e");a(p).append(s);try{if(a.isFunction(l.custom_element))if(C=l.custom_element.call(c,void 0!==l.defaultValue?l.defaultValue:"",l))C=a(C).addClass("customelement"),a(p).find("span[name\x3d'"+(k.index||k.name)+"']").append(C);else throw"e2";else throw"e1";}catch(P){"e1"===P&&a.jgrid.info_dialog(a.jgrid.errors.errcap,
"function 'custom_element' "+a.jgrid.edit.msg.nodefined,a.jgrid.edit.bClose),"e2"===P?a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_element' "+a.jgrid.edit.msg.novalue,a.jgrid.edit.bClose):a.jgrid.info_dialog(a.jgrid.errors.errcap,"string"===typeof P?P:P.message,a.jgrid.edit.bClose)}}}a(q).append(p);a(h).append(q);d.searchOperators||a("td:eq(0)",s).hide()});a("table thead",c.grid.hDiv).append(h);d.searchOperators&&(a(".soptclass",h).click(function(b){var c=a(this).offset();f(this,c.left,
c.top);b.stopPropagation()}),a("body").on("click",function(b){"soptclass"!==b.target.className&&a("#sopt_menu").hide()}));a(".clearsearchclass",h).click(function(b){b=a(this).parents("tr:first");var f=parseInt(a("td.ui-search-oper",b).attr("colindex"),10),h=a.extend({},c.p.colModel[f].searchoptions||{}),h=h.defaultValue?h.defaultValue:"";"select"===c.p.colModel[f].stype?h?a("td.ui-search-input select",b).val(h):a("td.ui-search-input select",b)[0].selectedIndex=0:a("td.ui-search-input input",b).val(h);
!0===d.autosearch&&e()});this.ftoolbar=!0;this.triggerToolbar=e;this.clearToolbar=function(b){var e={},f=0,h;b="boolean"!==typeof b?!0:b;a.each(c.p.colModel,function(){var b,d=a("#gs_"+a.jgrid.jqID(this.name),!0===this.frozen&&!0===c.p.frozenColumns?c.grid.fhDiv:c.grid.hDiv);this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(b=this.searchoptions.defaultValue);h=this.index||this.name;switch(this.stype){case "select":d.find("option").each(function(c){0===c&&(this.selected=!0);if(a(this).val()===
b)return this.selected=!0,!1});if(void 0!==b)e[h]=b,f++;else try{delete c.p.postData[h]}catch(g){}break;case "text":d.val(b||"");if(void 0!==b)e[h]=b,f++;else try{delete c.p.postData[h]}catch(n){}break;case "custom":a.isFunction(this.searchoptions.custom_value)&&0<d.length&&"SPAN"===d[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(c,d.children(".customelement:first"),"set",b||"")}});var n=0<f?!0:!1;c.p.resetsearch=!0;if(!0===d.stringResult||"local"===c.p.datatype){var r='{"groupOp":"'+
d.groupOp+'","rules":[',q=0;a.each(e,function(a,b){0<q&&(r+=",");r+='{"field":"'+a+'",';r+='"op":"eq",';r+='"data":"'+(b+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';q++});r+="]}";a.extend(c.p.postData,{filters:r});a.each(["searchField","searchString","searchOper"],function(a,b){c.p.postData.hasOwnProperty(b)&&delete c.p.postData[b]})}else a.extend(c.p.postData,e);var p;c.p.searchurl&&(p=c.p.url,a(c).jqGrid("setGridParam",{url:c.p.searchurl}));var s="stop"===a(c).triggerHandler("jqGridToolbarBeforeClear")?
!0:!1;!s&&a.isFunction(d.beforeClear)&&(s=d.beforeClear.call(c));s||b&&a(c).jqGrid("setGridParam",{search:n}).trigger("reloadGrid",[{page:1}]);p&&a(c).jqGrid("setGridParam",{url:p});a(c).triggerHandler("jqGridToolbarAfterClear");a.isFunction(d.afterClear)&&d.afterClear()};this.toggleToolbar=function(){var b=a("tr.ui-search-toolbar",c.grid.hDiv),d=!0===c.p.frozenColumns?a("tr.ui-search-toolbar",c.grid.fhDiv):!1;"none"===b.css("display")?(b.show(),d&&d.show()):(b.hide(),d&&d.hide())}}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&
(this.toggleToolbar=this.clearToolbar=this.triggerToolbar=null,this.ftoolbar=!1,a(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(d){void 0===d&&(d=!0);return this.each(function(){var c,e,f,h,b,g;e=this.grid;var k=a("table.ui-jqgrid-htable thead",e.hDiv),l=this.p.colModel;if(e){a(this).unbind(".setGroupHeaders");c=a("\x3ctr\x3e",{role:"row"}).addClass("ui-jqgrid-labels");h=e.headers;e=0;for(f=h.length;e<f;e++){b=l[e].hidden?"none":"";b=a(h[e].el).width(h[e].width).css("display",
b);try{b.removeAttr("rowSpan")}catch(m){b.attr("rowSpan",1)}c.append(b);g=b.children("span.ui-jqgrid-resize");0<g.length&&(g[0].style.height="");b.children("div")[0].style.top=""}a(k).children("tr.ui-jqgrid-labels").remove();a(k).prepend(c);!0===d&&a(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(d){d=a.extend({useColSpanStyle:!1,groupHeaders:[]},d||{});return this.each(function(){this.p.groupHeader=d;var c,e,f=0,h,b,g,k,l,m=this.p.colModel,n=m.length,r=this.grid.headers,
q=a("table.ui-jqgrid-htable",this.grid.hDiv),p=q.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header");h=q.children("thead");var s=q.find(".jqg-first-row-header");void 0===s[0]?s=a("\x3ctr\x3e",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):s.empty();var u,t=function(a,b){var c=b.length,d;for(d=0;d<c;d++)if(b[d].startColumnName===a)return d;return-1};a(this).prepend(h);h=a("\x3ctr\x3e",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header");
for(c=0;c<n;c++)if(g=r[c].el,k=a(g),e=m[c],b={height:"0px",width:r[c].width+"px",display:e.hidden?"none":""},a("\x3cth\x3e",{role:"gridcell"}).css(b).addClass("ui-first-th-"+this.p.direction).appendTo(s),g.style.width="",b=t(e.name,d.groupHeaders),0<=b){b=d.groupHeaders[b];f=b.numberOfColumns;l=b.titleText;for(b=e=0;b<f&&c+b<n;b++)m[c+b].hidden||e++;b=a("\x3cth\x3e").attr({role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({height:"22px","border-top":"0 none"}).html(l);
0<e&&b.attr("colspan",String(e));this.p.headertitles&&b.attr("title",b.text());0===e&&b.hide();k.before(b);h.append(g);f-=1}else 0===f?d.useColSpanStyle?k.attr("rowspan","2"):(a("\x3cth\x3e",{role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({display:e.hidden?"none":"","border-top":"0 none"}).insertBefore(k),h.append(g)):(h.append(g),f--);m=a(this).children("thead");m.prepend(s);h.insertAfter(p);q.append(m);d.useColSpanStyle&&(q.find("span.ui-jqgrid-resize").each(function(){var b=
a(this).parent();b.is(":visible")&&(this.style.cssText="height: "+b.height()+"px !important; cursor: col-resize;")}),q.find("div.ui-jqgrid-sortable").each(function(){var b=a(this),c=b.parent();c.is(":visible")&&c.is(":has(span.ui-jqgrid-resize)")&&b.css("top",(c.height()-b.outerHeight())/2+"px")}));u=m.find("tr.jqg-first-row-header");a(this).bind("jqGridResizeStop.setGroupHeaders",function(a,b,c){u.find("th").eq(c).width(b)})})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var d=
this,c=d.p.colModel,e=0,f=c.length,h=-1,b=!1;if(!0!==d.p.subGrid&&!0!==d.p.treeGrid&&!0!==d.p.cellEdit&&!d.p.sortable&&!d.p.scroll){d.p.rownumbers&&e++;for(d.p.multiselect&&e++;e<f;){if(!0===c[e].frozen)b=!0,h=e;else break;e++}if(0<=h&&b){c=d.p.caption?a(d.grid.cDiv).outerHeight():0;e=a(".ui-jqgrid-htable","#gview_"+a.jgrid.jqID(d.p.id)).height();d.p.toppager&&(c+=a(d.grid.topDiv).outerHeight());!0===d.p.toolbar[0]&&"bottom"!==d.p.toolbar[1]&&(c+=a(d.grid.uDiv).outerHeight());d.grid.fhDiv=a('\x3cdiv style\x3d"position:absolute;left:0px;top:'+
c+"px;height:"+e+'px;" class\x3d"frozen-div ui-state-default ui-jqgrid-hdiv"\x3e\x3c/div\x3e');d.grid.fbDiv=a('\x3cdiv style\x3d"position:absolute;left:0px;top:'+(parseInt(c,10)+parseInt(e,10)+1)+'px;overflow-y:hidden" class\x3d"frozen-bdiv ui-jqgrid-bdiv"\x3e\x3c/div\x3e');a("#gview_"+a.jgrid.jqID(d.p.id)).append(d.grid.fhDiv);f=a(".ui-jqgrid-htable","#gview_"+a.jgrid.jqID(d.p.id)).clone(!0);if(d.p.groupHeader){a("tr.jqg-first-row-header, tr.jqg-third-row-header",f).each(function(){a("th:gt("+h+
")",this).remove()});var g=-1,k=-1,l,m;a("tr.jqg-second-row-header th",f).each(function(){l=parseInt(a(this).attr("colspan"),10);if(m=parseInt(a(this).attr("rowspan"),10))g++,k++;l&&(g+=l,k++);if(g===h)return!1});g!==h&&(k=h);a("tr.jqg-second-row-header",f).each(function(){a("th:gt("+k+")",this).remove()})}else a("tr",f).each(function(){a("th:gt("+h+")",this).remove()});a(f).width(1);a(d.grid.fhDiv).append(f).mousemove(function(a){if(d.grid.resizing)return d.grid.dragMove(a),!1});d.p.footerrow&&(f=
a(".ui-jqgrid-bdiv","#gview_"+a.jgrid.jqID(d.p.id)).height(),d.grid.fsDiv=a('\x3cdiv style\x3d"position:absolute;left:0px;top:'+(parseInt(c,10)+parseInt(e,10)+parseInt(f,10)+1)+'px;" class\x3d"frozen-sdiv ui-jqgrid-sdiv"\x3e\x3c/div\x3e'),a("#gview_"+a.jgrid.jqID(d.p.id)).append(d.grid.fsDiv),c=a(".ui-jqgrid-ftable","#gview_"+a.jgrid.jqID(d.p.id)).clone(!0),a("tr",c).each(function(){a("td:gt("+h+")",this).remove()}),a(c).width(1),a(d.grid.fsDiv).append(c));a(d).bind("jqGridResizeStop.setFrozenColumns",
function(b,c,e){b=a(".ui-jqgrid-htable",d.grid.fhDiv);a("th:eq("+e+")",b).width(c);b=a(".ui-jqgrid-btable",d.grid.fbDiv);a("tr:first td:eq("+e+")",b).width(c);d.p.footerrow&&(b=a(".ui-jqgrid-ftable",d.grid.fsDiv),a("tr:first td:eq("+e+")",b).width(c))});a(d).bind("jqGridSortCol.setFrozenColumns",function(b,c,e){b=a("tr.ui-jqgrid-labels:last th:eq("+d.p.lastsort+")",d.grid.fhDiv);c=a("tr.ui-jqgrid-labels:last th:eq("+e+")",d.grid.fhDiv);a("span.ui-grid-ico-sort",b).addClass("ui-state-disabled");a(b).attr("aria-selected",
"false");a("span.ui-icon-"+d.p.sortorder,c).removeClass("ui-state-disabled");a(c).attr("aria-selected","true");d.p.viewsortcols[0]||d.p.lastsort===e||(a("span.s-ico",b).hide(),a("span.s-ico",c).show())});a("#gview_"+a.jgrid.jqID(d.p.id)).append(d.grid.fbDiv);a(d.grid.bDiv).scroll(function(){a(d.grid.fbDiv).scrollTop(a(this).scrollTop())});!0===d.p.hoverrows&&a("#"+a.jgrid.jqID(d.p.id)).unbind("mouseover").unbind("mouseout");a(d).bind("jqGridAfterGridComplete.setFrozenColumns",function(){a("#"+a.jgrid.jqID(d.p.id)+
"_frozen").remove();a(d.grid.fbDiv).height(a(d.grid.bDiv).height()-16);var b=a("#"+a.jgrid.jqID(d.p.id)).clone(!0);a("tr[role\x3drow]",b).each(function(){a("td[role\x3dgridcell]:gt("+h+")",this).remove()});a(b).width(1).attr("id",d.p.id+"_frozen");a(d.grid.fbDiv).append(b);!0===d.p.hoverrows&&(a("tr.jqgrow",b).hover(function(){a(this).addClass("ui-state-hover");a("#"+a.jgrid.jqID(this.id),"#"+a.jgrid.jqID(d.p.id)).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover");a("#"+
a.jgrid.jqID(this.id),"#"+a.jgrid.jqID(d.p.id)).removeClass("ui-state-hover")}),a("tr.jqgrow","#"+a.jgrid.jqID(d.p.id)).hover(function(){a(this).addClass("ui-state-hover");a("#"+a.jgrid.jqID(this.id),"#"+a.jgrid.jqID(d.p.id)+"_frozen").addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover");a("#"+a.jgrid.jqID(this.id),"#"+a.jgrid.jqID(d.p.id)+"_frozen").removeClass("ui-state-hover")}));b=null});d.grid.hDiv.loading||a(d).triggerHandler("jqGridAfterGridComplete");d.p.frozenColumns=
!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&!0===this.p.frozenColumns){a(this.grid.fhDiv).remove();a(this.grid.fbDiv).remove();this.grid.fhDiv=null;this.grid.fbDiv=null;this.p.footerrow&&(a(this.grid.fsDiv).remove(),this.grid.fsDiv=null);a(this).unbind(".setFrozenColumns");if(!0===this.p.hoverrows){var d;a("#"+a.jgrid.jqID(this.p.id)).bind("mouseover",function(c){d=a(c.target).closest("tr.jqgrow");"ui-subgrid"!==a(d).attr("class")&&a(d).addClass("ui-state-hover")}).bind("mouseout",
function(c){d=a(c.target).closest("tr.jqgrow");a(d).removeClass("ui-state-hover")})}this.p.frozenColumns=!1}})}})})(jQuery);
(function(a){a.jgrid.msie&&8===a.jgrid.msiever()&&(a.expr[":"].hidden=function(a){return 0===a.offsetWidth||0===a.offsetHeight||"none"===a.style.display});a.jgrid._multiselect=!1;if(a.ui&&a.ui.multiselect){if(a.ui.multiselect.prototype._setSelected){var d=a.ui.multiselect.prototype._setSelected;a.ui.multiselect.prototype._setSelected=function(c,e){var f=d.call(this,c,e);if(e&&this.selectedList){var h=this.element;this.selectedList.find("li").each(function(){a(this).data("optionLink")&&a(this).data("optionLink").remove().appendTo(h)})}return f}}a.ui.multiselect.prototype.destroy&&
(a.ui.multiselect.prototype.destroy=function(){this.element.show();this.container.remove();void 0===a.Widget?a.widget.prototype.destroy.apply(this,arguments):a.Widget.prototype.destroy.apply(this,arguments)});a.jgrid._multiselect=!0}a.jgrid.extend({sortableColumns:function(c){return this.each(function(){function d(){f.p.disableClick=!0}var f=this,h=a.jgrid.jqID(f.p.id),h={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:"\x3eth:not(:has(#jqgh_"+h+"_cb,#jqgh_"+h+"_rn,#jqgh_"+h+"_subgrid),:hidden)",
placeholder:{element:function(b){return a(document.createElement(b[0].nodeName)).addClass(b[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(a,b){b.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10));b.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}},update:function(b,
c){var d=a(c.item).parent(),d=a("\x3eth",d),e={},h=f.p.id+"_";a.each(f.p.colModel,function(a){e[this.name]=a});var r=[];d.each(function(){var b=a("\x3ediv",this).get(0).id.replace(/^jqgh_/,"").replace(h,"");e.hasOwnProperty(b)&&r.push(e[b])});a(f).jqGrid("remapColumns",r,!0,!0);a.isFunction(f.p.sortable.update)&&f.p.sortable.update(r);setTimeout(function(){f.p.disableClick=!1},50)}};f.p.sortable.options?a.extend(h,f.p.sortable.options):a.isFunction(f.p.sortable)&&(f.p.sortable={update:f.p.sortable});
if(h.start){var b=h.start;h.start=function(a,c){d();b.call(this,a,c)}}else h.start=d;f.p.sortable.exclude&&(h.items+=":not("+f.p.sortable.exclude+")");h=c.sortable(h);h=h.data("sortable")||h.data("uiSortable");null!=h&&(h.data("sortable").floating=!0)})},columnChooser:function(c){function d(b,c){b&&("string"===typeof b?a.fn[b]&&a.fn[b].apply(c,a.makeArray(arguments).slice(2)):a.isFunction(b)&&b.apply(c,a.makeArray(arguments).slice(2)))}var f=this,h,b,g={},k=[],l,m,n=f.jqGrid("getGridParam","colModel"),
r=f.jqGrid("getGridParam","colNames"),q=function(b){return a.ui.multiselect.prototype&&b.data(a.ui.multiselect.prototype.widgetFullName||a.ui.multiselect.prototype.widgetName)||b.data("ui-multiselect")||b.data("multiselect")};if(!a("#colchooser_"+a.jgrid.jqID(f[0].p.id)).length){h=a('\x3cdiv id\x3d"colchooser_'+f[0].p.id+'" style\x3d"position:relative;overflow:hidden"\x3e\x3cdiv\x3e\x3cselect multiple\x3d"multiple"\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e');b=a("select",h);c=a.extend({width:400,
height:240,classname:null,done:function(a){a&&f.jqGrid("remapColumns",a,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(c){var d={};d[c.bSubmit]=function(){c.apply_perm();c.cleanup(!1)};d[c.bCancel]=function(){c.cleanup(!0)};return a.extend(!0,{buttons:d,close:function(){c.cleanup(!0)},modal:c.modal||!1,resizable:c.resizable||!0,width:c.width+70,resize:function(){var a=q(b),c=a.container.closest(".ui-dialog-content");0<c.length&&"object"===
typeof c[0].style?c[0].style.width="":c.css("width","");a.selectedList.height(Math.max(a.selectedContainer.height()-a.selectedActions.outerHeight()-1,1));a.availableList.height(Math.max(a.availableContainer.height()-a.availableActions.outerHeight()-1,1))}},c.dialog_opts||{})},apply_perm:function(){var d=[];a("option",b).each(function(){a(this).is("[selected]")?f.jqGrid("showCol",n[this.value].name):f.jqGrid("hideCol",n[this.value].name)});a("option[selected]",b).each(function(){d.push(parseInt(this.value,
10))});a.each(d,function(){delete g[n[parseInt(this,10)].name]});a.each(g,function(){var a=parseInt(this,10);var b=d,c=a,e,f;0<=c?(e=b.slice(),f=e.splice(c,Math.max(b.length-c,c)),c>b.length&&(c=b.length),e[c]=a,d=e.concat(f)):d=b});c.done&&c.done.call(f,d);f.jqGrid("setGridWidth",f[0].p.tblwidth,f[0].p.shrinkToFit)},cleanup:function(a){d(c.dlog,h,"destroy");d(c.msel,b,"destroy");h.remove();a&&c.done&&c.done.call(f)},msel_opts:{}},a.jgrid.col,c||{});if(a.ui&&a.ui.multiselect&&a.ui.multiselect.defaults){if(!a.jgrid._multiselect){alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");
return}c.msel_opts=a.extend(a.ui.multiselect.defaults,c.msel_opts)}c.caption&&h.attr("title",c.caption);c.classname&&(h.addClass(c.classname),b.addClass(c.classname));c.width&&(a("\x3ediv",h).css({width:c.width,margin:"0 auto"}),b.css("width",c.width));c.height&&(a("\x3ediv",h).css("height",c.height),b.css("height",c.height-10));b.empty();a.each(n,function(c){g[this.name]=c;this.hidedlg?this.hidden||k.push(c):b.append("\x3coption value\x3d'"+c+"' "+(this.hidden?"":"selected\x3d'selected'")+"\x3e"+
a.jgrid.stripHtml(r[c])+"\x3c/option\x3e")});l=a.isFunction(c.dlog_opts)?c.dlog_opts.call(f,c):c.dlog_opts;d(c.dlog,h,l);l=a.isFunction(c.msel_opts)?c.msel_opts.call(f,c):c.msel_opts;d(c.msel,b,l);l=a("#colchooser_"+a.jgrid.jqID(f[0].p.id));l.css({margin:"auto"});l.find("\x3ediv").css({width:"100%",height:"100%",margin:"auto"});l=q(b);l.container.css({width:"100%",height:"100%",margin:"auto"});l.selectedContainer.css({width:100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"});
l.availableContainer.css({width:100-100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"});l.selectedList.css("height","auto");l.availableList.css("height","auto");m=Math.max(l.selectedList.height(),l.availableList.height());m=Math.min(m,a(window).height());l.selectedList.css("height",m);l.availableList.css("height",m)}},sortableRows:function(c){return this.each(function(){var d=this;d.grid&&!d.p.treeGrid&&a.fn.sortable&&(c=a.extend({cursor:"move",axis:"y",items:".jqgrow"},
c||{}),c.start&&a.isFunction(c.start)?(c._start_=c.start,delete c.start):c._start_=!1,c.update&&a.isFunction(c.update)?(c._update_=c.update,delete c.update):c._update_=!1,c.start=function(f,h){a(h.item).css("border-width","0");a("td",h.item).each(function(a){this.style.width=d.grid.cols[a].style.width});if(d.p.subGrid){var b=a(h.item).attr("id");try{a(d).jqGrid("collapseSubGridRow",b)}catch(g){}}c._start_&&c._start_.apply(this,[f,h])},c.update=function(f,h){a(h.item).css("border-width","");!0===d.p.rownumbers&&
a("td.jqgrid-rownum",d.rows).each(function(b){a(this).html(b+1+(parseInt(d.p.page,10)-1)*parseInt(d.p.rowNum,10))});c._update_&&c._update_.apply(this,[f,h])},a("tbody:first",d).sortable(c),a("tbody:first",d).disableSelection())})},gridDnD:function(c){return this.each(function(){function d(){var b=a.data(f,"dnd");a("tr.jqgrow:not(.ui-draggable)",f).draggable(a.isFunction(b.drag)?b.drag.call(a(f),b):b.drag)}var f=this,h,b;if(f.grid&&!f.p.treeGrid&&a.fn.draggable&&a.fn.droppable)if(void 0===a("#jqgrid_dnd")[0]&&
a("body").append("\x3ctable id\x3d'jqgrid_dnd' class\x3d'ui-jqgrid-dnd'\x3e\x3c/table\x3e"),"string"===typeof c&&"updateDnD"===c&&!0===f.p.jqgdnd)d();else if(c=a.extend({drag:function(b){return a.extend({start:function(c,d){var e;if(f.p.subGrid){e=a(d.helper).attr("id");try{a(f).jqGrid("collapseSubGridRow",e)}catch(h){}}for(e=0;e<a.data(f,"dnd").connectWith.length;e++)0===a(a.data(f,"dnd").connectWith[e]).jqGrid("getGridParam","reccount")&&a(a.data(f,"dnd").connectWith[e]).jqGrid("addRowData","jqg_empty_row",
{});d.helper.addClass("ui-state-highlight");a("td",d.helper).each(function(a){this.style.width=f.grid.headers[a].width+"px"});b.onstart&&a.isFunction(b.onstart)&&b.onstart.call(a(f),c,d)},stop:function(c,d){var e;d.helper.dropped&&!b.dragcopy&&(e=a(d.helper).attr("id"),void 0===e&&(e=a(this).attr("id")),a(f).jqGrid("delRowData",e));for(e=0;e<a.data(f,"dnd").connectWith.length;e++)a(a.data(f,"dnd").connectWith[e]).jqGrid("delRowData","jqg_empty_row");b.onstop&&a.isFunction(b.onstop)&&b.onstop.call(a(f),
c,d)}},b.drag_opts||{})},drop:function(b){return a.extend({accept:function(b){if(!a(b).hasClass("jqgrow"))return b;b=a(b).closest("table.ui-jqgrid-btable");return 0<b.length&&void 0!==a.data(b[0],"dnd")?(b=a.data(b[0],"dnd").connectWith,-1!==a.inArray("#"+a.jgrid.jqID(this.id),b)?!0:!1):!1},drop:function(c,d){if(a(d.draggable).hasClass("jqgrow")){var e=a(d.draggable).attr("id"),e=d.draggable.parent().parent().jqGrid("getRowData",e);if(!b.dropbyname){var h=0,r={},q,p,s=a("#"+a.jgrid.jqID(this.id)).jqGrid("getGridParam",
"colModel");try{for(p in e)e.hasOwnProperty(p)&&(q=s[h].name,"cb"!==q&&"rn"!==q&&"subgrid"!==q&&e.hasOwnProperty(p)&&s[h]&&(r[q]=e[p]),h++);e=r}catch(u){}}d.helper.dropped=!0;b.beforedrop&&a.isFunction(b.beforedrop)&&(q=b.beforedrop.call(this,c,d,e,a("#"+a.jgrid.jqID(f.p.id)),a(this)),void 0!==q&&null!==q&&"object"===typeof q&&(e=q));if(d.helper.dropped){var t;b.autoid&&(a.isFunction(b.autoid)?t=b.autoid.call(this,e):(t=Math.ceil(1E3*Math.random()),t=b.autoidprefix+t));a("#"+a.jgrid.jqID(this.id)).jqGrid("addRowData",
t,e,b.droppos)}b.ondrop&&a.isFunction(b.ondrop)&&b.ondrop.call(this,c,d,e)}}},b.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5E3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},c||{}),c.connectWith)for(c.connectWith=c.connectWith.split(","),c.connectWith=a.map(c.connectWith,function(b){return a.trim(b)}),
a.data(f,"dnd",c),0===f.p.reccount||f.p.jqgdnd||d(),f.p.jqgdnd=!0,h=0;h<c.connectWith.length;h++)b=c.connectWith[h],a(b).droppable(a.isFunction(c.drop)?c.drop.call(a(f),c):c.drop)})},gridResize:function(c){return this.each(function(){var d=this,f=a.jgrid.jqID(d.p.id);d.grid&&a.fn.resizable&&(c=a.extend({},c||{}),c.alsoResize?(c._alsoResize_=c.alsoResize,delete c.alsoResize):c._alsoResize_=!1,c.stop&&a.isFunction(c.stop)?(c._stop_=c.stop,delete c.stop):c._stop_=!1,c.stop=function(h,b){a(d).jqGrid("setGridParam",
{height:a("#gview_"+f+" .ui-jqgrid-bdiv").height()});a(d).jqGrid("setGridWidth",b.size.width,c.shrinkToFit);c._stop_&&c._stop_.call(d,h,b)},c.alsoResize=c._alsoResize_?eval("("+("{'#gview_"+f+" .ui-jqgrid-bdiv':true,'"+c._alsoResize_+"':true}")+")"):a(".ui-jqgrid-bdiv","#gview_"+f),delete c._alsoResize_,a("#gbox_"+f).resizable(c))})}})})(jQuery);
(function(a){a.assocArraySize=function(a){var c=0,e;for(e in a)a.hasOwnProperty(e)&&c++;return c};a.jgrid.extend({pivotSetup:function(d,c){var e=[],f=[],h=[],b=[],g=[],k={grouping:!0,groupingView:{groupField:[],groupSummary:[],groupSummaryPos:[]}},l=[],m=a.extend({rowTotals:!1,rowTotalsText:"Total",colTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1},c||{});this.each(function(){function c(a,b,d){var e,f,g=[],h;if(!a||"function"!==typeof b||b instanceof RegExp)throw new TypeError;
h=a.length;for(e=0;e<h;e++)if(a.hasOwnProperty(e)&&(f=a[e],b.call(d,f,e,a))){g.push(f);break}return 0<g.length?g[0]:null}function r(a,b){var c=0,d=!0,e;for(e in a){if(a[e]!=this[c]){d=!1;break}c++;if(c>=this.length)break}d&&(u=b);return d}function q(c,d,e,f){var h=d.length,k,l,m,n,p="",q=[];a.isArray(e)?(n=e.length,q=e):(n=1,q[0]=e);b=[];g=[];for(m=b.root=0;m<n;m++){var r=[],s;for(k=0;k<h;k++){if(null==e)s=l=a.trim(d[k].member)+"_"+d[k].aggregator,q[0]=s;else{s=e[m].replace(/\s+/g,"");try{l=1===h?
p+s:p+s+"_"+d[k].aggregator+"_"+String(k)}catch(t){}}var u=l=isNaN(parseInt(l,10))?l:l+" ",x=r,z=l,v=f[l],A=d[k].member,C=c,G=void 0;switch(d[k].aggregator){case "sum":G=parseFloat(v||0)+parseFloat(C[A]||0);break;case "count":if(""===v||null==v)v=0;G=C.hasOwnProperty(A)?v+1:0;break;case "min":G=""===v||null==v?parseFloat(C[A]||0):Math.min(parseFloat(v),parseFloat(C[A]||0));break;case "max":G=""===v||null==v?parseFloat(C[A]||0):Math.max(parseFloat(v),parseFloat(C[A]||0))}f[u]=x[z]=G;1>=m&&"_r_Totals"!==
s&&""===p&&(p=s)}b[l]=r;g[l]=q[m]}return f}function p(a){var b,c,d,f,g;for(d in a)if(a.hasOwnProperty(d)){if("object"!==typeof a[d]){if("level"===d){void 0===T[a.level]&&(T[a.level]="",0<a.level&&"_r_Totals"!==a.text&&(l[a.level-1]={useColSpanStyle:!1,groupHeaders:[]}));if(T[a.level]!==a.text&&a.children.length&&"_r_Totals"!==a.text&&0<a.level){l[a.level-1].groupHeaders.push({titleText:a.label,numberOfColumns:0});c=l[a.level-1].groupHeaders.length-1;g=0===c?ka:$+P;if(a.level-1===(m.rowTotals?1:0)&&
0<c){var h=l[a.level-1].groupHeaders[c-1].numberOfColumns;h&&(g=h+1+m.aggregates.length)}l[a.level-1].groupHeaders[c].startColumnName=e[g].name;l[a.level-1].groupHeaders[c].numberOfColumns=e.length-g;$=e.length}T[a.level]=a.text}if(a.level===v&&"level"===d&&0<v)if(1<P){c=1;for(b in a.fields)1===c&&l[v-1].groupHeaders.push({startColumnName:b,numberOfColumns:1,titleText:a.text}),c++;l[v-1].groupHeaders[l[v-1].groupHeaders.length-1].numberOfColumns=c-1}else l.splice(v-1,1)}null!=a[d]&&"object"===typeof a[d]&&
p(a[d]);if("level"===d&&0<a.level)for(b in c=0,a.fields)if(a.fields.hasOwnProperty(b)){g={};for(f in m.aggregates[c])if(m.aggregates[c].hasOwnProperty(f))switch(f){case "member":case "label":case "aggregator":break;default:g[f]=m.aggregates[c][f]}1<P?(g.name=b,g.label=m.aggregates[c].label||a.label):(g.name=a.text,g.label="_r_Totals"===a.text?m.rowTotalsText:a.label);e.push(g);c++}}}var s,u,t,A=d.length,C,v,P,x,Q=0;m.rowTotals&&0<m.yDimension.length&&(m.yDimension.splice(0,0,{dataName:m.yDimension[0].dataName}),
m.yDimension[0].converter=function(){return"_r_Totals"});C=a.isArray(m.xDimension)?m.xDimension.length:0;v=m.yDimension.length;P=a.isArray(m.aggregates)?m.aggregates.length:0;if(0===C||0===P)throw"xDimension or aggregates optiona are not set!";var R;for(t=0;t<C;t++)R={name:m.xDimension[t].dataName,frozen:m.frozenStaticCols},null==m.xDimension[t].isGroupField&&(m.xDimension[t].isGroupField=!0),R=a.extend(!0,R,m.xDimension[t]),e.push(R);R=C-1;for(var V={};Q<A;){s=d[Q];var G=[],S=[];x={};t=0;do G[t]=
a.trim(s[m.xDimension[t].dataName]),x[m.xDimension[t].dataName]=G[t],t++;while(t<C);var z=0;u=-1;t=c(f,r,G);if(!t){z=0;if(1<=v){for(z=0;z<v;z++)S[z]=a.trim(s[m.yDimension[z].dataName]),m.yDimension[z].converter&&a.isFunction(m.yDimension[z].converter)&&(S[z]=m.yDimension[z].converter.call(this,S[z],G,S));x=q(s,m.aggregates,S,x)}else 0===v&&(x=q(s,m.aggregates,null,x));f.push(x)}else if(0<=u){z=0;if(1<=v){for(z=0;z<v;z++)S[z]=a.trim(s[m.yDimension[z].dataName]),m.yDimension[z].converter&&a.isFunction(m.yDimension[z].converter)&&
(S[z]=m.yDimension[z].converter.call(this,S[z],G,S));t=q(s,m.aggregates,S,t)}else 0===v&&(t=q(s,m.aggregates,null,t));f[u]=t}s=0;var G=x=null,M;for(M in b)if(b.hasOwnProperty(M)){if(0===s)V.children&&void 0!==V.children||(V={text:M,level:0,children:[],label:M}),x=V.children;else{G=null;for(t=0;t<x.length;t++)if(x[t].text===M){G=x[t];break}G?x=G.children:(x.push({children:[],text:M,level:s,fields:b[M],label:g[M]}),x=x[x.length-1].children)}s++}Q++}var T=[],$=e.length,ka=$;0<v&&(l[v-1]={useColSpanStyle:!1,
groupHeaders:[]});p(V);if(m.colTotals)for(Q=f.length;Q--;)for(t=C;t<e.length;t++)A=e[t].name,h[A]=h[A]?h[A]+parseFloat(f[Q][A]||0):parseFloat(f[Q][A]||0);if(0<R)for(t=0;t<R;t++)e[t].isGroupField&&(k.groupingView.groupField.push(e[t].name),k.groupingView.groupSummary.push(m.groupSummary),k.groupingView.groupSummaryPos.push(m.groupSummaryPos));else k.grouping=!1;k.sortname=e[R].name;k.groupingView.hideFirstGroupCol=!0});return{colModel:e,rows:f,groupOptions:k,groupHeaders:l,summary:h}},jqPivot:function(d,
c,e,f){return this.each(function(){function h(d){var f=jQuery(b).jqGrid("pivotSetup",d,c),h=0<a.assocArraySize(f.summary)?!0:!1,m=a.jgrid.from(f.rows);for(d=0;d<f.groupOptions.groupingView.groupField.length;d++)m.orderBy(f.groupOptions.groupingView.groupField[d],"a","text","");jQuery(b).jqGrid(a.extend(!0,{datastr:a.extend(m.select(),h?{userdata:f.summary}:{}),datatype:"jsonstring",footerrow:h,userDataOnFooter:h,colModel:f.colModel,viewrecords:!0,sortname:c.xDimension[0].dataName},f.groupOptions,
e||{}));f=f.groupHeaders;if(f.length)for(d=0;d<f.length;d++)f[d]&&f[d].groupHeaders.length&&jQuery(b).jqGrid("setGroupHeaders",f[d]);c.frozenStaticCols&&jQuery(b).jqGrid("setFrozenColumns")}var b=this;"string"===typeof d?a.ajax(a.extend({url:d,dataType:"json",success:function(b){h(a.jgrid.getAccessor(b,f&&f.reader?f.reader:"rows"))}},f||{})):h(d)})}})})(jQuery);
(function(a){a.fn.jqDrag=function(a){return b(this,a,"d")};a.fn.jqResize=function(a,c){return b(this,a,"r",c)};a.jqDnR={dnr:{},e:0,drag:function(a){"d"==c.k?e.css({left:c.X+a.pageX-c.pX,top:c.Y+a.pageY-c.pY}):(e.css({width:Math.max(a.pageX-c.pX+c.W,0),height:Math.max(a.pageY-c.pY+c.H,0)}),h&&f.css({width:Math.max(a.pageX-h.pX+h.W,0),height:Math.max(a.pageY-h.pY+h.H,0)}));return!1},stop:function(){a(document).unbind("mousemove",d.drag).unbind("mouseup",d.stop)}};var d=a.jqDnR,c=d.dnr,e=d.e,f,h,b=function(b,
d,n,r){return b.each(function(){d=d?a(d,b):b;d.bind("mousedown",{e:b,k:n},function(b){var d=b.data,l={};e=d.e;f=r?a(r):!1;if("relative"!=e.css("position"))try{e.position(l)}catch(m){}c={X:l.left||g("left")||0,Y:l.top||g("top")||0,W:g("width")||e[0].scrollWidth||0,H:g("height")||e[0].scrollHeight||0,pX:b.pageX,pY:b.pageY,k:d.k};h=f&&"d"!=d.k?{X:l.left||k("left")||0,Y:l.top||k("top")||0,W:f[0].offsetWidth||k("width")||0,H:f[0].offsetHeight||k("height")||0,pX:b.pageX,pY:b.pageY,k:d.k}:!1;if(a("input.hasDatepicker",
e[0])[0])try{a("input.hasDatepicker",e[0]).datepicker("hide")}catch(n){}a(document).mousemove(a.jqDnR.drag).mouseup(a.jqDnR.stop);return!1})})},g=function(a){return parseInt(e.css(a),10)||!1},k=function(a){return parseInt(f.css(a),10)||!1}})(jQuery);
(function(a){a.fn.jqm=function(b){var e={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:f,ajaxText:"",target:f,modal:f,toTop:f,onShow:f,onHide:f,onLoad:f};return this.each(function(){if(this._jqm)return c[this._jqm].c=a.extend({},c[this._jqm].c,b);d++;this._jqm=d;c[d]={c:a.extend(e,a.jqm.params,b),a:f,w:a(this).addClass("jqmID"+d),s:d};e.trigger&&a(this).jqmAddTrigger(e.trigger)})};a.fn.jqmAddClose=function(a){return k(this,a,"jqmHide")};a.fn.jqmAddTrigger=
function(a){return k(this,a,"jqmShow")};a.fn.jqmShow=function(b){return this.each(function(){a.jqm.open(this._jqm,b)})};a.fn.jqmHide=function(b){return this.each(function(){a.jqm.close(this._jqm,b)})};a.jqm={hash:{},open:function(d,g){var k=c[d],r=k.c,q="."+r.closeClass,p=parseInt(k.w.css("z-index")),p=0<p?p:3E3,s=a("\x3cdiv\x3e\x3c/div\x3e").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":p-1,opacity:r.overlay/100});if(k.a)return f;k.t=g;k.a=!0;k.w.css("z-index",p);r.modal?
(e[0]||setTimeout(function(){b("bind")},1),e.push(d)):0<r.overlay?r.closeoverlay&&k.w.jqmAddClose(s):s=f;k.o=s?s.addClass(r.overlayClass).prependTo("body"):f;r.ajax?(p=r.target||k.w,s=r.ajax,p="string"==typeof p?a(p,k.w):a(p),s="@"==s.substr(0,1)?a(g).attr(s.substring(1)):s,p.html(r.ajaxText).load(s,function(){r.onLoad&&r.onLoad.call(this,k);q&&k.w.jqmAddClose(a(q,k.w));h(k)})):q&&k.w.jqmAddClose(a(q,k.w));r.toTop&&k.o&&k.w.before('\x3cspan id\x3d"jqmP'+k.w[0]._jqm+'"\x3e\x3c/span\x3e').insertAfter(k.o);
r.onShow?r.onShow(k):k.w.show();h(k);return f},close:function(d){d=c[d];if(!d.a)return f;d.a=f;e[0]&&(e.pop(),e[0]||b("unbind"));d.c.toTop&&d.o&&a("#jqmP"+d.w[0]._jqm).after(d.w).remove();if(d.c.onHide)d.c.onHide(d);else d.w.hide(),d.o&&d.o.remove();return f},params:{}};var d=0,c=a.jqm.hash,e=[],f=!1,h=function(b){try{a(":input:visible",b.w)[0].focus()}catch(c){}},b=function(b){a(document)[b]("keypress",g)[b]("keydown",g)[b]("mousedown",g)},g=function(b){var d=c[e[e.length-1]],f=!a(b.target).parents(".jqmID"+
d.s)[0];f&&(a(".jqmID"+d.s).each(function(){var c=a(this),d=c.offset();if(d.top<=b.pageY&&b.pageY<=d.top+c.height()&&d.left<=b.pageX&&b.pageX<=d.left+c.width())return f=!1}),h(d));return!f},k=function(b,d,e){return b.each(function(){var b=this._jqm;a(d).each(function(){this[e]||(this[e]=[],a(this).click(function(){for(var a in{jqmShow:1,jqmHide:1})for(var b in this[a])if(c[this[a][b]])c[this[a][b]].w[a](this);return f}));this[e].push(b)})})}})(jQuery);
(function(a){a.fmatter={};a.extend(a.fmatter,{isBoolean:function(a){return"boolean"===typeof a},isObject:function(d){return d&&("object"===typeof d||a.isFunction(d))||!1},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(d){if(!this.isString(d)&&this.isValue(d))return!1;if(!this.isValue(d))return!0;d=a.trim(d).replace(/\&nbsp\;/ig,
"").replace(/\&#160\;/ig,"");return""===d}});a.fn.fmatter=function(d,c,e,f,h){var b=c;e=a.extend({},a.jgrid.formatter,e);try{b=a.fn.fmatter[d].call(this,c,e,f,h)}catch(g){}return b};a.fmatter.util={NumberFormat:function(d,c){a.fmatter.isNumber(d)||(d*=1);if(a.fmatter.isNumber(d)){var e=0>d,f=String(d),h=c.decimalSeparator||".",b;if(a.fmatter.isNumber(c.decimalPlaces)){var g=c.decimalPlaces,f=Math.pow(10,g),f=String(Math.round(d*f)/f);b=f.lastIndexOf(".");if(0<g)for(0>b?(f+=h,b=f.length-1):"."!==h&&
(f=f.replace(".",h));f.length-1-b<g;)f+="0"}if(c.thousandsSeparator){g=c.thousandsSeparator;b=f.lastIndexOf(h);b=-1<b?b:f.length;var h=f.substring(b),k=-1,l;for(l=b;0<l;l--)k++,0===k%3&&l!==b&&(!e||1<l)&&(h=g+h),h=f.charAt(l-1)+h;f=h}f=c.prefix?c.prefix+f:f;return f=c.suffix?f+c.suffix:f}return d}};a.fn.fmatter.defaultFormat=function(d,c){return a.fmatter.isValue(d)&&""!==d?d:c.defaultValue||"\x26#160;"};a.fn.fmatter.email=function(d,c){return a.fmatter.isEmpty(d)?a.fn.fmatter.defaultFormat(d,c):
'\x3ca href\x3d"mailto:'+d+'"\x3e'+d+"\x3c/a\x3e"};a.fn.fmatter.checkbox=function(d,c){var e=a.extend({},c.checkbox),f;void 0!==c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));f=!0===e.disabled?'disabled\x3d"disabled"':"";if(a.fmatter.isEmpty(d)||void 0===d)d=a.fn.fmatter.defaultFormat(d,e);d=String(d);d=(d+"").toLowerCase();return'\x3cinput type\x3d"checkbox" '+(0>d.search(/(false|f|0|no|n|off|undefined)/i)?" checked\x3d'checked' ":"")+' value\x3d"'+d+'" offval\x3d"no" '+
f+"/\x3e"};a.fn.fmatter.link=function(d,c){var e={target:c.target},f="";void 0!==c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));e.target&&(f="target\x3d"+e.target);return a.fmatter.isEmpty(d)?a.fn.fmatter.defaultFormat(d,c):"\x3ca "+f+' href\x3d"'+d+'"\x3e'+d+"\x3c/a\x3e"};a.fn.fmatter.showlink=function(d,c){var e={baseLinkUrl:c.baseLinkUrl,showAction:c.showAction,addParam:c.addParam||"",target:c.target,idName:c.idName},f="";void 0!==c.colModel&&void 0!==
c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));e.target&&(f="target\x3d"+e.target);e=e.baseLinkUrl+e.showAction+"?"+e.idName+"\x3d"+c.rowId+e.addParam;return a.fmatter.isString(d)||a.fmatter.isNumber(d)?"\x3ca "+f+' href\x3d"'+e+'"\x3e'+d+"\x3c/a\x3e":a.fn.fmatter.defaultFormat(d,c)};a.fn.fmatter.integer=function(d,c){var e=a.extend({},c.integer);void 0!==c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));return a.fmatter.isEmpty(d)?e.defaultValue:
a.fmatter.util.NumberFormat(d,e)};a.fn.fmatter.number=function(d,c){var e=a.extend({},c.number);void 0!==c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));return a.fmatter.isEmpty(d)?e.defaultValue:a.fmatter.util.NumberFormat(d,e)};a.fn.fmatter.currency=function(d,c){var e=a.extend({},c.currency);void 0!==c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));return a.fmatter.isEmpty(d)?e.defaultValue:a.fmatter.util.NumberFormat(d,
e)};a.fn.fmatter.date=function(d,c,e,f){e=a.extend({},c.date);void 0!==c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));return e.reformatAfterEdit||"edit"!==f?a.fmatter.isEmpty(d)?a.fn.fmatter.defaultFormat(d,c):a.jgrid.parseDate(e.srcformat,d,e.newformat,e):a.fn.fmatter.defaultFormat(d,c)};a.fn.fmatter.select=function(d,c){d=String(d);var e=!1,f=[],h,b;void 0!==c.colModel.formatoptions?(e=c.colModel.formatoptions.value,h=void 0===c.colModel.formatoptions.separator?
":":c.colModel.formatoptions.separator,b=void 0===c.colModel.formatoptions.delimiter?";":c.colModel.formatoptions.delimiter):void 0!==c.colModel.editoptions&&(e=c.colModel.editoptions.value,h=void 0===c.colModel.editoptions.separator?":":c.colModel.editoptions.separator,b=void 0===c.colModel.editoptions.delimiter?";":c.colModel.editoptions.delimiter);if(e){var g=!0===(null!=c.colModel.editoptions&&!0===c.colModel.editoptions.multiple)?!0:!1,k=[];g&&(k=d.split(","),k=a.map(k,function(b){return a.trim(b)}));
if(a.fmatter.isString(e)){var l=e.split(b),m=0,n;for(n=0;n<l.length;n++)if(b=l[n].split(h),2<b.length&&(b[1]=a.map(b,function(a,b){if(0<b)return a}).join(h)),g)-1<a.inArray(b[0],k)&&(f[m]=b[1],m++);else if(a.trim(b[0])===a.trim(d)){f[0]=b[1];break}}else a.fmatter.isObject(e)&&(g?f=a.map(k,function(a){return e[a]}):f[0]=e[d]||"")}d=f.join(", ");return""===d?a.fn.fmatter.defaultFormat(d,c):d};a.fn.fmatter.rowactions=function(d){var c=a(this).closest("tr.jqgrow"),e=c.attr("id"),f=a(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,
"$1"),f=a("#"+f),h=f[0],b=h.p,g=b.colModel[a.jgrid.getCellIndex(this)],k=g.frozen?a("tr#"+e+" td:eq("+a.jgrid.getCellIndex(this)+") \x3e div",f):a(this).parent(),l={extraparam:{}},m=function(b){a.isFunction(l.afterRestore)&&l.afterRestore.call(h,b);k.find("div.ui-inline-edit,div.ui-inline-del").show();k.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==g.formatoptions&&(l=a.extend(l,g.formatoptions));void 0!==b.editOptions&&(l.editOptions=b.editOptions);void 0!==b.delOptions&&(l.delOptions=
b.delOptions);c.hasClass("jqgrid-new-row")&&(l.extraparam[b.prmNames.oper]=b.prmNames.addoper);c={keys:l.keys,oneditfunc:l.onEdit,successfunc:l.onSuccess,url:l.url,extraparam:l.extraparam,aftersavefunc:function(b,c){a.isFunction(l.afterSave)&&l.afterSave.call(h,b,c);k.find("div.ui-inline-edit,div.ui-inline-del").show();k.find("div.ui-inline-save,div.ui-inline-cancel").hide()},errorfunc:l.onError,afterrestorefunc:m,restoreAfterError:l.restoreAfterError,mtype:l.mtype};switch(d){case "edit":f.jqGrid("editRow",
e,c);k.find("div.ui-inline-edit,div.ui-inline-del").hide();k.find("div.ui-inline-save,div.ui-inline-cancel").show();f.triggerHandler("jqGridAfterGridComplete");break;case "save":f.jqGrid("saveRow",e,c)&&(k.find("div.ui-inline-edit,div.ui-inline-del").show(),k.find("div.ui-inline-save,div.ui-inline-cancel").hide(),f.triggerHandler("jqGridAfterGridComplete"));break;case "cancel":f.jqGrid("restoreRow",e,m);k.find("div.ui-inline-edit,div.ui-inline-del").show();k.find("div.ui-inline-save,div.ui-inline-cancel").hide();
f.triggerHandler("jqGridAfterGridComplete");break;case "del":f.jqGrid("delGridRow",e,l.delOptions);break;case "formedit":f.jqGrid("setSelection",e),f.jqGrid("editGridRow",e,l.editOptions)}};a.fn.fmatter.actions=function(d,c){var e={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},f=c.rowId,h="";void 0!==c.colModel.formatoptions&&(e=a.extend(e,c.colModel.formatoptions));if(void 0===f||a.fmatter.isEmpty(f))return"";e.editformbutton?h+="\x3cdiv title\x3d'"+a.jgrid.nav.edittitle+"' style\x3d'float:left;cursor:pointer;' class\x3d'ui-pg-div ui-inline-edit' "+
("id\x3d'jEditButton_"+f+"' onclick\x3djQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover\x3djQuery(this).addClass('ui-state-hover'); onmouseout\x3djQuery(this).removeClass('ui-state-hover'); ")+"\x3e\x3cspan class\x3d'ui-icon ui-icon-pencil'\x3e\x3c/span\x3e\x3c/div\x3e":e.editbutton&&(h+="\x3cdiv title\x3d'"+a.jgrid.nav.edittitle+"' style\x3d'float:left;cursor:pointer;' class\x3d'ui-pg-div ui-inline-edit' "+("id\x3d'jEditButton_"+f+"' onclick\x3djQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover\x3djQuery(this).addClass('ui-state-hover'); onmouseout\x3djQuery(this).removeClass('ui-state-hover') ")+
"\x3e\x3cspan class\x3d'ui-icon ui-icon-pencil'\x3e\x3c/span\x3e\x3c/div\x3e");e.delbutton&&(h+="\x3cdiv title\x3d'"+a.jgrid.nav.deltitle+"' style\x3d'float:left;margin-left:5px;' class\x3d'ui-pg-div ui-inline-del' "+("id\x3d'jDeleteButton_"+f+"' onclick\x3djQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover\x3djQuery(this).addClass('ui-state-hover'); onmouseout\x3djQuery(this).removeClass('ui-state-hover'); ")+"\x3e\x3cspan class\x3d'ui-icon ui-icon-trash'\x3e\x3c/span\x3e\x3c/div\x3e");h+=
"\x3cdiv title\x3d'"+a.jgrid.edit.bSubmit+"' style\x3d'float:left;display:none' class\x3d'ui-pg-div ui-inline-save' "+("id\x3d'jSaveButton_"+f+"' onclick\x3djQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover\x3djQuery(this).addClass('ui-state-hover'); onmouseout\x3djQuery(this).removeClass('ui-state-hover'); ")+"\x3e\x3cspan class\x3d'ui-icon ui-icon-disk'\x3e\x3c/span\x3e\x3c/div\x3e";h+="\x3cdiv title\x3d'"+a.jgrid.edit.bCancel+"' style\x3d'float:left;display:none;margin-left:5px;' class\x3d'ui-pg-div ui-inline-cancel' "+
("id\x3d'jCancelButton_"+f+"' onclick\x3djQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover\x3djQuery(this).addClass('ui-state-hover'); onmouseout\x3djQuery(this).removeClass('ui-state-hover'); ")+"\x3e\x3cspan class\x3d'ui-icon ui-icon-cancel'\x3e\x3c/span\x3e\x3c/div\x3e";return"\x3cdiv style\x3d'margin-left:8px;'\x3e"+h+"\x3c/div\x3e"};a.unformat=function(d,c,e,f){var h,b=c.colModel.formatter,g=c.colModel.formatoptions||{},k=/([\.\*\_\'\(\)\{\}\+\?\\])/g,l=c.colModel.unformat||a.fn.fmatter[b]&&
a.fn.fmatter[b].unformat;if(void 0!==l&&a.isFunction(l))h=l.call(this,a(d).text(),c,d);else if(void 0!==b&&a.fmatter.isString(b))switch(h=a.jgrid.formatter||{},b){case "integer":g=a.extend({},h.integer,g);c=g.thousandsSeparator.replace(k,"\\$1");c=new RegExp(c,"g");h=a(d).text().replace(c,"");break;case "number":g=a.extend({},h.number,g);c=g.thousandsSeparator.replace(k,"\\$1");c=new RegExp(c,"g");h=a(d).text().replace(c,"").replace(g.decimalSeparator,".");break;case "currency":g=a.extend({},h.currency,
g);c=g.thousandsSeparator.replace(k,"\\$1");c=new RegExp(c,"g");h=a(d).text();g.prefix&&g.prefix.length&&(h=h.substr(g.prefix.length));g.suffix&&g.suffix.length&&(h=h.substr(0,h.length-g.suffix.length));h=h.replace(c,"").replace(g.decimalSeparator,".");break;case "checkbox":g=c.colModel.editoptions?c.colModel.editoptions.value.split(":"):["Yes","No"];h=a("input",d).is(":checked")?g[0]:g[1];break;case "select":h=a.unformat.select(d,c,e,f);break;case "actions":return"";default:h=a(d).text()}return void 0!==
h?h:!0===f?a(d).text():a.jgrid.htmlDecode(a(d).html())};a.unformat.select=function(d,c,e,f){e=[];d=a(d).text();if(!0===f)return d;f=a.extend({},void 0!==c.colModel.formatoptions?c.colModel.formatoptions:c.colModel.editoptions);c=void 0===f.separator?":":f.separator;var h=void 0===f.delimiter?";":f.delimiter;if(f.value){var b=f.value;f=!0===f.multiple?!0:!1;var g=[];f&&(g=d.split(","),g=a.map(g,function(b){return a.trim(b)}));if(a.fmatter.isString(b)){var k=b.split(h),l=0,m;for(m=0;m<k.length;m++)if(h=
k[m].split(c),2<h.length&&(h[1]=a.map(h,function(a,b){if(0<b)return a}).join(c)),f)-1<a.inArray(h[1],g)&&(e[l]=h[0],l++);else if(a.trim(h[1])===a.trim(d)){e[0]=h[0];break}}else if(a.fmatter.isObject(b)||a.isArray(b))f||(g[0]=d),e=a.map(g,function(c){var d;a.each(b,function(a,b){if(b===c)return d=a,!1});if(void 0!==d)return d});return e.join(", ")}return d||""};a.unformat.date=function(d,c){var e=a.jgrid.formatter.date||{};void 0!==c.formatoptions&&(e=a.extend({},e,c.formatoptions));return a.fmatter.isEmpty(d)?
a.fn.fmatter.defaultFormat(d,c):a.jgrid.parseDate(e.newformat,d,e.srcformat,e)}})(jQuery);